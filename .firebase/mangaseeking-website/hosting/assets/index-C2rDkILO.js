var Nb=Object.defineProperty;var Db=(t,e,r)=>e in t?Nb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ra=(t,e,r)=>Db(t,typeof e!="symbol"?e+"":e,r);function Lb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pm={exports:{}},Au={},Em={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function jb(){if(tw)return Le;tw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function p(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function S(H,J,he){this.props=H,this.context=J,this.refs=_,this.updater=he||f}S.prototype.isReactComponent={},S.prototype.setState=function(H,J){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,J,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=S.prototype;function R(H,J,he){this.props=H,this.context=J,this.refs=_,this.updater=he||f}var k=R.prototype=new E;k.constructor=R,v(k,S.prototype),k.isPureReactComponent=!0;var q=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function b(H,J,he){var _e,le={},Ee=null,Ie=null;if(J!=null)for(_e in J.ref!==void 0&&(Ie=J.ref),J.key!==void 0&&(Ee=""+J.key),J)F.call(J,_e)&&!C.hasOwnProperty(_e)&&(le[_e]=J[_e]);var ve=arguments.length-2;if(ve===1)le.children=he;else if(1<ve){for(var De=Array(ve),ze=0;ze<ve;ze++)De[ze]=arguments[ze+2];le.children=De}if(H&&H.defaultProps)for(_e in ve=H.defaultProps,ve)le[_e]===void 0&&(le[_e]=ve[_e]);return{$$typeof:t,type:H,key:Ee,ref:Ie,props:le,_owner:V.current}}function x(H,J){return{$$typeof:t,type:H.type,key:J,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var J={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return J[he]})}var M=/\/+/g;function D(H,J){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):J.toString(36)}function de(H,J,he,_e,le){var Ee=typeof H;(Ee==="undefined"||Ee==="boolean")&&(H=null);var Ie=!1;if(H===null)Ie=!0;else switch(Ee){case"string":case"number":Ie=!0;break;case"object":switch(H.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=H,le=le(Ie),H=_e===""?"."+D(Ie,0):_e,q(le)?(he="",H!=null&&(he=H.replace(M,"$&/")+"/"),de(le,J,he,"",function(ze){return ze})):le!=null&&(N(le)&&(le=x(le,he+(!le.key||Ie&&Ie.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+H)),J.push(le)),1;if(Ie=0,_e=_e===""?".":_e+":",q(H))for(var ve=0;ve<H.length;ve++){Ee=H[ve];var De=_e+D(Ee,ve);Ie+=de(Ee,J,he,De,le)}else if(De=p(H),typeof De=="function")for(H=De.call(H),ve=0;!(Ee=H.next()).done;)Ee=Ee.value,De=_e+D(Ee,ve++),Ie+=de(Ee,J,he,De,le);else if(Ee==="object")throw J=String(H),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ie}function fe(H,J,he){if(H==null)return H;var _e=[],le=0;return de(H,_e,"","",function(Ee){return J.call(he,Ee,le++)}),_e}function Te(H){if(H._status===-1){var J=H._result;J=J(),J.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=J)}if(H._status===1)return H._result.default;throw H._result}var ce={current:null},X={transition:null},oe={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:X,ReactCurrentOwner:V};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:fe,forEach:function(H,J,he){fe(H,function(){J.apply(this,arguments)},he)},count:function(H){var J=0;return fe(H,function(){J++}),J},toArray:function(H){return fe(H,function(J){return J})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Le.Component=S,Le.Fragment=r,Le.Profiler=i,Le.PureComponent=R,Le.StrictMode=n,Le.Suspense=u,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Le.act=ie,Le.cloneElement=function(H,J,he){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var _e=v({},H.props),le=H.key,Ee=H.ref,Ie=H._owner;if(J!=null){if(J.ref!==void 0&&(Ee=J.ref,Ie=V.current),J.key!==void 0&&(le=""+J.key),H.type&&H.type.defaultProps)var ve=H.type.defaultProps;for(De in J)F.call(J,De)&&!C.hasOwnProperty(De)&&(_e[De]=J[De]===void 0&&ve!==void 0?ve[De]:J[De])}var De=arguments.length-2;if(De===1)_e.children=he;else if(1<De){ve=Array(De);for(var ze=0;ze<De;ze++)ve[ze]=arguments[ze+2];_e.children=ve}return{$$typeof:t,type:H.type,key:le,ref:Ee,props:_e,_owner:Ie}},Le.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Le.createElement=b,Le.createFactory=function(H){var J=b.bind(null,H);return J.type=H,J},Le.createRef=function(){return{current:null}},Le.forwardRef=function(H){return{$$typeof:l,render:H}},Le.isValidElement=N,Le.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Te}},Le.memo=function(H,J){return{$$typeof:h,type:H,compare:J===void 0?null:J}},Le.startTransition=function(H){var J=X.transition;X.transition={};try{H()}finally{X.transition=J}},Le.unstable_act=ie,Le.useCallback=function(H,J){return ce.current.useCallback(H,J)},Le.useContext=function(H){return ce.current.useContext(H)},Le.useDebugValue=function(){},Le.useDeferredValue=function(H){return ce.current.useDeferredValue(H)},Le.useEffect=function(H,J){return ce.current.useEffect(H,J)},Le.useId=function(){return ce.current.useId()},Le.useImperativeHandle=function(H,J,he){return ce.current.useImperativeHandle(H,J,he)},Le.useInsertionEffect=function(H,J){return ce.current.useInsertionEffect(H,J)},Le.useLayoutEffect=function(H,J){return ce.current.useLayoutEffect(H,J)},Le.useMemo=function(H,J){return ce.current.useMemo(H,J)},Le.useReducer=function(H,J,he){return ce.current.useReducer(H,J,he)},Le.useRef=function(H){return ce.current.useRef(H)},Le.useState=function(H){return ce.current.useState(H)},Le.useSyncExternalStore=function(H,J,he){return ce.current.useSyncExternalStore(H,J,he)},Le.useTransition=function(){return ce.current.useTransition()},Le.version="18.3.1",Le}var rw;function rn(){return rw||(rw=1,Em.exports=jb()),Em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function Fb(){if(nw)return Au;nw=1;var t=rn(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,h){var g,w={},p=null,f=null;h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(f=u.ref);for(g in u)n.call(u,g)&&!a.hasOwnProperty(g)&&(w[g]=u[g]);if(l&&l.defaultProps)for(g in u=l.defaultProps,u)w[g]===void 0&&(w[g]=u[g]);return{$$typeof:e,type:l,key:p,ref:f,props:w,_owner:i.current}}return Au.Fragment=r,Au.jsx=c,Au.jsxs=c,Au}var iw;function Mb(){return iw||(iw=1,Pm.exports=Fb()),Pm.exports}var W=Mb(),B=rn();const pe=os(B),Vb=Lb({__proto__:null,default:pe},[B]);var ph={},Sm={exports:{}},ar={},Tm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function Ub(){return sw||(sw=1,function(t){function e(X,oe){var ie=X.length;X.push(oe);e:for(;0<ie;){var H=ie-1>>>1,J=X[H];if(0<i(J,oe))X[H]=oe,X[ie]=J,ie=H;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var oe=X[0],ie=X.pop();if(ie!==oe){X[0]=ie;e:for(var H=0,J=X.length,he=J>>>1;H<he;){var _e=2*(H+1)-1,le=X[_e],Ee=_e+1,Ie=X[Ee];if(0>i(le,ie))Ee<J&&0>i(Ie,le)?(X[H]=Ie,X[Ee]=ie,H=Ee):(X[H]=le,X[_e]=ie,H=_e);else if(Ee<J&&0>i(Ie,ie))X[H]=Ie,X[Ee]=ie,H=Ee;else break e}}return oe}function i(X,oe){var ie=X.sortIndex-oe.sortIndex;return ie!==0?ie:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var u=[],h=[],g=1,w=null,p=3,f=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(X){for(var oe=r(h);oe!==null;){if(oe.callback===null)n(h);else if(oe.startTime<=X)n(h),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=r(h)}}function q(X){if(_=!1,k(X),!v)if(r(u)!==null)v=!0,Te(F);else{var oe=r(h);oe!==null&&ce(q,oe.startTime-X)}}function F(X,oe){v=!1,_&&(_=!1,E(b),b=-1),f=!0;var ie=p;try{for(k(oe),w=r(u);w!==null&&(!(w.expirationTime>oe)||X&&!L());){var H=w.callback;if(typeof H=="function"){w.callback=null,p=w.priorityLevel;var J=H(w.expirationTime<=oe);oe=t.unstable_now(),typeof J=="function"?w.callback=J:w===r(u)&&n(u),k(oe)}else n(u);w=r(u)}if(w!==null)var he=!0;else{var _e=r(h);_e!==null&&ce(q,_e.startTime-oe),he=!1}return he}finally{w=null,p=ie,f=!1}}var V=!1,C=null,b=-1,x=5,N=-1;function L(){return!(t.unstable_now()-N<x)}function M(){if(C!==null){var X=t.unstable_now();N=X;var oe=!0;try{oe=C(!0,X)}finally{oe?D():(V=!1,C=null)}}else V=!1}var D;if(typeof R=="function")D=function(){R(M)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=M,D=function(){fe.postMessage(null)}}else D=function(){S(M,0)};function Te(X){C=X,V||(V=!0,D())}function ce(X,oe){b=S(function(){X(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,Te(F))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var ie=p;p=oe;try{return X()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=p;p=X;try{return oe()}finally{p=ie}},t.unstable_scheduleCallback=function(X,oe,ie){var H=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?H+ie:H):ie=H,X){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,X={id:g++,callback:oe,priorityLevel:X,startTime:ie,expirationTime:J,sortIndex:-1},ie>H?(X.sortIndex=ie,e(h,X),r(u)===null&&X===r(h)&&(_?(E(b),b=-1):_=!0,ce(q,ie-H))):(X.sortIndex=J,e(u,X),v||f||(v=!0,Te(F))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var oe=p;return function(){var ie=p;p=oe;try{return X.apply(this,arguments)}finally{p=ie}}}}(Im)),Im}var ow;function $b(){return ow||(ow=1,Tm.exports=Ub()),Tm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function Hb(){if(aw)return ar;aw=1;var t=rn(),e=$b();function r(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function p(s){return u.call(w,s)?!0:u.call(g,s)?!1:h.test(s)?w[s]=!0:(g[s]=!0,!1)}function f(s,o,d,y){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function v(s,o,d,y){if(o===null||typeof o>"u"||f(s,o,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(s,o,d,y,P,I,O){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=y,this.attributeNamespace=P,this.mustUseProperty=d,this.propertyName=s,this.type=o,this.sanitizeURL=I,this.removeEmptyString=O}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];S[o]=new _(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,R);S[o]=new _(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,R);S[o]=new _(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,R);S[o]=new _(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,o,d,y){var P=S.hasOwnProperty(o)?S[o]:null;(P!==null?P.type!==0:y||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(v(o,d,P,y)&&(d=null),y||P===null?p(o)&&(d===null?s.removeAttribute(o):s.setAttribute(o,""+d)):P.mustUseProperty?s[P.propertyName]=d===null?P.type===3?!1:"":d:(o=P.attributeName,y=P.attributeNamespace,d===null?s.removeAttribute(o):(P=P.type,d=P===3||P===4&&d===!0?"":""+d,y?s.setAttributeNS(y,o,d):s.setAttribute(o,d))))}var q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,H;function J(s){if(H===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var he=!1;function _e(s,o){if(!s||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var y=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){y=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){y=Y}s()}}catch(Y){if(Y&&y&&typeof Y.stack=="string"){for(var P=Y.stack.split(`
`),I=y.stack.split(`
`),O=P.length-1,U=I.length-1;1<=O&&0<=U&&P[O]!==I[U];)U--;for(;1<=O&&0<=U;O--,U--)if(P[O]!==I[U]){if(O!==1||U!==1)do if(O--,U--,0>U||P[O]!==I[U]){var $=`
`+P[O].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=O&&0<=U);break}}}finally{he=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?J(s):""}function le(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case V:return"Portal";case x:return"Profiler";case b:return"StrictMode";case D:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fe:return o=s.displayName||null,o!==null?o:Ee(s.type)||"Memo";case Te:o=s._payload,s=s._init;try{return Ee(s(o))}catch{}}return null}function Ie(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ze(s){var o=De(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),y=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var P=d.get,I=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return P.call(this)},set:function(O){y=""+O,I.call(this,O)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Zt(s){s._valueTracker||(s._valueTracker=ze(s))}function lo(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),y="";return s&&(y=De(s)?s.checked?"true":"false":s.value),s=y,s!==d?(o.setValue(s),!0):!1}function gi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ls(s,o){var d=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function co(s,o){var d=o.defaultValue==null?"":o.defaultValue,y=o.checked!=null?o.checked:o.defaultChecked;d=ve(o.value!=null?o.value:d),s._wrapperState={initialChecked:y,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Da(s,o){o=o.checked,o!=null&&k(s,"checked",o,!1)}function La(s,o){Da(s,o);var d=ve(o.value),y=o.type;if(d!=null)y==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(y==="submit"||y==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ho(s,o.type,d):o.hasOwnProperty("defaultValue")&&ho(s,o.type,ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Zl(s,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var y=o.type;if(!(y!=="submit"&&y!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,d||o===s.value||(s.value=o),s.defaultValue=o}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function ho(s,o,d){(o!=="number"||gi(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var qn=Array.isArray;function Nn(s,o,d,y){if(s=s.options,o){o={};for(var P=0;P<d.length;P++)o["$"+d[P]]=!0;for(d=0;d<s.length;d++)P=o.hasOwnProperty("$"+s[d].value),s[d].selected!==P&&(s[d].selected=P),P&&y&&(s[d].defaultSelected=!0)}else{for(d=""+ve(d),o=null,P=0;P<s.length;P++){if(s[P].value===d){s[P].selected=!0,y&&(s[P].defaultSelected=!0);return}o!==null||s[P].disabled||(o=s[P])}o!==null&&(o.selected=!0)}}function ja(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fo(s,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(qn(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}s._wrapperState={initialValue:ve(d)}}function mo(s,o){var d=ve(o.value),y=ve(o.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),o.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),y!=null&&(s.defaultValue=""+y)}function Fa(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function wt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?wt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Dn,Ma=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,y,P){MSApp.execUnsafeLocalFunction(function(){return s(o,d,y,P)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function yi(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(s){hs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),cs[o]=cs[s]})});function Va(s,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||cs.hasOwnProperty(s)&&cs[s]?(""+o).trim():o+"px"}function Ua(s,o){s=s.style;for(var d in o)if(o.hasOwnProperty(d)){var y=d.indexOf("--")===0,P=Va(d,o[d],y);d==="float"&&(d="cssFloat"),y?s.setProperty(d,P):s[d]=P}}var $a=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(s,o){if(o){if($a[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Ba(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function po(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var go=null,Sr=null,on=null;function yo(s){if(s=mu(s)){if(typeof go!="function")throw Error(r(280));var o=s.stateNode;o&&(o=Ac(o),go(s.stateNode,s.type,o))}}function an(s){Sr?on?on.push(s):on=[s]:Sr=s}function za(){if(Sr){var s=Sr,o=on;if(on=Sr=null,yo(s),o)for(s=0;s<o.length;s++)yo(o[s])}}function fs(s,o){return s(o)}function Wa(){}var Ln=!1;function Ga(s,o,d){if(Ln)return s(o,d);Ln=!0;try{return fs(s,o,d)}finally{Ln=!1,(Sr!==null||on!==null)&&(Wa(),za())}}function ft(s,o){var d=s.stateNode;if(d===null)return null;var y=Ac(d);if(y===null)return null;d=y[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var vo=!1;if(l)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){vo=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{vo=!1}function ms(s,o,d,y,P,I,O,U,$){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(d,Y)}catch(re){this.onError(re)}}var ps=!1,wo=null,Fr=!1,Qa=null,Qd={onError:function(s){ps=!0,wo=s}};function _o(s,o,d,y,P,I,O,U,$){ps=!1,wo=null,ms.apply(Qd,arguments)}function ec(s,o,d,y,P,I,O,U,$){if(_o.apply(this,arguments),ps){if(ps){var Y=wo;ps=!1,wo=null}else throw Error(r(198));Fr||(Fr=!0,Qa=Y)}}function Mr(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function gs(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Vr(s){if(Mr(s)!==s)throw Error(r(188))}function tc(s){var o=s.alternate;if(!o){if(o=Mr(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,y=o;;){var P=d.return;if(P===null)break;var I=P.alternate;if(I===null){if(y=P.return,y!==null){d=y;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===d)return Vr(P),s;if(I===y)return Vr(P),o;I=I.sibling}throw Error(r(188))}if(d.return!==y.return)d=P,y=I;else{for(var O=!1,U=P.child;U;){if(U===d){O=!0,d=P,y=I;break}if(U===y){O=!0,y=P,d=I;break}U=U.sibling}if(!O){for(U=I.child;U;){if(U===d){O=!0,d=I,y=P;break}if(U===y){O=!0,y=I,d=P;break}U=U.sibling}if(!O)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function Ka(s){return s=tc(s),s!==null?Po(s):null}function Po(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Po(s);if(o!==null)return o;s=s.sibling}return null}var Eo=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,rc=e.unstable_shouldYield,Kd=e.unstable_requestPaint,et=e.unstable_now,nc=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Tr=e.unstable_NormalPriority,Xa=e.unstable_LowPriority,ic=e.unstable_IdlePriority,vs=null,dr=null;function sc(s){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(vs,s,void 0,(s.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:ac,Ja=Math.log,oc=Math.LN2;function ac(s){return s>>>=0,s===0?32:31-(Ja(s)/oc|0)|0}var So=64,To=4194304;function wi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ws(s,o){var d=s.pendingLanes;if(d===0)return 0;var y=0,P=s.suspendedLanes,I=s.pingedLanes,O=d&268435455;if(O!==0){var U=O&~P;U!==0?y=wi(U):(I&=O,I!==0&&(y=wi(I)))}else O=d&~P,O!==0?y=wi(O):I!==0&&(y=wi(I));if(y===0)return 0;if(o!==0&&o!==y&&!(o&P)&&(P=y&-y,I=o&-o,P>=I||P===16&&(I&4194240)!==0))return o;if(y&4&&(y|=d&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=y;0<o;)d=31-Gt(o),P=1<<d,y|=s[d],o&=~P;return y}function Yd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(s,o){for(var d=s.suspendedLanes,y=s.pingedLanes,P=s.expirationTimes,I=s.pendingLanes;0<I;){var O=31-Gt(I),U=1<<O,$=P[O];$===-1?(!(U&d)||U&y)&&(P[O]=Yd(U,o)):$<=o&&(s.expiredLanes|=U),I&=~U}}function fr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _s(){var s=So;return So<<=1,!(So&4194240)&&(So=64),s}function _i(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function Pi(s,o,d){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Gt(o),s[o]=d}function Je(s,o){var d=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var y=s.eventTimes;for(s=s.expirationTimes;0<d;){var P=31-Gt(d),I=1<<P;o[P]=0,y[P]=-1,s[P]=-1,d&=~I}}function Ei(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var y=31-Gt(d),P=1<<y;P&o|s[y]&o&&(s[y]|=o),d&=~P}}var Ve=0;function Si(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var uc,Io,lc,cc,hc,Za=!1,un=[],Ot=null,Ur=null,$r=null,Ti=new Map,Ir=new Map,ln=[],Xd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(s,o){switch(s){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ti.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(o.pointerId)}}function er(s,o,d,y,P,I){return s===null||s.nativeEvent!==I?(s={blockedOn:o,domEventName:d,eventSystemFlags:y,nativeEvent:I,targetContainers:[P]},o!==null&&(o=mu(o),o!==null&&Io(o)),s):(s.eventSystemFlags|=y,o=s.targetContainers,P!==null&&o.indexOf(P)===-1&&o.push(P),s)}function Jd(s,o,d,y,P){switch(o){case"focusin":return Ot=er(Ot,s,o,d,y,P),!0;case"dragenter":return Ur=er(Ur,s,o,d,y,P),!0;case"mouseover":return $r=er($r,s,o,d,y,P),!0;case"pointerover":var I=P.pointerId;return Ti.set(I,er(Ti.get(I)||null,s,o,d,y,P)),!0;case"gotpointercapture":return I=P.pointerId,Ir.set(I,er(Ir.get(I)||null,s,o,d,y,P)),!0}return!1}function fc(s){var o=Is(s.target);if(o!==null){var d=Mr(o);if(d!==null){if(o=d.tag,o===13){if(o=gs(d),o!==null){s.blockedOn=o,hc(s.priority,function(){lc(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fn(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=Ro(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var y=new d.constructor(d.type,d);ds=y,d.target.dispatchEvent(y),ds=null}else return o=mu(d),o!==null&&Io(o),s.blockedOn=d,!1;o.shift()}return!0}function Ps(s,o,d){Fn(s)&&d.delete(o)}function mc(){Za=!1,Ot!==null&&Fn(Ot)&&(Ot=null),Ur!==null&&Fn(Ur)&&(Ur=null),$r!==null&&Fn($r)&&($r=null),Ti.forEach(Ps),Ir.forEach(Ps)}function Hr(s,o){s.blockedOn===o&&(s.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mc)))}function Br(s){function o(P){return Hr(P,s)}if(0<un.length){Hr(un[0],s);for(var d=1;d<un.length;d++){var y=un[d];y.blockedOn===s&&(y.blockedOn=null)}}for(Ot!==null&&Hr(Ot,s),Ur!==null&&Hr(Ur,s),$r!==null&&Hr($r,s),Ti.forEach(o),Ir.forEach(o),d=0;d<ln.length;d++)y=ln[d],y.blockedOn===s&&(y.blockedOn=null);for(;0<ln.length&&(d=ln[0],d.blockedOn===null);)fc(d),d.blockedOn===null&&ln.shift()}var Mn=q.ReactCurrentBatchConfig,Ii=!0;function it(s,o,d,y){var P=Ve,I=Mn.transition;Mn.transition=null;try{Ve=1,eu(s,o,d,y)}finally{Ve=P,Mn.transition=I}}function Zd(s,o,d,y){var P=Ve,I=Mn.transition;Mn.transition=null;try{Ve=4,eu(s,o,d,y)}finally{Ve=P,Mn.transition=I}}function eu(s,o,d,y){if(Ii){var P=Ro(s,o,d,y);if(P===null)hf(s,o,y,Es,d),dc(s,y);else if(Jd(P,s,o,d,y))y.stopPropagation();else if(dc(s,y),o&4&&-1<Xd.indexOf(s)){for(;P!==null;){var I=mu(P);if(I!==null&&uc(I),I=Ro(s,o,d,y),I===null&&hf(s,o,y,Es,d),I===P)break;P=I}P!==null&&y.stopPropagation()}else hf(s,o,y,null,d)}}var Es=null;function Ro(s,o,d,y){if(Es=null,s=po(y),s=Is(s),s!==null)if(o=Mr(s),o===null)s=null;else if(d=o.tag,d===13){if(s=gs(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Es=s,null}function tu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case ys:return 1;case vi:return 4;case Tr:case Xa:return 16;case ic:return 536870912;default:return 16}default:return 16}}var mr=null,bo=null,tr=null;function ru(){if(tr)return tr;var s,o=bo,d=o.length,y,P="value"in mr?mr.value:mr.textContent,I=P.length;for(s=0;s<d&&o[s]===P[s];s++);var O=d-s;for(y=1;y<=O&&o[d-y]===P[I-y];y++);return tr=P.slice(s,1<y?1-y:void 0)}function Co(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function cn(){return!0}function nu(){return!1}function qt(s){function o(d,y,P,I,O){this._reactName=d,this._targetInst=P,this.type=y,this.nativeEvent=I,this.target=O,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(d=s[U],this[U]=d?d(I):I[U]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?cn:nu,this.isPropagationStopped=nu,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),o}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=qt(zr),hn=ie({},zr,{view:0,detail:0}),ef=qt(hn),xo,Vn,Ri,Ss=ie({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(xo=s.screenX-Ri.screenX,Vn=s.screenY-Ri.screenY):Vn=xo=0,Ri=s),xo)},movementY:function(s){return"movementY"in s?s.movementY:Vn}}),ko=qt(Ss),iu=ie({},Ss,{dataTransfer:0}),pc=qt(iu),Oo=ie({},hn,{relatedTarget:0}),qo=qt(Oo),gc=ie({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Un=qt(gc),yc=ie({},zr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vc=qt(yc),wc=ie({},zr,{data:0}),su=qt(wc),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_c[s])?!!o[s]:!1}function dn(){return Pc}var m=ie({},hn,{key:function(s){if(s.key){var o=No[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Co(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Qt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dn,charCode:function(s){return s.type==="keypress"?Co(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Co(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=qt(m),A=ie({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=qt(A),G=ie({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dn}),Z=qt(G),ue=ie({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=qt(ue),Pt=ie({},Ss,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),He=qt(Pt),bt=[9,13,27,32],gt=l&&"CompositionEvent"in window,Rr=null;l&&"documentMode"in document&&(Rr=document.documentMode);var pr=l&&"TextEvent"in window&&!Rr,Ts=l&&(!gt||Rr&&8<Rr&&11>=Rr),Do=" ",Ky=!1;function Yy(s,o){switch(s){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function kR(s,o){switch(s){case"compositionend":return Xy(o);case"keypress":return o.which!==32?null:(Ky=!0,Do);case"textInput":return s=o.data,s===Do&&Ky?null:s;default:return null}}function OR(s,o){if(Lo)return s==="compositionend"||!gt&&Yy(s,o)?(s=ru(),tr=bo=mr=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ts&&o.locale!=="ko"?null:o.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!qR[s.type]:o==="textarea"}function Zy(s,o,d,y){an(y),o=Rc(o,"onChange"),0<o.length&&(d=new Ao("onChange","change",null,d,y),s.push({event:d,listeners:o}))}var ou=null,au=null;function NR(s){yv(s,0)}function Ec(s){var o=Uo(s);if(lo(o))return s}function DR(s,o){if(s==="change")return o}var ev=!1;if(l){var tf;if(l){var rf="oninput"in document;if(!rf){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),rf=typeof tv.oninput=="function"}tf=rf}else tf=!1;ev=tf&&(!document.documentMode||9<document.documentMode)}function rv(){ou&&(ou.detachEvent("onpropertychange",nv),au=ou=null)}function nv(s){if(s.propertyName==="value"&&Ec(au)){var o=[];Zy(o,au,s,po(s)),Ga(NR,o)}}function LR(s,o,d){s==="focusin"?(rv(),ou=o,au=d,ou.attachEvent("onpropertychange",nv)):s==="focusout"&&rv()}function jR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ec(au)}function FR(s,o){if(s==="click")return Ec(o)}function MR(s,o){if(s==="input"||s==="change")return Ec(o)}function VR(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Wr=typeof Object.is=="function"?Object.is:VR;function uu(s,o){if(Wr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),y=Object.keys(o);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var P=d[y];if(!u.call(o,P)||!Wr(s[P],o[P]))return!1}return!0}function iv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sv(s,o){var d=iv(s);s=0;for(var y;d;){if(d.nodeType===3){if(y=s+d.textContent.length,s<=o&&y>=o)return{node:d,offset:o-s};s=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=iv(d)}}function ov(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?ov(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function av(){for(var s=window,o=gi();o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=gi(s.document)}return o}function nf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function UR(s){var o=av(),d=s.focusedElem,y=s.selectionRange;if(o!==d&&d&&d.ownerDocument&&ov(d.ownerDocument.documentElement,d)){if(y!==null&&nf(d)){if(o=y.start,s=y.end,s===void 0&&(s=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(s,d.value.length);else if(s=(o=d.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var P=d.textContent.length,I=Math.min(y.start,P);y=y.end===void 0?I:Math.min(y.end,P),!s.extend&&I>y&&(P=y,y=I,I=P),P=sv(d,I);var O=sv(d,y);P&&O&&(s.rangeCount!==1||s.anchorNode!==P.node||s.anchorOffset!==P.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(o=o.createRange(),o.setStart(P.node,P.offset),s.removeAllRanges(),I>y?(s.addRange(o),s.extend(O.node,O.offset)):(o.setEnd(O.node,O.offset),s.addRange(o)))}}for(o=[],s=d;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)s=o[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $R=l&&"documentMode"in document&&11>=document.documentMode,jo=null,sf=null,lu=null,of=!1;function uv(s,o,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;of||jo==null||jo!==gi(y)||(y=jo,"selectionStart"in y&&nf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),lu&&uu(lu,y)||(lu=y,y=Rc(sf,"onSelect"),0<y.length&&(o=new Ao("onSelect","select",null,o,d),s.push({event:o,listeners:y}),o.target=jo)))}function Sc(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var Fo={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},af={},lv={};l&&(lv=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Tc(s){if(af[s])return af[s];if(!Fo[s])return s;var o=Fo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in lv)return af[s]=o[d];return s}var cv=Tc("animationend"),hv=Tc("animationiteration"),dv=Tc("animationstart"),fv=Tc("transitionend"),mv=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(s,o){mv.set(s,o),a(o,[s])}for(var uf=0;uf<pv.length;uf++){var lf=pv[uf],HR=lf.toLowerCase(),BR=lf[0].toUpperCase()+lf.slice(1);bi(HR,"on"+BR)}bi(cv,"onAnimationEnd"),bi(hv,"onAnimationIteration"),bi(dv,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(fv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function gv(s,o,d){var y=s.type||"unknown-event";s.currentTarget=d,ec(y,o,void 0,s),s.currentTarget=null}function yv(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var y=s[d],P=y.event;y=y.listeners;e:{var I=void 0;if(o)for(var O=y.length-1;0<=O;O--){var U=y[O],$=U.instance,Y=U.currentTarget;if(U=U.listener,$!==I&&P.isPropagationStopped())break e;gv(P,U,Y),I=$}else for(O=0;O<y.length;O++){if(U=y[O],$=U.instance,Y=U.currentTarget,U=U.listener,$!==I&&P.isPropagationStopped())break e;gv(P,U,Y),I=$}}}if(Fr)throw s=Qa,Fr=!1,Qa=null,s}function rt(s,o){var d=o[yf];d===void 0&&(d=o[yf]=new Set);var y=s+"__bubble";d.has(y)||(vv(o,s,2,!1),d.add(y))}function cf(s,o,d){var y=0;o&&(y|=4),vv(d,s,y,o)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function hu(s){if(!s[Ic]){s[Ic]=!0,n.forEach(function(d){d!=="selectionchange"&&(zR.has(d)||cf(d,!1,s),cf(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ic]||(o[Ic]=!0,cf("selectionchange",!1,o))}}function vv(s,o,d,y){switch(tu(o)){case 1:var P=it;break;case 4:P=Zd;break;default:P=eu}d=P.bind(null,o,d,s),P=void 0,!vo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(P=!0),y?P!==void 0?s.addEventListener(o,d,{capture:!0,passive:P}):s.addEventListener(o,d,!0):P!==void 0?s.addEventListener(o,d,{passive:P}):s.addEventListener(o,d,!1)}function hf(s,o,d,y,P){var I=y;if(!(o&1)&&!(o&2)&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var U=y.stateNode.containerInfo;if(U===P||U.nodeType===8&&U.parentNode===P)break;if(O===4)for(O=y.return;O!==null;){var $=O.tag;if(($===3||$===4)&&($=O.stateNode.containerInfo,$===P||$.nodeType===8&&$.parentNode===P))return;O=O.return}for(;U!==null;){if(O=Is(U),O===null)return;if($=O.tag,$===5||$===6){y=I=O;continue e}U=U.parentNode}}y=y.return}Ga(function(){var Y=I,re=po(d),se=[];e:{var te=mv.get(s);if(te!==void 0){var me=Ao,we=s;switch(s){case"keypress":if(Co(d)===0)break e;case"keydown":case"keyup":me=T;break;case"focusin":we="focus",me=qo;break;case"focusout":we="blur",me=qo;break;case"beforeblur":case"afterblur":me=qo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Z;break;case cv:case hv:case dv:me=Un;break;case fv:me=Ye;break;case"scroll":me=ef;break;case"wheel":me=He;break;case"copy":case"cut":case"paste":me=vc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=j}var Pe=(o&4)!==0,mt=!Pe&&s==="scroll",Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var z=Y,K;z!==null;){K=z;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,Q!==null&&(ae=ft(z,Q),ae!=null&&Pe.push(du(z,ae,K)))),mt)break;z=z.return}0<Pe.length&&(te=new me(te,we,null,d,re),se.push({event:te,listeners:Pe}))}}if(!(o&7)){e:{if(te=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",te&&d!==ds&&(we=d.relatedTarget||d.fromElement)&&(Is(we)||we[$n]))break e;if((me||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,me?(we=d.relatedTarget||d.toElement,me=Y,we=we?Is(we):null,we!==null&&(mt=Mr(we),we!==mt||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=Y),me!==we)){if(Pe=ko,ae="onMouseLeave",Q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=j,ae="onPointerLeave",Q="onPointerEnter",z="pointer"),mt=me==null?te:Uo(me),K=we==null?te:Uo(we),te=new Pe(ae,z+"leave",me,d,re),te.target=mt,te.relatedTarget=K,ae=null,Is(re)===Y&&(Pe=new Pe(Q,z+"enter",we,d,re),Pe.target=K,Pe.relatedTarget=mt,ae=Pe),mt=ae,me&&we)t:{for(Pe=me,Q=we,z=0,K=Pe;K;K=Mo(K))z++;for(K=0,ae=Q;ae;ae=Mo(ae))K++;for(;0<z-K;)Pe=Mo(Pe),z--;for(;0<K-z;)Q=Mo(Q),K--;for(;z--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=Mo(Pe),Q=Mo(Q)}Pe=null}else Pe=null;me!==null&&wv(se,te,me,Pe,!1),we!==null&&mt!==null&&wv(se,mt,we,Pe,!0)}}e:{if(te=Y?Uo(Y):window,me=te.nodeName&&te.nodeName.toLowerCase(),me==="select"||me==="input"&&te.type==="file")var Se=DR;else if(Jy(te))if(ev)Se=MR;else{Se=jR;var be=LR}else(me=te.nodeName)&&me.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Se=FR);if(Se&&(Se=Se(s,Y))){Zy(se,Se,d,re);break e}be&&be(s,te,Y),s==="focusout"&&(be=te._wrapperState)&&be.controlled&&te.type==="number"&&ho(te,"number",te.value)}switch(be=Y?Uo(Y):window,s){case"focusin":(Jy(be)||be.contentEditable==="true")&&(jo=be,sf=Y,lu=null);break;case"focusout":lu=sf=jo=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,uv(se,d,re);break;case"selectionchange":if($R)break;case"keydown":case"keyup":uv(se,d,re)}var Ce;if(gt)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Lo?Yy(s,d)&&(ke="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(ke="onCompositionStart");ke&&(Ts&&d.locale!=="ko"&&(Lo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Lo&&(Ce=ru()):(mr=re,bo="value"in mr?mr.value:mr.textContent,Lo=!0)),be=Rc(Y,ke),0<be.length&&(ke=new su(ke,s,null,d,re),se.push({event:ke,listeners:be}),Ce?ke.data=Ce:(Ce=Xy(d),Ce!==null&&(ke.data=Ce)))),(Ce=pr?kR(s,d):OR(s,d))&&(Y=Rc(Y,"onBeforeInput"),0<Y.length&&(re=new su("onBeforeInput","beforeinput",null,d,re),se.push({event:re,listeners:Y}),re.data=Ce))}yv(se,o)})}function du(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Rc(s,o){for(var d=o+"Capture",y=[];s!==null;){var P=s,I=P.stateNode;P.tag===5&&I!==null&&(P=I,I=ft(s,d),I!=null&&y.unshift(du(s,I,P)),I=ft(s,o),I!=null&&y.push(du(s,I,P))),s=s.return}return y}function Mo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wv(s,o,d,y,P){for(var I=o._reactName,O=[];d!==null&&d!==y;){var U=d,$=U.alternate,Y=U.stateNode;if($!==null&&$===y)break;U.tag===5&&Y!==null&&(U=Y,P?($=ft(d,I),$!=null&&O.unshift(du(d,$,U))):P||($=ft(d,I),$!=null&&O.push(du(d,$,U)))),d=d.return}O.length!==0&&s.push({event:o,listeners:O})}var WR=/\r\n?/g,GR=/\u0000|\uFFFD/g;function _v(s){return(typeof s=="string"?s:""+s).replace(WR,`
`).replace(GR,"")}function bc(s,o,d){if(o=_v(o),_v(s)!==o&&d)throw Error(r(425))}function Cc(){}var df=null,ff=null;function mf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,QR=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(s){return Pv.resolve(null).then(s).catch(YR)}:pf;function YR(s){setTimeout(function(){throw s})}function gf(s,o){var d=o,y=0;do{var P=d.nextSibling;if(s.removeChild(d),P&&P.nodeType===8)if(d=P.data,d==="/$"){if(y===0){s.removeChild(P),Br(o);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=P}while(d);Br(o)}function Ci(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ev(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),fn="__reactFiber$"+Vo,fu="__reactProps$"+Vo,$n="__reactContainer$"+Vo,yf="__reactEvents$"+Vo,XR="__reactListeners$"+Vo,JR="__reactHandles$"+Vo;function Is(s){var o=s[fn];if(o)return o;for(var d=s.parentNode;d;){if(o=d[$n]||d[fn]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=Ev(s);s!==null;){if(d=s[fn])return d;s=Ev(s)}return o}s=d,d=s.parentNode}return null}function mu(s){return s=s[fn]||s[$n],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Uo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Ac(s){return s[fu]||null}var vf=[],$o=-1;function Ai(s){return{current:s}}function nt(s){0>$o||(s.current=vf[$o],vf[$o]=null,$o--)}function tt(s,o){$o++,vf[$o]=s.current,s.current=o}var xi={},Mt=Ai(xi),rr=Ai(!1),Rs=xi;function Ho(s,o){var d=s.type.contextTypes;if(!d)return xi;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===o)return y.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in d)P[I]=o[I];return y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=P),P}function nr(s){return s=s.childContextTypes,s!=null}function xc(){nt(rr),nt(Mt)}function Sv(s,o,d){if(Mt.current!==xi)throw Error(r(168));tt(Mt,o),tt(rr,d)}function Tv(s,o,d){var y=s.stateNode;if(o=o.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var P in y)if(!(P in o))throw Error(r(108,Ie(s)||"Unknown",P));return ie({},d,y)}function kc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||xi,Rs=Mt.current,tt(Mt,s),tt(rr,rr.current),!0}function Iv(s,o,d){var y=s.stateNode;if(!y)throw Error(r(169));d?(s=Tv(s,o,Rs),y.__reactInternalMemoizedMergedChildContext=s,nt(rr),nt(Mt),tt(Mt,s)):nt(rr),tt(rr,d)}var Hn=null,Oc=!1,wf=!1;function Rv(s){Hn===null?Hn=[s]:Hn.push(s)}function ZR(s){Oc=!0,Rv(s)}function ki(){if(!wf&&Hn!==null){wf=!0;var s=0,o=Ve;try{var d=Hn;for(Ve=1;s<d.length;s++){var y=d[s];do y=y(!0);while(y!==null)}Hn=null,Oc=!1}catch(P){throw Hn!==null&&(Hn=Hn.slice(s+1)),Eo(ys,ki),P}finally{Ve=o,wf=!1}}return null}var Bo=[],zo=0,qc=null,Nc=0,br=[],Cr=0,bs=null,Bn=1,zn="";function Cs(s,o){Bo[zo++]=Nc,Bo[zo++]=qc,qc=s,Nc=o}function bv(s,o,d){br[Cr++]=Bn,br[Cr++]=zn,br[Cr++]=bs,bs=s;var y=Bn;s=zn;var P=32-Gt(y)-1;y&=~(1<<P),d+=1;var I=32-Gt(o)+P;if(30<I){var O=P-P%5;I=(y&(1<<O)-1).toString(32),y>>=O,P-=O,Bn=1<<32-Gt(o)+P|d<<P|y,zn=I+s}else Bn=1<<I|d<<P|y,zn=s}function _f(s){s.return!==null&&(Cs(s,1),bv(s,1,0))}function Pf(s){for(;s===qc;)qc=Bo[--zo],Bo[zo]=null,Nc=Bo[--zo],Bo[zo]=null;for(;s===bs;)bs=br[--Cr],br[Cr]=null,zn=br[--Cr],br[Cr]=null,Bn=br[--Cr],br[Cr]=null}var gr=null,yr=null,st=!1,Gr=null;function Cv(s,o){var d=Or(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=s,o=s.deletions,o===null?(s.deletions=[d],s.flags|=16):o.push(d)}function Av(s,o){switch(s.tag){case 5:var d=s.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,gr=s,yr=Ci(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,gr=s,yr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=bs!==null?{id:Bn,overflow:zn}:null,s.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Or(18,null,null,0),d.stateNode=o,d.return=s,s.child=d,gr=s,yr=null,!0):!1;default:return!1}}function Ef(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sf(s){if(st){var o=yr;if(o){var d=o;if(!Av(s,o)){if(Ef(s))throw Error(r(418));o=Ci(d.nextSibling);var y=gr;o&&Av(s,o)?Cv(y,d):(s.flags=s.flags&-4097|2,st=!1,gr=s)}}else{if(Ef(s))throw Error(r(418));s.flags=s.flags&-4097|2,st=!1,gr=s}}}function xv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gr=s}function Dc(s){if(s!==gr)return!1;if(!st)return xv(s),st=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!mf(s.type,s.memoizedProps)),o&&(o=yr)){if(Ef(s))throw kv(),Error(r(418));for(;o;)Cv(s,o),o=Ci(o.nextSibling)}if(xv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(o===0){yr=Ci(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}s=s.nextSibling}yr=null}}else yr=gr?Ci(s.stateNode.nextSibling):null;return!0}function kv(){for(var s=yr;s;)s=Ci(s.nextSibling)}function Wo(){yr=gr=null,st=!1}function Tf(s){Gr===null?Gr=[s]:Gr.push(s)}var eb=q.ReactCurrentBatchConfig;function pu(s,o,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var y=d.stateNode}if(!y)throw Error(r(147,s));var P=y,I=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===I?o.ref:(o=function(O){var U=P.refs;O===null?delete U[I]:U[I]=O},o._stringRef=I,o)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function Lc(s,o){throw s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ov(s){var o=s._init;return o(s._payload)}function qv(s){function o(Q,z){if(s){var K=Q.deletions;K===null?(Q.deletions=[z],Q.flags|=16):K.push(z)}}function d(Q,z){if(!s)return null;for(;z!==null;)o(Q,z),z=z.sibling;return null}function y(Q,z){for(Q=new Map;z!==null;)z.key!==null?Q.set(z.key,z):Q.set(z.index,z),z=z.sibling;return Q}function P(Q,z){return Q=Mi(Q,z),Q.index=0,Q.sibling=null,Q}function I(Q,z,K){return Q.index=K,s?(K=Q.alternate,K!==null?(K=K.index,K<z?(Q.flags|=2,z):K):(Q.flags|=2,z)):(Q.flags|=1048576,z)}function O(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function U(Q,z,K,ae){return z===null||z.tag!==6?(z=pm(K,Q.mode,ae),z.return=Q,z):(z=P(z,K),z.return=Q,z)}function $(Q,z,K,ae){var Se=K.type;return Se===C?re(Q,z,K.props.children,ae,K.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Te&&Ov(Se)===z.type)?(ae=P(z,K.props),ae.ref=pu(Q,z,K),ae.return=Q,ae):(ae=oh(K.type,K.key,K.props,null,Q.mode,ae),ae.ref=pu(Q,z,K),ae.return=Q,ae)}function Y(Q,z,K,ae){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=gm(K,Q.mode,ae),z.return=Q,z):(z=P(z,K.children||[]),z.return=Q,z)}function re(Q,z,K,ae,Se){return z===null||z.tag!==7?(z=Ls(K,Q.mode,ae,Se),z.return=Q,z):(z=P(z,K),z.return=Q,z)}function se(Q,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=pm(""+z,Q.mode,K),z.return=Q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return K=oh(z.type,z.key,z.props,null,Q.mode,K),K.ref=pu(Q,null,z),K.return=Q,K;case V:return z=gm(z,Q.mode,K),z.return=Q,z;case Te:var ae=z._init;return se(Q,ae(z._payload),K)}if(qn(z)||oe(z))return z=Ls(z,Q.mode,K,null),z.return=Q,z;Lc(Q,z)}return null}function te(Q,z,K,ae){var Se=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Se!==null?null:U(Q,z,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return K.key===Se?$(Q,z,K,ae):null;case V:return K.key===Se?Y(Q,z,K,ae):null;case Te:return Se=K._init,te(Q,z,Se(K._payload),ae)}if(qn(K)||oe(K))return Se!==null?null:re(Q,z,K,ae,null);Lc(Q,K)}return null}function me(Q,z,K,ae,Se){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Q=Q.get(K)||null,U(z,Q,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case F:return Q=Q.get(ae.key===null?K:ae.key)||null,$(z,Q,ae,Se);case V:return Q=Q.get(ae.key===null?K:ae.key)||null,Y(z,Q,ae,Se);case Te:var be=ae._init;return me(Q,z,K,be(ae._payload),Se)}if(qn(ae)||oe(ae))return Q=Q.get(K)||null,re(z,Q,ae,Se,null);Lc(z,ae)}return null}function we(Q,z,K,ae){for(var Se=null,be=null,Ce=z,ke=z=0,xt=null;Ce!==null&&ke<K.length;ke++){Ce.index>ke?(xt=Ce,Ce=null):xt=Ce.sibling;var Ge=te(Q,Ce,K[ke],ae);if(Ge===null){Ce===null&&(Ce=xt);break}s&&Ce&&Ge.alternate===null&&o(Q,Ce),z=I(Ge,z,ke),be===null?Se=Ge:be.sibling=Ge,be=Ge,Ce=xt}if(ke===K.length)return d(Q,Ce),st&&Cs(Q,ke),Se;if(Ce===null){for(;ke<K.length;ke++)Ce=se(Q,K[ke],ae),Ce!==null&&(z=I(Ce,z,ke),be===null?Se=Ce:be.sibling=Ce,be=Ce);return st&&Cs(Q,ke),Se}for(Ce=y(Q,Ce);ke<K.length;ke++)xt=me(Ce,Q,ke,K[ke],ae),xt!==null&&(s&&xt.alternate!==null&&Ce.delete(xt.key===null?ke:xt.key),z=I(xt,z,ke),be===null?Se=xt:be.sibling=xt,be=xt);return s&&Ce.forEach(function(Vi){return o(Q,Vi)}),st&&Cs(Q,ke),Se}function Pe(Q,z,K,ae){var Se=oe(K);if(typeof Se!="function")throw Error(r(150));if(K=Se.call(K),K==null)throw Error(r(151));for(var be=Se=null,Ce=z,ke=z=0,xt=null,Ge=K.next();Ce!==null&&!Ge.done;ke++,Ge=K.next()){Ce.index>ke?(xt=Ce,Ce=null):xt=Ce.sibling;var Vi=te(Q,Ce,Ge.value,ae);if(Vi===null){Ce===null&&(Ce=xt);break}s&&Ce&&Vi.alternate===null&&o(Q,Ce),z=I(Vi,z,ke),be===null?Se=Vi:be.sibling=Vi,be=Vi,Ce=xt}if(Ge.done)return d(Q,Ce),st&&Cs(Q,ke),Se;if(Ce===null){for(;!Ge.done;ke++,Ge=K.next())Ge=se(Q,Ge.value,ae),Ge!==null&&(z=I(Ge,z,ke),be===null?Se=Ge:be.sibling=Ge,be=Ge);return st&&Cs(Q,ke),Se}for(Ce=y(Q,Ce);!Ge.done;ke++,Ge=K.next())Ge=me(Ce,Q,ke,Ge.value,ae),Ge!==null&&(s&&Ge.alternate!==null&&Ce.delete(Ge.key===null?ke:Ge.key),z=I(Ge,z,ke),be===null?Se=Ge:be.sibling=Ge,be=Ge);return s&&Ce.forEach(function(qb){return o(Q,qb)}),st&&Cs(Q,ke),Se}function mt(Q,z,K,ae){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case F:e:{for(var Se=K.key,be=z;be!==null;){if(be.key===Se){if(Se=K.type,Se===C){if(be.tag===7){d(Q,be.sibling),z=P(be,K.props.children),z.return=Q,Q=z;break e}}else if(be.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Te&&Ov(Se)===be.type){d(Q,be.sibling),z=P(be,K.props),z.ref=pu(Q,be,K),z.return=Q,Q=z;break e}d(Q,be);break}else o(Q,be);be=be.sibling}K.type===C?(z=Ls(K.props.children,Q.mode,ae,K.key),z.return=Q,Q=z):(ae=oh(K.type,K.key,K.props,null,Q.mode,ae),ae.ref=pu(Q,z,K),ae.return=Q,Q=ae)}return O(Q);case V:e:{for(be=K.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){d(Q,z.sibling),z=P(z,K.children||[]),z.return=Q,Q=z;break e}else{d(Q,z);break}else o(Q,z);z=z.sibling}z=gm(K,Q.mode,ae),z.return=Q,Q=z}return O(Q);case Te:return be=K._init,mt(Q,z,be(K._payload),ae)}if(qn(K))return we(Q,z,K,ae);if(oe(K))return Pe(Q,z,K,ae);Lc(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(d(Q,z.sibling),z=P(z,K),z.return=Q,Q=z):(d(Q,z),z=pm(K,Q.mode,ae),z.return=Q,Q=z),O(Q)):d(Q,z)}return mt}var Go=qv(!0),Nv=qv(!1),jc=Ai(null),Fc=null,Qo=null,If=null;function Rf(){If=Qo=Fc=null}function bf(s){var o=jc.current;nt(jc),s._currentValue=o}function Cf(s,o,d){for(;s!==null;){var y=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,y!==null&&(y.childLanes|=o)):y!==null&&(y.childLanes&o)!==o&&(y.childLanes|=o),s===d)break;s=s.return}}function Ko(s,o){Fc=s,If=Qo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(ir=!0),s.firstContext=null)}function Ar(s){var o=s._currentValue;if(If!==s)if(s={context:s,memoizedValue:o,next:null},Qo===null){if(Fc===null)throw Error(r(308));Qo=s,Fc.dependencies={lanes:0,firstContext:s}}else Qo=Qo.next=s;return o}var As=null;function Af(s){As===null?As=[s]:As.push(s)}function Dv(s,o,d,y){var P=o.interleaved;return P===null?(d.next=d,Af(o)):(d.next=P.next,P.next=d),o.interleaved=d,Wn(s,y)}function Wn(s,o){s.lanes|=o;var d=s.alternate;for(d!==null&&(d.lanes|=o),d=s,s=s.return;s!==null;)s.childLanes|=o,d=s.alternate,d!==null&&(d.childLanes|=o),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Oi=!1;function xf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function qi(s,o,d){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,We&2){var P=y.pending;return P===null?o.next=o:(o.next=P.next,P.next=o),y.pending=o,Wn(s,d)}return P=y.interleaved,P===null?(o.next=o,Af(y)):(o.next=P.next,P.next=o),y.interleaved=o,Wn(s,d)}function Mc(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var y=o.lanes;y&=s.pendingLanes,d|=y,o.lanes=d,Ei(s,d)}}function jv(s,o){var d=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var P=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var O={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};I===null?P=I=O:I=I.next=O,d=d.next}while(d!==null);I===null?P=I=o:I=I.next=o}else P=I=o;d={baseState:y.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:y.shared,effects:y.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}function Vc(s,o,d,y){var P=s.updateQueue;Oi=!1;var I=P.firstBaseUpdate,O=P.lastBaseUpdate,U=P.shared.pending;if(U!==null){P.shared.pending=null;var $=U,Y=$.next;$.next=null,O===null?I=Y:O.next=Y,O=$;var re=s.alternate;re!==null&&(re=re.updateQueue,U=re.lastBaseUpdate,U!==O&&(U===null?re.firstBaseUpdate=Y:U.next=Y,re.lastBaseUpdate=$))}if(I!==null){var se=P.baseState;O=0,re=Y=$=null,U=I;do{var te=U.lane,me=U.eventTime;if((y&te)===te){re!==null&&(re=re.next={eventTime:me,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var we=s,Pe=U;switch(te=o,me=d,Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){se=we.call(me,se,te);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,te=typeof we=="function"?we.call(me,se,te):we,te==null)break e;se=ie({},se,te);break e;case 2:Oi=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,te=P.effects,te===null?P.effects=[U]:te.push(U))}else me={eventTime:me,lane:te,tag:U.tag,payload:U.payload,callback:U.callback,next:null},re===null?(Y=re=me,$=se):re=re.next=me,O|=te;if(U=U.next,U===null){if(U=P.shared.pending,U===null)break;te=U,U=te.next,te.next=null,P.lastBaseUpdate=te,P.shared.pending=null}}while(!0);if(re===null&&($=se),P.baseState=$,P.firstBaseUpdate=Y,P.lastBaseUpdate=re,o=P.shared.interleaved,o!==null){P=o;do O|=P.lane,P=P.next;while(P!==o)}else I===null&&(P.shared.lanes=0);Os|=O,s.lanes=O,s.memoizedState=se}}function Fv(s,o,d){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var y=s[o],P=y.callback;if(P!==null){if(y.callback=null,y=d,typeof P!="function")throw Error(r(191,P));P.call(y)}}}var gu={},mn=Ai(gu),yu=Ai(gu),vu=Ai(gu);function xs(s){if(s===gu)throw Error(r(174));return s}function kf(s,o){switch(tt(vu,o),tt(yu,s),tt(mn,gu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:_t(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=_t(o,s)}nt(mn),tt(mn,o)}function Yo(){nt(mn),nt(yu),nt(vu)}function Mv(s){xs(vu.current);var o=xs(mn.current),d=_t(o,s.type);o!==d&&(tt(yu,s),tt(mn,d))}function Of(s){yu.current===s&&(nt(mn),nt(yu))}var at=Ai(0);function Uc(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qf=[];function Nf(){for(var s=0;s<qf.length;s++)qf[s]._workInProgressVersionPrimary=null;qf.length=0}var $c=q.ReactCurrentDispatcher,Df=q.ReactCurrentBatchConfig,ks=0,ut=null,Et=null,Ct=null,Hc=!1,wu=!1,_u=0,tb=0;function Vt(){throw Error(r(321))}function Lf(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Wr(s[d],o[d]))return!1;return!0}function jf(s,o,d,y,P,I){if(ks=I,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$c.current=s===null||s.memoizedState===null?sb:ob,s=d(y,P),wu){I=0;do{if(wu=!1,_u=0,25<=I)throw Error(r(301));I+=1,Ct=Et=null,o.updateQueue=null,$c.current=ab,s=d(y,P)}while(wu)}if($c.current=Wc,o=Et!==null&&Et.next!==null,ks=0,Ct=Et=ut=null,Hc=!1,o)throw Error(r(300));return s}function Ff(){var s=_u!==0;return _u=0,s}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ut.memoizedState=Ct=s:Ct=Ct.next=s,Ct}function xr(){if(Et===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var o=Ct===null?ut.memoizedState:Ct.next;if(o!==null)Ct=o,Et=s;else{if(s===null)throw Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?ut.memoizedState=Ct=s:Ct=Ct.next=s}return Ct}function Pu(s,o){return typeof o=="function"?o(s):o}function Mf(s){var o=xr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var y=Et,P=y.baseQueue,I=d.pending;if(I!==null){if(P!==null){var O=P.next;P.next=I.next,I.next=O}y.baseQueue=P=I,d.pending=null}if(P!==null){I=P.next,y=y.baseState;var U=O=null,$=null,Y=I;do{var re=Y.lane;if((ks&re)===re)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),y=Y.hasEagerState?Y.eagerState:s(y,Y.action);else{var se={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(U=$=se,O=y):$=$.next=se,ut.lanes|=re,Os|=re}Y=Y.next}while(Y!==null&&Y!==I);$===null?O=y:$.next=U,Wr(y,o.memoizedState)||(ir=!0),o.memoizedState=y,o.baseState=O,o.baseQueue=$,d.lastRenderedState=y}if(s=d.interleaved,s!==null){P=s;do I=P.lane,ut.lanes|=I,Os|=I,P=P.next;while(P!==s)}else P===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function Vf(s){var o=xr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var y=d.dispatch,P=d.pending,I=o.memoizedState;if(P!==null){d.pending=null;var O=P=P.next;do I=s(I,O.action),O=O.next;while(O!==P);Wr(I,o.memoizedState)||(ir=!0),o.memoizedState=I,o.baseQueue===null&&(o.baseState=I),d.lastRenderedState=I}return[I,y]}function Vv(){}function Uv(s,o){var d=ut,y=xr(),P=o(),I=!Wr(y.memoizedState,P);if(I&&(y.memoizedState=P,ir=!0),y=y.queue,Uf(Bv.bind(null,d,y,s),[s]),y.getSnapshot!==o||I||Ct!==null&&Ct.memoizedState.tag&1){if(d.flags|=2048,Eu(9,Hv.bind(null,d,y,P,o),void 0,null),At===null)throw Error(r(349));ks&30||$v(d,o,P)}return P}function $v(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function Hv(s,o,d,y){o.value=d,o.getSnapshot=y,zv(o)&&Wv(s)}function Bv(s,o,d){return d(function(){zv(o)&&Wv(s)})}function zv(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Wr(s,d)}catch{return!0}}function Wv(s){var o=Wn(s,1);o!==null&&Xr(o,s,1,-1)}function Gv(s){var o=pn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:s},o.queue=s,s=s.dispatch=ib.bind(null,ut,s),[o.memoizedState,s]}function Eu(s,o,d,y){return s={tag:s,create:o,destroy:d,deps:y,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(d=o.lastEffect,d===null?o.lastEffect=s.next=s:(y=d.next,d.next=s,s.next=y,o.lastEffect=s)),s}function Qv(){return xr().memoizedState}function Bc(s,o,d,y){var P=pn();ut.flags|=s,P.memoizedState=Eu(1|o,d,void 0,y===void 0?null:y)}function zc(s,o,d,y){var P=xr();y=y===void 0?null:y;var I=void 0;if(Et!==null){var O=Et.memoizedState;if(I=O.destroy,y!==null&&Lf(y,O.deps)){P.memoizedState=Eu(o,d,I,y);return}}ut.flags|=s,P.memoizedState=Eu(1|o,d,I,y)}function Kv(s,o){return Bc(8390656,8,s,o)}function Uf(s,o){return zc(2048,8,s,o)}function Yv(s,o){return zc(4,2,s,o)}function Xv(s,o){return zc(4,4,s,o)}function Jv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Zv(s,o,d){return d=d!=null?d.concat([s]):null,zc(4,4,Jv.bind(null,o,s),d)}function $f(){}function e0(s,o){var d=xr();o=o===void 0?null:o;var y=d.memoizedState;return y!==null&&o!==null&&Lf(o,y[1])?y[0]:(d.memoizedState=[s,o],s)}function t0(s,o){var d=xr();o=o===void 0?null:o;var y=d.memoizedState;return y!==null&&o!==null&&Lf(o,y[1])?y[0]:(s=s(),d.memoizedState=[s,o],s)}function r0(s,o,d){return ks&21?(Wr(d,o)||(d=_s(),ut.lanes|=d,Os|=d,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,ir=!0),s.memoizedState=d)}function rb(s,o){var d=Ve;Ve=d!==0&&4>d?d:4,s(!0);var y=Df.transition;Df.transition={};try{s(!1),o()}finally{Ve=d,Df.transition=y}}function n0(){return xr().memoizedState}function nb(s,o,d){var y=ji(s);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},i0(s))s0(o,d);else if(d=Dv(s,o,d,y),d!==null){var P=Yt();Xr(d,s,y,P),o0(d,o,y)}}function ib(s,o,d){var y=ji(s),P={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(i0(s))s0(o,P);else{var I=s.alternate;if(s.lanes===0&&(I===null||I.lanes===0)&&(I=o.lastRenderedReducer,I!==null))try{var O=o.lastRenderedState,U=I(O,d);if(P.hasEagerState=!0,P.eagerState=U,Wr(U,O)){var $=o.interleaved;$===null?(P.next=P,Af(o)):(P.next=$.next,$.next=P),o.interleaved=P;return}}catch{}finally{}d=Dv(s,o,P,y),d!==null&&(P=Yt(),Xr(d,s,y,P),o0(d,o,y))}}function i0(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function s0(s,o){wu=Hc=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function o0(s,o,d){if(d&4194240){var y=o.lanes;y&=s.pendingLanes,d|=y,o.lanes=d,Ei(s,d)}}var Wc={readContext:Ar,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},sb={readContext:Ar,useCallback:function(s,o){return pn().memoizedState=[s,o===void 0?null:o],s},useContext:Ar,useEffect:Kv,useImperativeHandle:function(s,o,d){return d=d!=null?d.concat([s]):null,Bc(4194308,4,Jv.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Bc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bc(4,2,s,o)},useMemo:function(s,o){var d=pn();return o=o===void 0?null:o,s=s(),d.memoizedState=[s,o],s},useReducer:function(s,o,d){var y=pn();return o=d!==void 0?d(o):o,y.memoizedState=y.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},y.queue=s,s=s.dispatch=nb.bind(null,ut,s),[y.memoizedState,s]},useRef:function(s){var o=pn();return s={current:s},o.memoizedState=s},useState:Gv,useDebugValue:$f,useDeferredValue:function(s){return pn().memoizedState=s},useTransition:function(){var s=Gv(!1),o=s[0];return s=rb.bind(null,s[1]),pn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,d){var y=ut,P=pn();if(st){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),At===null)throw Error(r(349));ks&30||$v(y,o,d)}P.memoizedState=d;var I={value:d,getSnapshot:o};return P.queue=I,Kv(Bv.bind(null,y,I,s),[s]),y.flags|=2048,Eu(9,Hv.bind(null,y,I,d,o),void 0,null),d},useId:function(){var s=pn(),o=At.identifierPrefix;if(st){var d=zn,y=Bn;d=(y&~(1<<32-Gt(y)-1)).toString(32)+d,o=":"+o+"R"+d,d=_u++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=tb++,o=":"+o+"r"+d.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ob={readContext:Ar,useCallback:e0,useContext:Ar,useEffect:Uf,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Xv,useMemo:t0,useReducer:Mf,useRef:Qv,useState:function(){return Mf(Pu)},useDebugValue:$f,useDeferredValue:function(s){var o=xr();return r0(o,Et.memoizedState,s)},useTransition:function(){var s=Mf(Pu)[0],o=xr().memoizedState;return[s,o]},useMutableSource:Vv,useSyncExternalStore:Uv,useId:n0,unstable_isNewReconciler:!1},ab={readContext:Ar,useCallback:e0,useContext:Ar,useEffect:Uf,useImperativeHandle:Zv,useInsertionEffect:Yv,useLayoutEffect:Xv,useMemo:t0,useReducer:Vf,useRef:Qv,useState:function(){return Vf(Pu)},useDebugValue:$f,useDeferredValue:function(s){var o=xr();return Et===null?o.memoizedState=s:r0(o,Et.memoizedState,s)},useTransition:function(){var s=Vf(Pu)[0],o=xr().memoizedState;return[s,o]},useMutableSource:Vv,useSyncExternalStore:Uv,useId:n0,unstable_isNewReconciler:!1};function Qr(s,o){if(s&&s.defaultProps){o=ie({},o),s=s.defaultProps;for(var d in s)o[d]===void 0&&(o[d]=s[d]);return o}return o}function Hf(s,o,d,y){o=s.memoizedState,d=d(y,o),d=d==null?o:ie({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Gc={isMounted:function(s){return(s=s._reactInternals)?Mr(s)===s:!1},enqueueSetState:function(s,o,d){s=s._reactInternals;var y=Yt(),P=ji(s),I=Gn(y,P);I.payload=o,d!=null&&(I.callback=d),o=qi(s,I,P),o!==null&&(Xr(o,s,P,y),Mc(o,s,P))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var y=Yt(),P=ji(s),I=Gn(y,P);I.tag=1,I.payload=o,d!=null&&(I.callback=d),o=qi(s,I,P),o!==null&&(Xr(o,s,P,y),Mc(o,s,P))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Yt(),y=ji(s),P=Gn(d,y);P.tag=2,o!=null&&(P.callback=o),o=qi(s,P,y),o!==null&&(Xr(o,s,y,d),Mc(o,s,y))}};function a0(s,o,d,y,P,I,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,I,O):o.prototype&&o.prototype.isPureReactComponent?!uu(d,y)||!uu(P,I):!0}function u0(s,o,d){var y=!1,P=xi,I=o.contextType;return typeof I=="object"&&I!==null?I=Ar(I):(P=nr(o)?Rs:Mt.current,y=o.contextTypes,I=(y=y!=null)?Ho(s,P):xi),o=new o(d,I),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gc,s.stateNode=o,o._reactInternals=s,y&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=P,s.__reactInternalMemoizedMaskedChildContext=I),o}function l0(s,o,d,y){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,y),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,y),o.state!==s&&Gc.enqueueReplaceState(o,o.state,null)}function Bf(s,o,d,y){var P=s.stateNode;P.props=d,P.state=s.memoizedState,P.refs={},xf(s);var I=o.contextType;typeof I=="object"&&I!==null?P.context=Ar(I):(I=nr(o)?Rs:Mt.current,P.context=Ho(s,I)),P.state=s.memoizedState,I=o.getDerivedStateFromProps,typeof I=="function"&&(Hf(s,o,I,d),P.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(o=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),o!==P.state&&Gc.enqueueReplaceState(P,P.state,null),Vc(s,d,P,y),P.state=s.memoizedState),typeof P.componentDidMount=="function"&&(s.flags|=4194308)}function Xo(s,o){try{var d="",y=o;do d+=le(y),y=y.return;while(y);var P=d}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:s,source:o,stack:P,digest:null}}function zf(s,o,d){return{value:s,source:null,stack:d??null,digest:o??null}}function Wf(s,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var ub=typeof WeakMap=="function"?WeakMap:Map;function c0(s,o,d){d=Gn(-1,d),d.tag=3,d.payload={element:null};var y=o.value;return d.callback=function(){eh||(eh=!0,am=y),Wf(s,o)},d}function h0(s,o,d){d=Gn(-1,d),d.tag=3;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var P=o.value;d.payload=function(){return y(P)},d.callback=function(){Wf(s,o)}}var I=s.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(d.callback=function(){Wf(s,o),typeof y!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})}),d}function d0(s,o,d){var y=s.pingCache;if(y===null){y=s.pingCache=new ub;var P=new Set;y.set(o,P)}else P=y.get(o),P===void 0&&(P=new Set,y.set(o,P));P.has(d)||(P.add(d),s=Eb.bind(null,s,o,d),o.then(s,s))}function f0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function m0(s,o,d,y,P){return s.mode&1?(s.flags|=65536,s.lanes=P,s):(s===o?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Gn(-1,1),o.tag=2,qi(d,o,1))),d.lanes|=1),s)}var lb=q.ReactCurrentOwner,ir=!1;function Kt(s,o,d,y){o.child=s===null?Nv(o,null,d,y):Go(o,s.child,d,y)}function p0(s,o,d,y,P){d=d.render;var I=o.ref;return Ko(o,P),y=jf(s,o,d,y,I,P),d=Ff(),s!==null&&!ir?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~P,Qn(s,o,P)):(st&&d&&_f(o),o.flags|=1,Kt(s,o,y,P),o.child)}function g0(s,o,d,y,P){if(s===null){var I=d.type;return typeof I=="function"&&!mm(I)&&I.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=I,y0(s,o,I,y,P)):(s=oh(d.type,null,y,o,o.mode,P),s.ref=o.ref,s.return=o,o.child=s)}if(I=s.child,!(s.lanes&P)){var O=I.memoizedProps;if(d=d.compare,d=d!==null?d:uu,d(O,y)&&s.ref===o.ref)return Qn(s,o,P)}return o.flags|=1,s=Mi(I,y),s.ref=o.ref,s.return=o,o.child=s}function y0(s,o,d,y,P){if(s!==null){var I=s.memoizedProps;if(uu(I,y)&&s.ref===o.ref)if(ir=!1,o.pendingProps=y=I,(s.lanes&P)!==0)s.flags&131072&&(ir=!0);else return o.lanes=s.lanes,Qn(s,o,P)}return Gf(s,o,d,y,P)}function v0(s,o,d){var y=o.pendingProps,P=y.children,I=s!==null?s.memoizedState:null;if(y.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Zo,vr),vr|=d;else{if(!(d&1073741824))return s=I!==null?I.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,tt(Zo,vr),vr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=I!==null?I.baseLanes:d,tt(Zo,vr),vr|=y}else I!==null?(y=I.baseLanes|d,o.memoizedState=null):y=d,tt(Zo,vr),vr|=y;return Kt(s,o,P,d),o.child}function w0(s,o){var d=o.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Gf(s,o,d,y,P){var I=nr(d)?Rs:Mt.current;return I=Ho(o,I),Ko(o,P),d=jf(s,o,d,y,I,P),y=Ff(),s!==null&&!ir?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~P,Qn(s,o,P)):(st&&y&&_f(o),o.flags|=1,Kt(s,o,d,P),o.child)}function _0(s,o,d,y,P){if(nr(d)){var I=!0;kc(o)}else I=!1;if(Ko(o,P),o.stateNode===null)Kc(s,o),u0(o,d,y),Bf(o,d,y,P),y=!0;else if(s===null){var O=o.stateNode,U=o.memoizedProps;O.props=U;var $=O.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=Ar(Y):(Y=nr(d)?Rs:Mt.current,Y=Ho(o,Y));var re=d.getDerivedStateFromProps,se=typeof re=="function"||typeof O.getSnapshotBeforeUpdate=="function";se||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(U!==y||$!==Y)&&l0(o,O,y,Y),Oi=!1;var te=o.memoizedState;O.state=te,Vc(o,y,O,P),$=o.memoizedState,U!==y||te!==$||rr.current||Oi?(typeof re=="function"&&(Hf(o,d,re,y),$=o.memoizedState),(U=Oi||a0(o,d,U,y,te,$,Y))?(se||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(o.flags|=4194308)):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=y,o.memoizedState=$),O.props=y,O.state=$,O.context=Y,y=U):(typeof O.componentDidMount=="function"&&(o.flags|=4194308),y=!1)}else{O=o.stateNode,Lv(s,o),U=o.memoizedProps,Y=o.type===o.elementType?U:Qr(o.type,U),O.props=Y,se=o.pendingProps,te=O.context,$=d.contextType,typeof $=="object"&&$!==null?$=Ar($):($=nr(d)?Rs:Mt.current,$=Ho(o,$));var me=d.getDerivedStateFromProps;(re=typeof me=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(U!==se||te!==$)&&l0(o,O,y,$),Oi=!1,te=o.memoizedState,O.state=te,Vc(o,y,O,P);var we=o.memoizedState;U!==se||te!==we||rr.current||Oi?(typeof me=="function"&&(Hf(o,d,me,y),we=o.memoizedState),(Y=Oi||a0(o,d,Y,y,te,we,$)||!1)?(re||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,we,$),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,we,$)),typeof O.componentDidUpdate=="function"&&(o.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof O.componentDidUpdate!="function"||U===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=y,o.memoizedState=we),O.props=y,O.state=we,O.context=$,y=Y):(typeof O.componentDidUpdate!="function"||U===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),y=!1)}return Qf(s,o,d,y,I,P)}function Qf(s,o,d,y,P,I){w0(s,o);var O=(o.flags&128)!==0;if(!y&&!O)return P&&Iv(o,d,!1),Qn(s,o,I);y=o.stateNode,lb.current=o;var U=O&&typeof d.getDerivedStateFromError!="function"?null:y.render();return o.flags|=1,s!==null&&O?(o.child=Go(o,s.child,null,I),o.child=Go(o,null,U,I)):Kt(s,o,U,I),o.memoizedState=y.state,P&&Iv(o,d,!0),o.child}function P0(s){var o=s.stateNode;o.pendingContext?Sv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Sv(s,o.context,!1),kf(s,o.containerInfo)}function E0(s,o,d,y,P){return Wo(),Tf(P),o.flags|=256,Kt(s,o,d,y),o.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Yf(s){return{baseLanes:s,cachePool:null,transitions:null}}function S0(s,o,d){var y=o.pendingProps,P=at.current,I=!1,O=(o.flags&128)!==0,U;if((U=O)||(U=s!==null&&s.memoizedState===null?!1:(P&2)!==0),U?(I=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(P|=1),tt(at,P&1),s===null)return Sf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(O=y.children,s=y.fallback,I?(y=o.mode,I=o.child,O={mode:"hidden",children:O},!(y&1)&&I!==null?(I.childLanes=0,I.pendingProps=O):I=ah(O,y,0,null),s=Ls(s,y,d,null),I.return=o,s.return=o,I.sibling=s,o.child=I,o.child.memoizedState=Yf(d),o.memoizedState=Kf,s):Xf(o,O));if(P=s.memoizedState,P!==null&&(U=P.dehydrated,U!==null))return cb(s,o,O,y,U,P,d);if(I){I=y.fallback,O=o.mode,P=s.child,U=P.sibling;var $={mode:"hidden",children:y.children};return!(O&1)&&o.child!==P?(y=o.child,y.childLanes=0,y.pendingProps=$,o.deletions=null):(y=Mi(P,$),y.subtreeFlags=P.subtreeFlags&14680064),U!==null?I=Mi(U,I):(I=Ls(I,O,d,null),I.flags|=2),I.return=o,y.return=o,y.sibling=I,o.child=y,y=I,I=o.child,O=s.child.memoizedState,O=O===null?Yf(d):{baseLanes:O.baseLanes|d,cachePool:null,transitions:O.transitions},I.memoizedState=O,I.childLanes=s.childLanes&~d,o.memoizedState=Kf,y}return I=s.child,s=I.sibling,y=Mi(I,{mode:"visible",children:y.children}),!(o.mode&1)&&(y.lanes=d),y.return=o,y.sibling=null,s!==null&&(d=o.deletions,d===null?(o.deletions=[s],o.flags|=16):d.push(s)),o.child=y,o.memoizedState=null,y}function Xf(s,o){return o=ah({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Qc(s,o,d,y){return y!==null&&Tf(y),Go(o,s.child,null,d),s=Xf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function cb(s,o,d,y,P,I,O){if(d)return o.flags&256?(o.flags&=-257,y=zf(Error(r(422))),Qc(s,o,O,y)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(I=y.fallback,P=o.mode,y=ah({mode:"visible",children:y.children},P,0,null),I=Ls(I,P,O,null),I.flags|=2,y.return=o,I.return=o,y.sibling=I,o.child=y,o.mode&1&&Go(o,s.child,null,O),o.child.memoizedState=Yf(O),o.memoizedState=Kf,I);if(!(o.mode&1))return Qc(s,o,O,null);if(P.data==="$!"){if(y=P.nextSibling&&P.nextSibling.dataset,y)var U=y.dgst;return y=U,I=Error(r(419)),y=zf(I,y,void 0),Qc(s,o,O,y)}if(U=(O&s.childLanes)!==0,ir||U){if(y=At,y!==null){switch(O&-O){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=P&(y.suspendedLanes|O)?0:P,P!==0&&P!==I.retryLane&&(I.retryLane=P,Wn(s,P),Xr(y,s,P,-1))}return fm(),y=zf(Error(r(421))),Qc(s,o,O,y)}return P.data==="$?"?(o.flags|=128,o.child=s.child,o=Sb.bind(null,s),P._reactRetry=o,null):(s=I.treeContext,yr=Ci(P.nextSibling),gr=o,st=!0,Gr=null,s!==null&&(br[Cr++]=Bn,br[Cr++]=zn,br[Cr++]=bs,Bn=s.id,zn=s.overflow,bs=o),o=Xf(o,y.children),o.flags|=4096,o)}function T0(s,o,d){s.lanes|=o;var y=s.alternate;y!==null&&(y.lanes|=o),Cf(s.return,o,d)}function Jf(s,o,d,y,P){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:P}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=d,I.tailMode=P)}function I0(s,o,d){var y=o.pendingProps,P=y.revealOrder,I=y.tail;if(Kt(s,o,y.children,d),y=at.current,y&2)y=y&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&T0(s,d,o);else if(s.tag===19)T0(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}if(tt(at,y),!(o.mode&1))o.memoizedState=null;else switch(P){case"forwards":for(d=o.child,P=null;d!==null;)s=d.alternate,s!==null&&Uc(s)===null&&(P=d),d=d.sibling;d=P,d===null?(P=o.child,o.child=null):(P=d.sibling,d.sibling=null),Jf(o,!1,P,d,I);break;case"backwards":for(d=null,P=o.child,o.child=null;P!==null;){if(s=P.alternate,s!==null&&Uc(s)===null){o.child=P;break}s=P.sibling,P.sibling=d,d=P,P=s}Jf(o,!0,d,null,I);break;case"together":Jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kc(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Qn(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Os|=o.lanes,!(d&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=Mi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=Mi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function hb(s,o,d){switch(o.tag){case 3:P0(o),Wo();break;case 5:Mv(o);break;case 1:nr(o.type)&&kc(o);break;case 4:kf(o,o.stateNode.containerInfo);break;case 10:var y=o.type._context,P=o.memoizedProps.value;tt(jc,y._currentValue),y._currentValue=P;break;case 13:if(y=o.memoizedState,y!==null)return y.dehydrated!==null?(tt(at,at.current&1),o.flags|=128,null):d&o.child.childLanes?S0(s,o,d):(tt(at,at.current&1),s=Qn(s,o,d),s!==null?s.sibling:null);tt(at,at.current&1);break;case 19:if(y=(d&o.childLanes)!==0,s.flags&128){if(y)return I0(s,o,d);o.flags|=128}if(P=o.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),tt(at,at.current),y)break;return null;case 22:case 23:return o.lanes=0,v0(s,o,d)}return Qn(s,o,d)}var R0,Zf,b0,C0;R0=function(s,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Zf=function(){},b0=function(s,o,d,y){var P=s.memoizedProps;if(P!==y){s=o.stateNode,xs(mn.current);var I=null;switch(d){case"input":P=ls(s,P),y=ls(s,y),I=[];break;case"select":P=ie({},P,{value:void 0}),y=ie({},y,{value:void 0}),I=[];break;case"textarea":P=ja(s,P),y=ja(s,y),I=[];break;default:typeof P.onClick!="function"&&typeof y.onClick=="function"&&(s.onclick=Cc)}Ha(d,y);var O;d=null;for(Y in P)if(!y.hasOwnProperty(Y)&&P.hasOwnProperty(Y)&&P[Y]!=null)if(Y==="style"){var U=P[Y];for(O in U)U.hasOwnProperty(O)&&(d||(d={}),d[O]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?I||(I=[]):(I=I||[]).push(Y,null));for(Y in y){var $=y[Y];if(U=P!=null?P[Y]:void 0,y.hasOwnProperty(Y)&&$!==U&&($!=null||U!=null))if(Y==="style")if(U){for(O in U)!U.hasOwnProperty(O)||$&&$.hasOwnProperty(O)||(d||(d={}),d[O]="");for(O in $)$.hasOwnProperty(O)&&U[O]!==$[O]&&(d||(d={}),d[O]=$[O])}else d||(I||(I=[]),I.push(Y,d)),d=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(I=I||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(I=I||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&rt("scroll",s),I||U===$||(I=[])):(I=I||[]).push(Y,$))}d&&(I=I||[]).push("style",d);var Y=I;(o.updateQueue=Y)&&(o.flags|=4)}},C0=function(s,o,d,y){d!==y&&(o.flags|=4)};function Su(s,o){if(!st)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Ut(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,y=0;if(o)for(var P=s.child;P!==null;)d|=P.lanes|P.childLanes,y|=P.subtreeFlags&14680064,y|=P.flags&14680064,P.return=s,P=P.sibling;else for(P=s.child;P!==null;)d|=P.lanes|P.childLanes,y|=P.subtreeFlags,y|=P.flags,P.return=s,P=P.sibling;return s.subtreeFlags|=y,s.childLanes=d,o}function db(s,o,d){var y=o.pendingProps;switch(Pf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return nr(o.type)&&xc(),Ut(o),null;case 3:return y=o.stateNode,Yo(),nt(rr),nt(Mt),Nf(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(s===null||s.child===null)&&(Dc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Gr!==null&&(cm(Gr),Gr=null))),Zf(s,o),Ut(o),null;case 5:Of(o);var P=xs(vu.current);if(d=o.type,s!==null&&o.stateNode!=null)b0(s,o,d,y,P),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!y){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}if(s=xs(mn.current),Dc(o)){y=o.stateNode,d=o.type;var I=o.memoizedProps;switch(y[fn]=o,y[fu]=I,s=(o.mode&1)!==0,d){case"dialog":rt("cancel",y),rt("close",y);break;case"iframe":case"object":case"embed":rt("load",y);break;case"video":case"audio":for(P=0;P<cu.length;P++)rt(cu[P],y);break;case"source":rt("error",y);break;case"img":case"image":case"link":rt("error",y),rt("load",y);break;case"details":rt("toggle",y);break;case"input":co(y,I),rt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!I.multiple},rt("invalid",y);break;case"textarea":fo(y,I),rt("invalid",y)}Ha(d,I),P=null;for(var O in I)if(I.hasOwnProperty(O)){var U=I[O];O==="children"?typeof U=="string"?y.textContent!==U&&(I.suppressHydrationWarning!==!0&&bc(y.textContent,U,s),P=["children",U]):typeof U=="number"&&y.textContent!==""+U&&(I.suppressHydrationWarning!==!0&&bc(y.textContent,U,s),P=["children",""+U]):i.hasOwnProperty(O)&&U!=null&&O==="onScroll"&&rt("scroll",y)}switch(d){case"input":Zt(y),Zl(y,I,!0);break;case"textarea":Zt(y),Fa(y);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(y.onclick=Cc)}y=P,o.updateQueue=y,y!==null&&(o.flags|=4)}else{O=P.nodeType===9?P:P.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=wt(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof y.is=="string"?s=O.createElement(d,{is:y.is}):(s=O.createElement(d),d==="select"&&(O=s,y.multiple?O.multiple=!0:y.size&&(O.size=y.size))):s=O.createElementNS(s,d),s[fn]=o,s[fu]=y,R0(s,o,!1,!1),o.stateNode=s;e:{switch(O=Ba(d,y),d){case"dialog":rt("cancel",s),rt("close",s),P=y;break;case"iframe":case"object":case"embed":rt("load",s),P=y;break;case"video":case"audio":for(P=0;P<cu.length;P++)rt(cu[P],s);P=y;break;case"source":rt("error",s),P=y;break;case"img":case"image":case"link":rt("error",s),rt("load",s),P=y;break;case"details":rt("toggle",s),P=y;break;case"input":co(s,y),P=ls(s,y),rt("invalid",s);break;case"option":P=y;break;case"select":s._wrapperState={wasMultiple:!!y.multiple},P=ie({},y,{value:void 0}),rt("invalid",s);break;case"textarea":fo(s,y),P=ja(s,y),rt("invalid",s);break;default:P=y}Ha(d,P),U=P;for(I in U)if(U.hasOwnProperty(I)){var $=U[I];I==="style"?Ua(s,$):I==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ma(s,$)):I==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&yi(s,$):typeof $=="number"&&yi(s,""+$):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?$!=null&&I==="onScroll"&&rt("scroll",s):$!=null&&k(s,I,$,O))}switch(d){case"input":Zt(s),Zl(s,y,!1);break;case"textarea":Zt(s),Fa(s);break;case"option":y.value!=null&&s.setAttribute("value",""+ve(y.value));break;case"select":s.multiple=!!y.multiple,I=y.value,I!=null?Nn(s,!!y.multiple,I,!1):y.defaultValue!=null&&Nn(s,!!y.multiple,y.defaultValue,!0);break;default:typeof P.onClick=="function"&&(s.onclick=Cc)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(s&&o.stateNode!=null)C0(s,o,s.memoizedProps,y);else{if(typeof y!="string"&&o.stateNode===null)throw Error(r(166));if(d=xs(vu.current),xs(mn.current),Dc(o)){if(y=o.stateNode,d=o.memoizedProps,y[fn]=o,(I=y.nodeValue!==d)&&(s=gr,s!==null))switch(s.tag){case 3:bc(y.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bc(y.nodeValue,d,(s.mode&1)!==0)}I&&(o.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[fn]=o,o.stateNode=y}return Ut(o),null;case 13:if(nt(at),y=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&yr!==null&&o.mode&1&&!(o.flags&128))kv(),Wo(),o.flags|=98560,I=!1;else if(I=Dc(o),y!==null&&y.dehydrated!==null){if(s===null){if(!I)throw Error(r(318));if(I=o.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[fn]=o}else Wo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ut(o),I=!1}else Gr!==null&&(cm(Gr),Gr=null),I=!0;if(!I)return o.flags&65536?o:null}return o.flags&128?(o.lanes=d,o):(y=y!==null,y!==(s!==null&&s.memoizedState!==null)&&y&&(o.child.flags|=8192,o.mode&1&&(s===null||at.current&1?St===0&&(St=3):fm())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return Yo(),Zf(s,o),s===null&&hu(o.stateNode.containerInfo),Ut(o),null;case 10:return bf(o.type._context),Ut(o),null;case 17:return nr(o.type)&&xc(),Ut(o),null;case 19:if(nt(at),I=o.memoizedState,I===null)return Ut(o),null;if(y=(o.flags&128)!==0,O=I.rendering,O===null)if(y)Su(I,!1);else{if(St!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(O=Uc(s),O!==null){for(o.flags|=128,Su(I,!1),y=O.updateQueue,y!==null&&(o.updateQueue=y,o.flags|=4),o.subtreeFlags=0,y=d,d=o.child;d!==null;)I=d,s=y,I.flags&=14680066,O=I.alternate,O===null?(I.childLanes=0,I.lanes=s,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=O.childLanes,I.lanes=O.lanes,I.child=O.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=O.memoizedProps,I.memoizedState=O.memoizedState,I.updateQueue=O.updateQueue,I.type=O.type,s=O.dependencies,I.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return tt(at,at.current&1|2),o.child}s=s.sibling}I.tail!==null&&et()>ea&&(o.flags|=128,y=!0,Su(I,!1),o.lanes=4194304)}else{if(!y)if(s=Uc(O),s!==null){if(o.flags|=128,y=!0,d=s.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Su(I,!0),I.tail===null&&I.tailMode==="hidden"&&!O.alternate&&!st)return Ut(o),null}else 2*et()-I.renderingStartTime>ea&&d!==1073741824&&(o.flags|=128,y=!0,Su(I,!1),o.lanes=4194304);I.isBackwards?(O.sibling=o.child,o.child=O):(d=I.last,d!==null?d.sibling=O:o.child=O,I.last=O)}return I.tail!==null?(o=I.tail,I.rendering=o,I.tail=o.sibling,I.renderingStartTime=et(),o.sibling=null,d=at.current,tt(at,y?d&1|2:d&1),o):(Ut(o),null);case 22:case 23:return dm(),y=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==y&&(o.flags|=8192),y&&o.mode&1?vr&1073741824&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function fb(s,o){switch(Pf(o),o.tag){case 1:return nr(o.type)&&xc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Yo(),nt(rr),nt(Mt),Nf(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Of(o),null;case 13:if(nt(at),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Wo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(at),null;case 4:return Yo(),null;case 10:return bf(o.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Yc=!1,$t=!1,mb=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Jo(s,o){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){dt(s,o,y)}else d.current=null}function em(s,o,d){try{d()}catch(y){dt(s,o,y)}}var A0=!1;function pb(s,o){if(df=Ii,s=av(),nf(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var P=y.anchorOffset,I=y.focusNode;y=y.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var O=0,U=-1,$=-1,Y=0,re=0,se=s,te=null;t:for(;;){for(var me;se!==d||P!==0&&se.nodeType!==3||(U=O+P),se!==I||y!==0&&se.nodeType!==3||($=O+y),se.nodeType===3&&(O+=se.nodeValue.length),(me=se.firstChild)!==null;)te=se,se=me;for(;;){if(se===s)break t;if(te===d&&++Y===P&&(U=O),te===I&&++re===y&&($=O),(me=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=me}d=U===-1||$===-1?null:{start:U,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(ff={focusedElem:s,selectionRange:d},Ii=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var we=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Pe=we.memoizedProps,mt=we.memoizedState,Q=o.stateNode,z=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:Qr(o.type,Pe),mt);Q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ae){dt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return we=A0,A0=!1,we}function Tu(s,o,d){var y=o.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var P=y=y.next;do{if((P.tag&s)===s){var I=P.destroy;P.destroy=void 0,I!==void 0&&em(o,d,I)}P=P.next}while(P!==y)}}function Xc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&s)===s){var y=d.create;d.destroy=y()}d=d.next}while(d!==o)}}function tm(s){var o=s.ref;if(o!==null){var d=s.stateNode;switch(s.tag){case 5:s=d;break;default:s=d}typeof o=="function"?o(s):o.current=s}}function x0(s){var o=s.alternate;o!==null&&(s.alternate=null,x0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[fn],delete o[fu],delete o[yf],delete o[XR],delete o[JR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function k0(s){return s.tag===5||s.tag===3||s.tag===4}function O0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||k0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rm(s,o,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(s,o):d.insertBefore(s,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(s,d)):(o=d,o.appendChild(s)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Cc));else if(y!==4&&(s=s.child,s!==null))for(rm(s,o,d),s=s.sibling;s!==null;)rm(s,o,d),s=s.sibling}function nm(s,o,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(y!==4&&(s=s.child,s!==null))for(nm(s,o,d),s=s.sibling;s!==null;)nm(s,o,d),s=s.sibling}var Nt=null,Kr=!1;function Ni(s,o,d){for(d=d.child;d!==null;)q0(s,o,d),d=d.sibling}function q0(s,o,d){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(vs,d)}catch{}switch(d.tag){case 5:$t||Jo(d,o);case 6:var y=Nt,P=Kr;Nt=null,Ni(s,o,d),Nt=y,Kr=P,Nt!==null&&(Kr?(s=Nt,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Nt.removeChild(d.stateNode));break;case 18:Nt!==null&&(Kr?(s=Nt,d=d.stateNode,s.nodeType===8?gf(s.parentNode,d):s.nodeType===1&&gf(s,d),Br(s)):gf(Nt,d.stateNode));break;case 4:y=Nt,P=Kr,Nt=d.stateNode.containerInfo,Kr=!0,Ni(s,o,d),Nt=y,Kr=P;break;case 0:case 11:case 14:case 15:if(!$t&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){P=y=y.next;do{var I=P,O=I.destroy;I=I.tag,O!==void 0&&(I&2||I&4)&&em(d,o,O),P=P.next}while(P!==y)}Ni(s,o,d);break;case 1:if(!$t&&(Jo(d,o),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(U){dt(d,o,U)}Ni(s,o,d);break;case 21:Ni(s,o,d);break;case 22:d.mode&1?($t=(y=$t)||d.memoizedState!==null,Ni(s,o,d),$t=y):Ni(s,o,d);break;default:Ni(s,o,d)}}function N0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new mb),o.forEach(function(y){var P=Tb.bind(null,s,y);d.has(y)||(d.add(y),y.then(P,P))})}}function Yr(s,o){var d=o.deletions;if(d!==null)for(var y=0;y<d.length;y++){var P=d[y];try{var I=s,O=o,U=O;e:for(;U!==null;){switch(U.tag){case 5:Nt=U.stateNode,Kr=!1;break e;case 3:Nt=U.stateNode.containerInfo,Kr=!0;break e;case 4:Nt=U.stateNode.containerInfo,Kr=!0;break e}U=U.return}if(Nt===null)throw Error(r(160));q0(I,O,P),Nt=null,Kr=!1;var $=P.alternate;$!==null&&($.return=null),P.return=null}catch(Y){dt(P,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)D0(o,s),o=o.sibling}function D0(s,o){var d=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Yr(o,s),gn(s),y&4){try{Tu(3,s,s.return),Xc(3,s)}catch(Pe){dt(s,s.return,Pe)}try{Tu(5,s,s.return)}catch(Pe){dt(s,s.return,Pe)}}break;case 1:Yr(o,s),gn(s),y&512&&d!==null&&Jo(d,d.return);break;case 5:if(Yr(o,s),gn(s),y&512&&d!==null&&Jo(d,d.return),s.flags&32){var P=s.stateNode;try{yi(P,"")}catch(Pe){dt(s,s.return,Pe)}}if(y&4&&(P=s.stateNode,P!=null)){var I=s.memoizedProps,O=d!==null?d.memoizedProps:I,U=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{U==="input"&&I.type==="radio"&&I.name!=null&&Da(P,I),Ba(U,O);var Y=Ba(U,I);for(O=0;O<$.length;O+=2){var re=$[O],se=$[O+1];re==="style"?Ua(P,se):re==="dangerouslySetInnerHTML"?Ma(P,se):re==="children"?yi(P,se):k(P,re,se,Y)}switch(U){case"input":La(P,I);break;case"textarea":mo(P,I);break;case"select":var te=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!I.multiple;var me=I.value;me!=null?Nn(P,!!I.multiple,me,!1):te!==!!I.multiple&&(I.defaultValue!=null?Nn(P,!!I.multiple,I.defaultValue,!0):Nn(P,!!I.multiple,I.multiple?[]:"",!1))}P[fu]=I}catch(Pe){dt(s,s.return,Pe)}}break;case 6:if(Yr(o,s),gn(s),y&4){if(s.stateNode===null)throw Error(r(162));P=s.stateNode,I=s.memoizedProps;try{P.nodeValue=I}catch(Pe){dt(s,s.return,Pe)}}break;case 3:if(Yr(o,s),gn(s),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Br(o.containerInfo)}catch(Pe){dt(s,s.return,Pe)}break;case 4:Yr(o,s),gn(s);break;case 13:Yr(o,s),gn(s),P=s.child,P.flags&8192&&(I=P.memoizedState!==null,P.stateNode.isHidden=I,!I||P.alternate!==null&&P.alternate.memoizedState!==null||(om=et())),y&4&&N0(s);break;case 22:if(re=d!==null&&d.memoizedState!==null,s.mode&1?($t=(Y=$t)||re,Yr(o,s),$t=Y):Yr(o,s),gn(s),y&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!re&&s.mode&1)for(ye=s,re=s.child;re!==null;){for(se=ye=re;ye!==null;){switch(te=ye,me=te.child,te.tag){case 0:case 11:case 14:case 15:Tu(4,te,te.return);break;case 1:Jo(te,te.return);var we=te.stateNode;if(typeof we.componentWillUnmount=="function"){y=te,d=te.return;try{o=y,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(Pe){dt(y,d,Pe)}}break;case 5:Jo(te,te.return);break;case 22:if(te.memoizedState!==null){F0(se);continue}}me!==null?(me.return=te,ye=me):F0(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{P=se.stateNode,Y?(I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(U=se.stateNode,$=se.memoizedProps.style,O=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=Va("display",O))}catch(Pe){dt(s,s.return,Pe)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(Pe){dt(s,s.return,Pe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Yr(o,s),gn(s),y&4&&N0(s);break;case 21:break;default:Yr(o,s),gn(s)}}function gn(s){var o=s.flags;if(o&2){try{e:{for(var d=s.return;d!==null;){if(k0(d)){var y=d;break e}d=d.return}throw Error(r(160))}switch(y.tag){case 5:var P=y.stateNode;y.flags&32&&(yi(P,""),y.flags&=-33);var I=O0(s);nm(s,I,P);break;case 3:case 4:var O=y.stateNode.containerInfo,U=O0(s);rm(s,U,O);break;default:throw Error(r(161))}}catch($){dt(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gb(s,o,d){ye=s,L0(s)}function L0(s,o,d){for(var y=(s.mode&1)!==0;ye!==null;){var P=ye,I=P.child;if(P.tag===22&&y){var O=P.memoizedState!==null||Yc;if(!O){var U=P.alternate,$=U!==null&&U.memoizedState!==null||$t;U=Yc;var Y=$t;if(Yc=O,($t=$)&&!Y)for(ye=P;ye!==null;)O=ye,$=O.child,O.tag===22&&O.memoizedState!==null?M0(P):$!==null?($.return=O,ye=$):M0(P);for(;I!==null;)ye=I,L0(I),I=I.sibling;ye=P,Yc=U,$t=Y}j0(s)}else P.subtreeFlags&8772&&I!==null?(I.return=P,ye=I):j0(s)}}function j0(s){for(;ye!==null;){var o=ye;if(o.flags&8772){var d=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:$t||Xc(5,o);break;case 1:var y=o.stateNode;if(o.flags&4&&!$t)if(d===null)y.componentDidMount();else{var P=o.elementType===o.type?d.memoizedProps:Qr(o.type,d.memoizedProps);y.componentDidUpdate(P,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var I=o.updateQueue;I!==null&&Fv(o,I,y);break;case 3:var O=o.updateQueue;if(O!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}Fv(o,O,d)}break;case 5:var U=o.stateNode;if(d===null&&o.flags&4){d=U;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Br(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$t||o.flags&512&&tm(o)}catch(te){dt(o,o.return,te)}}if(o===s){ye=null;break}if(d=o.sibling,d!==null){d.return=o.return,ye=d;break}ye=o.return}}function F0(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var d=o.sibling;if(d!==null){d.return=o.return,ye=d;break}ye=o.return}}function M0(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{Xc(4,o)}catch($){dt(o,d,$)}break;case 1:var y=o.stateNode;if(typeof y.componentDidMount=="function"){var P=o.return;try{y.componentDidMount()}catch($){dt(o,P,$)}}var I=o.return;try{tm(o)}catch($){dt(o,I,$)}break;case 5:var O=o.return;try{tm(o)}catch($){dt(o,O,$)}}}catch($){dt(o,o.return,$)}if(o===s){ye=null;break}var U=o.sibling;if(U!==null){U.return=o.return,ye=U;break}ye=o.return}}var yb=Math.ceil,Jc=q.ReactCurrentDispatcher,im=q.ReactCurrentOwner,kr=q.ReactCurrentBatchConfig,We=0,At=null,yt=null,Dt=0,vr=0,Zo=Ai(0),St=0,Iu=null,Os=0,Zc=0,sm=0,Ru=null,sr=null,om=0,ea=1/0,Kn=null,eh=!1,am=null,Di=null,th=!1,Li=null,rh=0,bu=0,um=null,nh=-1,ih=0;function Yt(){return We&6?et():nh!==-1?nh:nh=et()}function ji(s){return s.mode&1?We&2&&Dt!==0?Dt&-Dt:eb.transition!==null?(ih===0&&(ih=_s()),ih):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:tu(s.type)),s):1}function Xr(s,o,d,y){if(50<bu)throw bu=0,um=null,Error(r(185));Pi(s,d,y),(!(We&2)||s!==At)&&(s===At&&(!(We&2)&&(Zc|=d),St===4&&Fi(s,Dt)),or(s,y),d===1&&We===0&&!(o.mode&1)&&(ea=et()+500,Oc&&ki()))}function or(s,o){var d=s.callbackNode;jn(s,o);var y=ws(s,s===At?Dt:0);if(y===0)d!==null&&Ya(d),s.callbackNode=null,s.callbackPriority=0;else if(o=y&-y,s.callbackPriority!==o){if(d!=null&&Ya(d),o===1)s.tag===0?ZR(U0.bind(null,s)):Rv(U0.bind(null,s)),KR(function(){!(We&6)&&ki()}),d=null;else{switch(Si(y)){case 1:d=ys;break;case 4:d=vi;break;case 16:d=Tr;break;case 536870912:d=ic;break;default:d=Tr}d=K0(d,V0.bind(null,s))}s.callbackPriority=o,s.callbackNode=d}}function V0(s,o){if(nh=-1,ih=0,We&6)throw Error(r(327));var d=s.callbackNode;if(ta()&&s.callbackNode!==d)return null;var y=ws(s,s===At?Dt:0);if(y===0)return null;if(y&30||y&s.expiredLanes||o)o=sh(s,y);else{o=y;var P=We;We|=2;var I=H0();(At!==s||Dt!==o)&&(Kn=null,ea=et()+500,Ns(s,o));do try{_b();break}catch(U){$0(s,U)}while(!0);Rf(),Jc.current=I,We=P,yt!==null?o=0:(At=null,Dt=0,o=St)}if(o!==0){if(o===2&&(P=fr(s),P!==0&&(y=P,o=lm(s,P))),o===1)throw d=Iu,Ns(s,0),Fi(s,y),or(s,et()),d;if(o===6)Fi(s,y);else{if(P=s.current.alternate,!(y&30)&&!vb(P)&&(o=sh(s,y),o===2&&(I=fr(s),I!==0&&(y=I,o=lm(s,I))),o===1))throw d=Iu,Ns(s,0),Fi(s,y),or(s,et()),d;switch(s.finishedWork=P,s.finishedLanes=y,o){case 0:case 1:throw Error(r(345));case 2:Ds(s,sr,Kn);break;case 3:if(Fi(s,y),(y&130023424)===y&&(o=om+500-et(),10<o)){if(ws(s,0)!==0)break;if(P=s.suspendedLanes,(P&y)!==y){Yt(),s.pingedLanes|=s.suspendedLanes&P;break}s.timeoutHandle=pf(Ds.bind(null,s,sr,Kn),o);break}Ds(s,sr,Kn);break;case 4:if(Fi(s,y),(y&4194240)===y)break;for(o=s.eventTimes,P=-1;0<y;){var O=31-Gt(y);I=1<<O,O=o[O],O>P&&(P=O),y&=~I}if(y=P,y=et()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*yb(y/1960))-y,10<y){s.timeoutHandle=pf(Ds.bind(null,s,sr,Kn),y);break}Ds(s,sr,Kn);break;case 5:Ds(s,sr,Kn);break;default:throw Error(r(329))}}}return or(s,et()),s.callbackNode===d?V0.bind(null,s):null}function lm(s,o){var d=Ru;return s.current.memoizedState.isDehydrated&&(Ns(s,o).flags|=256),s=sh(s,o),s!==2&&(o=sr,sr=d,o!==null&&cm(o)),s}function cm(s){sr===null?sr=s:sr.push.apply(sr,s)}function vb(s){for(var o=s;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var P=d[y],I=P.getSnapshot;P=P.value;try{if(!Wr(I(),P))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fi(s,o){for(o&=~sm,o&=~Zc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var d=31-Gt(o),y=1<<d;s[d]=-1,o&=~y}}function U0(s){if(We&6)throw Error(r(327));ta();var o=ws(s,0);if(!(o&1))return or(s,et()),null;var d=sh(s,o);if(s.tag!==0&&d===2){var y=fr(s);y!==0&&(o=y,d=lm(s,y))}if(d===1)throw d=Iu,Ns(s,0),Fi(s,o),or(s,et()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ds(s,sr,Kn),or(s,et()),null}function hm(s,o){var d=We;We|=1;try{return s(o)}finally{We=d,We===0&&(ea=et()+500,Oc&&ki())}}function qs(s){Li!==null&&Li.tag===0&&!(We&6)&&ta();var o=We;We|=1;var d=kr.transition,y=Ve;try{if(kr.transition=null,Ve=1,s)return s()}finally{Ve=y,kr.transition=d,We=o,!(We&6)&&ki()}}function dm(){vr=Zo.current,nt(Zo)}function Ns(s,o){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,QR(d)),yt!==null)for(d=yt.return;d!==null;){var y=d;switch(Pf(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&xc();break;case 3:Yo(),nt(rr),nt(Mt),Nf();break;case 5:Of(y);break;case 4:Yo();break;case 13:nt(at);break;case 19:nt(at);break;case 10:bf(y.type._context);break;case 22:case 23:dm()}d=d.return}if(At=s,yt=s=Mi(s.current,null),Dt=vr=o,St=0,Iu=null,sm=Zc=Os=0,sr=Ru=null,As!==null){for(o=0;o<As.length;o++)if(d=As[o],y=d.interleaved,y!==null){d.interleaved=null;var P=y.next,I=d.pending;if(I!==null){var O=I.next;I.next=P,y.next=O}d.pending=y}As=null}return s}function $0(s,o){do{var d=yt;try{if(Rf(),$c.current=Wc,Hc){for(var y=ut.memoizedState;y!==null;){var P=y.queue;P!==null&&(P.pending=null),y=y.next}Hc=!1}if(ks=0,Ct=Et=ut=null,wu=!1,_u=0,im.current=null,d===null||d.return===null){St=1,Iu=o,yt=null;break}e:{var I=s,O=d.return,U=d,$=o;if(o=Dt,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,re=U,se=re.tag;if(!(re.mode&1)&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=f0(O);if(me!==null){me.flags&=-257,m0(me,O,U,I,o),me.mode&1&&d0(I,Y,o),o=me,$=Y;var we=o.updateQueue;if(we===null){var Pe=new Set;Pe.add($),o.updateQueue=Pe}else we.add($);break e}else{if(!(o&1)){d0(I,Y,o),fm();break e}$=Error(r(426))}}else if(st&&U.mode&1){var mt=f0(O);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),m0(mt,O,U,I,o),Tf(Xo($,U));break e}}I=$=Xo($,U),St!==4&&(St=2),Ru===null?Ru=[I]:Ru.push(I),I=O;do{switch(I.tag){case 3:I.flags|=65536,o&=-o,I.lanes|=o;var Q=c0(I,$,o);jv(I,Q);break e;case 1:U=$;var z=I.type,K=I.stateNode;if(!(I.flags&128)&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Di===null||!Di.has(K)))){I.flags|=65536,o&=-o,I.lanes|=o;var ae=h0(I,U,o);jv(I,ae);break e}}I=I.return}while(I!==null)}z0(d)}catch(Se){o=Se,yt===d&&d!==null&&(yt=d=d.return);continue}break}while(!0)}function H0(){var s=Jc.current;return Jc.current=Wc,s===null?Wc:s}function fm(){(St===0||St===3||St===2)&&(St=4),At===null||!(Os&268435455)&&!(Zc&268435455)||Fi(At,Dt)}function sh(s,o){var d=We;We|=2;var y=H0();(At!==s||Dt!==o)&&(Kn=null,Ns(s,o));do try{wb();break}catch(P){$0(s,P)}while(!0);if(Rf(),We=d,Jc.current=y,yt!==null)throw Error(r(261));return At=null,Dt=0,St}function wb(){for(;yt!==null;)B0(yt)}function _b(){for(;yt!==null&&!rc();)B0(yt)}function B0(s){var o=Q0(s.alternate,s,vr);s.memoizedProps=s.pendingProps,o===null?z0(s):yt=o,im.current=null}function z0(s){var o=s;do{var d=o.alternate;if(s=o.return,o.flags&32768){if(d=fb(d,o),d!==null){d.flags&=32767,yt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{St=6,yt=null;return}}else if(d=db(d,o,vr),d!==null){yt=d;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=s}while(o!==null);St===0&&(St=5)}function Ds(s,o,d){var y=Ve,P=kr.transition;try{kr.transition=null,Ve=1,Pb(s,o,d,y)}finally{kr.transition=P,Ve=y}return null}function Pb(s,o,d,y){do ta();while(Li!==null);if(We&6)throw Error(r(327));d=s.finishedWork;var P=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var I=d.lanes|d.childLanes;if(Je(s,I),s===At&&(yt=At=null,Dt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||th||(th=!0,K0(Tr,function(){return ta(),null})),I=(d.flags&15990)!==0,d.subtreeFlags&15990||I){I=kr.transition,kr.transition=null;var O=Ve;Ve=1;var U=We;We|=4,im.current=null,pb(s,d),D0(d,s),UR(ff),Ii=!!df,ff=df=null,s.current=d,gb(d),Kd(),We=U,Ve=O,kr.transition=I}else s.current=d;if(th&&(th=!1,Li=s,rh=P),I=s.pendingLanes,I===0&&(Di=null),sc(d.stateNode),or(s,et()),o!==null)for(y=s.onRecoverableError,d=0;d<o.length;d++)P=o[d],y(P.value,{componentStack:P.stack,digest:P.digest});if(eh)throw eh=!1,s=am,am=null,s;return rh&1&&s.tag!==0&&ta(),I=s.pendingLanes,I&1?s===um?bu++:(bu=0,um=s):bu=0,ki(),null}function ta(){if(Li!==null){var s=Si(rh),o=kr.transition,d=Ve;try{if(kr.transition=null,Ve=16>s?16:s,Li===null)var y=!1;else{if(s=Li,Li=null,rh=0,We&6)throw Error(r(331));var P=We;for(We|=4,ye=s.current;ye!==null;){var I=ye,O=I.child;if(ye.flags&16){var U=I.deletions;if(U!==null){for(var $=0;$<U.length;$++){var Y=U[$];for(ye=Y;ye!==null;){var re=ye;switch(re.tag){case 0:case 11:case 15:Tu(8,re,I)}var se=re.child;if(se!==null)se.return=re,ye=se;else for(;ye!==null;){re=ye;var te=re.sibling,me=re.return;if(x0(re),re===Y){ye=null;break}if(te!==null){te.return=me,ye=te;break}ye=me}}}var we=I.alternate;if(we!==null){var Pe=we.child;if(Pe!==null){we.child=null;do{var mt=Pe.sibling;Pe.sibling=null,Pe=mt}while(Pe!==null)}}ye=I}}if(I.subtreeFlags&2064&&O!==null)O.return=I,ye=O;else e:for(;ye!==null;){if(I=ye,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Tu(9,I,I.return)}var Q=I.sibling;if(Q!==null){Q.return=I.return,ye=Q;break e}ye=I.return}}var z=s.current;for(ye=z;ye!==null;){O=ye;var K=O.child;if(O.subtreeFlags&2064&&K!==null)K.return=O,ye=K;else e:for(O=z;ye!==null;){if(U=ye,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:Xc(9,U)}}catch(Se){dt(U,U.return,Se)}if(U===O){ye=null;break e}var ae=U.sibling;if(ae!==null){ae.return=U.return,ye=ae;break e}ye=U.return}}if(We=P,ki(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(vs,s)}catch{}y=!0}return y}finally{Ve=d,kr.transition=o}}return!1}function W0(s,o,d){o=Xo(d,o),o=c0(s,o,1),s=qi(s,o,1),o=Yt(),s!==null&&(Pi(s,1,o),or(s,o))}function dt(s,o,d){if(s.tag===3)W0(s,s,d);else for(;o!==null;){if(o.tag===3){W0(o,s,d);break}else if(o.tag===1){var y=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Di===null||!Di.has(y))){s=Xo(d,s),s=h0(o,s,1),o=qi(o,s,1),s=Yt(),o!==null&&(Pi(o,1,s),or(o,s));break}}o=o.return}}function Eb(s,o,d){var y=s.pingCache;y!==null&&y.delete(o),o=Yt(),s.pingedLanes|=s.suspendedLanes&d,At===s&&(Dt&d)===d&&(St===4||St===3&&(Dt&130023424)===Dt&&500>et()-om?Ns(s,0):sm|=d),or(s,o)}function G0(s,o){o===0&&(s.mode&1?(o=To,To<<=1,!(To&130023424)&&(To=4194304)):o=1);var d=Yt();s=Wn(s,o),s!==null&&(Pi(s,o,d),or(s,d))}function Sb(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),G0(s,d)}function Tb(s,o){var d=0;switch(s.tag){case 13:var y=s.stateNode,P=s.memoizedState;P!==null&&(d=P.retryLane);break;case 19:y=s.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(o),G0(s,d)}var Q0;Q0=function(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps||rr.current)ir=!0;else{if(!(s.lanes&d)&&!(o.flags&128))return ir=!1,hb(s,o,d);ir=!!(s.flags&131072)}else ir=!1,st&&o.flags&1048576&&bv(o,Nc,o.index);switch(o.lanes=0,o.tag){case 2:var y=o.type;Kc(s,o),s=o.pendingProps;var P=Ho(o,Mt.current);Ko(o,d),P=jf(null,o,y,s,P,d);var I=Ff();return o.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,nr(y)?(I=!0,kc(o)):I=!1,o.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,xf(o),P.updater=Gc,o.stateNode=P,P._reactInternals=o,Bf(o,y,s,d),o=Qf(null,o,y,!0,I,d)):(o.tag=0,st&&I&&_f(o),Kt(null,o,P,d),o=o.child),o;case 16:y=o.elementType;e:{switch(Kc(s,o),s=o.pendingProps,P=y._init,y=P(y._payload),o.type=y,P=o.tag=Rb(y),s=Qr(y,s),P){case 0:o=Gf(null,o,y,s,d);break e;case 1:o=_0(null,o,y,s,d);break e;case 11:o=p0(null,o,y,s,d);break e;case 14:o=g0(null,o,y,Qr(y.type,s),d);break e}throw Error(r(306,y,""))}return o;case 0:return y=o.type,P=o.pendingProps,P=o.elementType===y?P:Qr(y,P),Gf(s,o,y,P,d);case 1:return y=o.type,P=o.pendingProps,P=o.elementType===y?P:Qr(y,P),_0(s,o,y,P,d);case 3:e:{if(P0(o),s===null)throw Error(r(387));y=o.pendingProps,I=o.memoizedState,P=I.element,Lv(s,o),Vc(o,y,null,d);var O=o.memoizedState;if(y=O.element,I.isDehydrated)if(I={element:y,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},o.updateQueue.baseState=I,o.memoizedState=I,o.flags&256){P=Xo(Error(r(423)),o),o=E0(s,o,y,d,P);break e}else if(y!==P){P=Xo(Error(r(424)),o),o=E0(s,o,y,d,P);break e}else for(yr=Ci(o.stateNode.containerInfo.firstChild),gr=o,st=!0,Gr=null,d=Nv(o,null,y,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Wo(),y===P){o=Qn(s,o,d);break e}Kt(s,o,y,d)}o=o.child}return o;case 5:return Mv(o),s===null&&Sf(o),y=o.type,P=o.pendingProps,I=s!==null?s.memoizedProps:null,O=P.children,mf(y,P)?O=null:I!==null&&mf(y,I)&&(o.flags|=32),w0(s,o),Kt(s,o,O,d),o.child;case 6:return s===null&&Sf(o),null;case 13:return S0(s,o,d);case 4:return kf(o,o.stateNode.containerInfo),y=o.pendingProps,s===null?o.child=Go(o,null,y,d):Kt(s,o,y,d),o.child;case 11:return y=o.type,P=o.pendingProps,P=o.elementType===y?P:Qr(y,P),p0(s,o,y,P,d);case 7:return Kt(s,o,o.pendingProps,d),o.child;case 8:return Kt(s,o,o.pendingProps.children,d),o.child;case 12:return Kt(s,o,o.pendingProps.children,d),o.child;case 10:e:{if(y=o.type._context,P=o.pendingProps,I=o.memoizedProps,O=P.value,tt(jc,y._currentValue),y._currentValue=O,I!==null)if(Wr(I.value,O)){if(I.children===P.children&&!rr.current){o=Qn(s,o,d);break e}}else for(I=o.child,I!==null&&(I.return=o);I!==null;){var U=I.dependencies;if(U!==null){O=I.child;for(var $=U.firstContext;$!==null;){if($.context===y){if(I.tag===1){$=Gn(-1,d&-d),$.tag=2;var Y=I.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?$.next=$:($.next=re.next,re.next=$),Y.pending=$}}I.lanes|=d,$=I.alternate,$!==null&&($.lanes|=d),Cf(I.return,d,o),U.lanes|=d;break}$=$.next}}else if(I.tag===10)O=I.type===o.type?null:I.child;else if(I.tag===18){if(O=I.return,O===null)throw Error(r(341));O.lanes|=d,U=O.alternate,U!==null&&(U.lanes|=d),Cf(O,d,o),O=I.sibling}else O=I.child;if(O!==null)O.return=I;else for(O=I;O!==null;){if(O===o){O=null;break}if(I=O.sibling,I!==null){I.return=O.return,O=I;break}O=O.return}I=O}Kt(s,o,P.children,d),o=o.child}return o;case 9:return P=o.type,y=o.pendingProps.children,Ko(o,d),P=Ar(P),y=y(P),o.flags|=1,Kt(s,o,y,d),o.child;case 14:return y=o.type,P=Qr(y,o.pendingProps),P=Qr(y.type,P),g0(s,o,y,P,d);case 15:return y0(s,o,o.type,o.pendingProps,d);case 17:return y=o.type,P=o.pendingProps,P=o.elementType===y?P:Qr(y,P),Kc(s,o),o.tag=1,nr(y)?(s=!0,kc(o)):s=!1,Ko(o,d),u0(o,y,P),Bf(o,y,P,d),Qf(null,o,y,!0,s,d);case 19:return I0(s,o,d);case 22:return v0(s,o,d)}throw Error(r(156,o.tag))};function K0(s,o){return Eo(s,o)}function Ib(s,o,d,y){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,o,d,y){return new Ib(s,o,d,y)}function mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rb(s){if(typeof s=="function")return mm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===fe)return 14}return 2}function Mi(s,o){var d=s.alternate;return d===null?(d=Or(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function oh(s,o,d,y,P,I){var O=2;if(y=s,typeof s=="function")mm(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case C:return Ls(d.children,P,I,o);case b:O=8,P|=8;break;case x:return s=Or(12,d,o,P|2),s.elementType=x,s.lanes=I,s;case D:return s=Or(13,d,o,P),s.elementType=D,s.lanes=I,s;case de:return s=Or(19,d,o,P),s.elementType=de,s.lanes=I,s;case ce:return ah(d,P,I,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:O=10;break e;case L:O=9;break e;case M:O=11;break e;case fe:O=14;break e;case Te:O=16,y=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return o=Or(O,d,o,P),o.elementType=s,o.type=y,o.lanes=I,o}function Ls(s,o,d,y){return s=Or(7,s,y,o),s.lanes=d,s}function ah(s,o,d,y){return s=Or(22,s,y,o),s.elementType=ce,s.lanes=d,s.stateNode={isHidden:!1},s}function pm(s,o,d){return s=Or(6,s,null,o),s.lanes=d,s}function gm(s,o,d){return o=Or(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function bb(s,o,d,y,P){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=y,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function ym(s,o,d,y,P,I,O,U,$){return s=new bb(s,o,d,U,$),o===1?(o=1,I===!0&&(o|=8)):o=0,I=Or(3,null,null,o),s.current=I,I.stateNode=s,I.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(I),s}function Cb(s,o,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:y==null?null:""+y,children:s,containerInfo:o,implementation:d}}function Y0(s){if(!s)return xi;s=s._reactInternals;e:{if(Mr(s)!==s||s.tag!==1)throw Error(r(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(nr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(nr(d))return Tv(s,d,o)}return o}function X0(s,o,d,y,P,I,O,U,$){return s=ym(d,y,!0,s,P,I,O,U,$),s.context=Y0(null),d=s.current,y=Yt(),P=ji(d),I=Gn(y,P),I.callback=o??null,qi(d,I,P),s.current.lanes=P,Pi(s,P,y),or(s,y),s}function uh(s,o,d,y){var P=o.current,I=Yt(),O=ji(P);return d=Y0(d),o.context===null?o.context=d:o.pendingContext=d,o=Gn(I,O),o.payload={element:s},y=y===void 0?null:y,y!==null&&(o.callback=y),s=qi(P,o,O),s!==null&&(Xr(s,P,O,I),Mc(s,P,O)),O}function lh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function J0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function vm(s,o){J0(s,o),(s=s.alternate)&&J0(s,o)}function Ab(){return null}var Z0=typeof reportError=="function"?reportError:function(s){console.error(s)};function wm(s){this._internalRoot=s}ch.prototype.render=wm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));uh(s,o,null,null)},ch.prototype.unmount=wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;qs(function(){uh(null,s,null,null)}),o[$n]=null}};function ch(s){this._internalRoot=s}ch.prototype.unstable_scheduleHydration=function(s){if(s){var o=cc();s={blockedOn:null,target:s,priority:o};for(var d=0;d<ln.length&&o!==0&&o<ln[d].priority;d++);ln.splice(d,0,s),d===0&&fc(s)}};function _m(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ew(){}function xb(s,o,d,y,P){if(P){if(typeof y=="function"){var I=y;y=function(){var Y=lh(O);I.call(Y)}}var O=X0(o,y,s,0,null,!1,!1,"",ew);return s._reactRootContainer=O,s[$n]=O.current,hu(s.nodeType===8?s.parentNode:s),qs(),O}for(;P=s.lastChild;)s.removeChild(P);if(typeof y=="function"){var U=y;y=function(){var Y=lh($);U.call(Y)}}var $=ym(s,0,!1,null,null,!1,!1,"",ew);return s._reactRootContainer=$,s[$n]=$.current,hu(s.nodeType===8?s.parentNode:s),qs(function(){uh(o,$,d,y)}),$}function dh(s,o,d,y,P){var I=d._reactRootContainer;if(I){var O=I;if(typeof P=="function"){var U=P;P=function(){var $=lh(O);U.call($)}}uh(o,O,s,P)}else O=xb(d,o,s,P,y);return lh(O)}uc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var d=wi(o.pendingLanes);d!==0&&(Ei(o,d|1),or(o,et()),!(We&6)&&(ea=et()+500,ki()))}break;case 13:qs(function(){var y=Wn(s,1);if(y!==null){var P=Yt();Xr(y,s,1,P)}}),vm(s,1)}},Io=function(s){if(s.tag===13){var o=Wn(s,134217728);if(o!==null){var d=Yt();Xr(o,s,134217728,d)}vm(s,134217728)}},lc=function(s){if(s.tag===13){var o=ji(s),d=Wn(s,o);if(d!==null){var y=Yt();Xr(d,s,o,y)}vm(s,o)}},cc=function(){return Ve},hc=function(s,o){var d=Ve;try{return Ve=s,o()}finally{Ve=d}},go=function(s,o,d){switch(o){case"input":if(La(s,d),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var y=d[o];if(y!==s&&y.form===s.form){var P=Ac(y);if(!P)throw Error(r(90));lo(y),La(y,P)}}}break;case"textarea":mo(s,d);break;case"select":o=d.value,o!=null&&Nn(s,!!d.multiple,o,!1)}},fs=hm,Wa=qs;var kb={usingClientEntryPoint:!1,Events:[mu,Uo,Ac,an,za,hm]},Cu={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ob={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ka(s),s===null?null:s.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||Ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{vs=fh.inject(Ob),dr=fh}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kb,ar.createPortal=function(s,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_m(o))throw Error(r(200));return Cb(s,o,null,d)},ar.createRoot=function(s,o){if(!_m(s))throw Error(r(299));var d=!1,y="",P=Z0;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onRecoverableError!==void 0&&(P=o.onRecoverableError)),o=ym(s,1,!1,null,null,d,!1,y,P),s[$n]=o.current,hu(s.nodeType===8?s.parentNode:s),new wm(o)},ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Ka(o),s=s===null?null:s.stateNode,s},ar.flushSync=function(s){return qs(s)},ar.hydrate=function(s,o,d){if(!hh(o))throw Error(r(200));return dh(null,s,o,!0,d)},ar.hydrateRoot=function(s,o,d){if(!_m(s))throw Error(r(405));var y=d!=null&&d.hydratedSources||null,P=!1,I="",O=Z0;if(d!=null&&(d.unstable_strictMode===!0&&(P=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),o=X0(o,null,s,1,d??null,P,!1,I,O),s[$n]=o.current,hu(s),y)for(s=0;s<y.length;s++)d=y[s],P=d._getVersion,P=P(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,P]:o.mutableSourceEagerHydrationData.push(d,P);return new ch(o)},ar.render=function(s,o,d){if(!hh(o))throw Error(r(200));return dh(null,s,o,!1,d)},ar.unmountComponentAtNode=function(s){if(!hh(s))throw Error(r(40));return s._reactRootContainer?(qs(function(){dh(null,null,s,!1,function(){s._reactRootContainer=null,s[$n]=null})}),!0):!1},ar.unstable_batchedUpdates=hm,ar.unstable_renderSubtreeIntoContainer=function(s,o,d,y){if(!hh(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return dh(s,o,d,!1,y)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var uw;function Bb(){if(uw)return Sm.exports;uw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sm.exports=Hb(),Sm.exports}var lw;function zb(){if(lw)return ph;lw=1;var t=Bb();return ph.createRoot=t.createRoot,ph.hydrateRoot=t.hydrateRoot,ph}var Wb=zb(),xu={},cw;function Gb(){if(cw)return xu;cw=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.parse=c,xu.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,f){const v=new a,_=p.length;if(_<2)return v;const S=(f==null?void 0:f.decode)||g;let E=0;do{const R=p.indexOf("=",E);if(R===-1)break;const k=p.indexOf(";",E),q=k===-1?_:k;if(R>q){E=p.lastIndexOf(";",R-1)+1;continue}const F=l(p,E,R),V=u(p,R,F),C=p.slice(F,V);if(v[C]===void 0){let b=l(p,R+1,q),x=u(p,q,b);const N=S(p.slice(b,x));v[C]=N}E=q+1}while(E<_);return v}function l(p,f,v){do{const _=p.charCodeAt(f);if(_!==32&&_!==9)return f}while(++f<v);return v}function u(p,f,v){for(;f>v;){const _=p.charCodeAt(--f);if(_!==32&&_!==9)return f+1}return v}function h(p,f,v){const _=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=_(f);if(!e.test(S))throw new TypeError(`argument val is invalid: ${f}`);let E=p+"="+S;if(!v)return E;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);E+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);E+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);E+="; Path="+v.path}if(v.expires){if(!w(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);E+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(E+="; HttpOnly"),v.secure&&(E+="; Secure"),v.partitioned&&(E+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return E}function g(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function w(p){return i.call(p)==="[object Date]"}return xu}Gb();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hw="popstate";function Qb(t={}){function e(n,i){let{pathname:a,search:c,hash:l}=n.location;return Fp("",{pathname:a,search:c,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:el(i)}return Yb(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kb(){return Math.random().toString(36).substring(2,10)}function dw(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:r,key:e&&e.key||n||Kb()}}function el({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ra(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Yb(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,l="POP",u=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function w(){l="POP";let S=g(),E=S==null?null:S-h;h=S,u&&u({action:l,location:_.location,delta:E})}function p(S,E){l="PUSH";let R=Fp(_.location,S,E);h=g()+1;let k=dw(R,h),q=_.createHref(R);try{c.pushState(k,"",q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(q)}a&&u&&u({action:l,location:_.location,delta:1})}function f(S,E){l="REPLACE";let R=Fp(_.location,S,E);h=g();let k=dw(R,h),q=_.createHref(R);c.replaceState(k,"",q),a&&u&&u({action:l,location:_.location,delta:0})}function v(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof S=="string"?S:el(S);return R=R.replace(/ $/,"%20"),ct(E,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,E)}let _={get action(){return l},get location(){return t(i,c)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,w),u=S,()=>{i.removeEventListener(hw,w),u=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let E=v(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:f,go(S){return c.go(S)}};return _}function nE(t,e,r="/"){return Xb(t,e,r,!1)}function Xb(t,e,r,n){let i=typeof e=="string"?Ra(e):e,a=es(i.pathname||"/",r);if(a==null)return null;let c=iE(t);Jb(c);let l=null;for(let u=0;l==null&&u<c.length;++u){let h=l2(a);l=a2(c[u],h,n)}return l}function iE(t,e=[],r=[],n=""){let i=(a,c,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};u.relativePath.startsWith("/")&&(ct(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let h=ei([n,u.relativePath]),g=r.concat(u);a.children&&a.children.length>0&&(ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),iE(a.children,e,g,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:s2(h,a.index),routesMeta:g})};return t.forEach((a,c)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,c);else for(let u of sE(a.path))i(a,c,u)}),e}function sE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=sE(n.join("/")),l=[];return l.push(...c.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...c),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Jb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:o2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Zb=/^:[\w-]+$/,e2=3,t2=2,r2=1,n2=10,i2=-2,fw=t=>t==="*";function s2(t,e){let r=t.split("/"),n=r.length;return r.some(fw)&&(n+=i2),e&&(n+=t2),r.filter(i=>!fw(i)).reduce((i,a)=>i+(Zb.test(a)?e2:a===""?r2:n2),n)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function a2(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",c=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=Wh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},g),p=u.route;if(!w&&h&&r&&!n[n.length-1].route.index&&(w=Wh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:ei([a,w.pathname]),pathnameBase:f2(ei([a,w.pathnameBase])),route:p}),w.pathnameBase!=="/"&&(a=ei([a,w.pathnameBase]))}return c}function Wh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=u2(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,{paramName:g,isOptional:w},p)=>{if(g==="*"){let v=l[p]||"";c=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const f=l[p];return w&&!f?h[g]=void 0:h[g]=(f||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function u2(t,e=!1,r=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function l2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function es(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function c2(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ra(t):t;return{pathname:r?r.startsWith("/")?r:h2(r,e):e,search:m2(n),hash:p2(i)}}function h2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rm(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oE(t){let e=d2(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function aE(t,e,r,n=!1){let i;typeof t=="string"?i=Ra(t):(i={...t},ct(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,l;if(c==null)l=r;else{let w=e.length-1;if(!n&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),w-=1;i.pathname=p.join("/")}l=w>=0?e[w]:"/"}let u=c2(i,l),h=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||g)&&(u.pathname+="/"),u}var ei=t=>t.join("/").replace(/\/\/+/g,"/"),f2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uE=["POST","PUT","PATCH","DELETE"];new Set(uE);var y2=["GET",...uE];new Set(y2);var ba=B.createContext(null);ba.displayName="DataRouter";var vd=B.createContext(null);vd.displayName="DataRouterState";var lE=B.createContext({isTransitioning:!1});lE.displayName="ViewTransition";var v2=B.createContext(new Map);v2.displayName="Fetchers";var w2=B.createContext(null);w2.displayName="Await";var kn=B.createContext(null);kn.displayName="Navigation";var Dl=B.createContext(null);Dl.displayName="Location";var li=B.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var qg=B.createContext(null);qg.displayName="RouteError";function _2(t,{relative:e}={}){ct(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=B.useContext(kn),{hash:i,pathname:a,search:c}=jl(t,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:ei([r,a])),n.createHref({pathname:l,search:c,hash:i})}function Ll(){return B.useContext(Dl)!=null}function to(){return ct(Ll(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Dl).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hE(t){B.useContext(kn).static||B.useLayoutEffect(t)}function dE(){let{isDataRoute:t}=B.useContext(li);return t?q2():P2()}function P2(){ct(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(ba),{basename:e,navigator:r}=B.useContext(kn),{matches:n}=B.useContext(li),{pathname:i}=to(),a=JSON.stringify(oE(n)),c=B.useRef(!1);return hE(()=>{c.current=!0}),B.useCallback((u,h={})=>{if(Rn(c.current,cE),!c.current)return;if(typeof u=="number"){r.go(u);return}let g=aE(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ei([e,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[e,r,a,i,t])}B.createContext(null);function jl(t,{relative:e}={}){let{matches:r}=B.useContext(li),{pathname:n}=to(),i=JSON.stringify(oE(r));return B.useMemo(()=>aE(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function E2(t,e){return fE(t,e)}function fE(t,e,r,n){var E;ct(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(kn),{matches:a}=B.useContext(li),c=a[a.length-1],l=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";mE(u,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=to(),p;if(e){let R=typeof e=="string"?Ra(e):e;ct(h==="/"||((E=R.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),p=R}else p=w;let f=p.pathname||"/",v=f;if(h!=="/"){let R=h.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=nE(t,{pathname:v});Rn(g||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Rn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=b2(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:ei([h,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:ei([h,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return e&&S?B.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function S2(){let t=O2(),e=g2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:i},r):null,c)}var T2=B.createElement(S2,null),I2=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(li.Provider,{value:this.props.routeContext},B.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R2({routeContext:t,match:e,children:r}){let n=B.useContext(ba);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(li.Provider,{value:t},r)}function b2(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let u=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ct(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:g,errors:w}=r,p=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!w||w[h.route.id]===void 0);if(h.route.lazy||p){c=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,h,g)=>{let w,p=!1,f=null,v=null;r&&(w=a&&h.route.id?a[h.route.id]:void 0,f=h.route.errorElement||T2,c&&(l<0&&g===0?(mE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===g&&(p=!0,v=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),S=()=>{let E;return w?E=f:p?E=v:h.route.Component?E=B.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=u,B.createElement(R2,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?B.createElement(I2,{location:r.location,revalidation:r.revalidation,component:f,error:w,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function Ng(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(t){let e=B.useContext(ba);return ct(e,Ng(t)),e}function A2(t){let e=B.useContext(vd);return ct(e,Ng(t)),e}function x2(t){let e=B.useContext(li);return ct(e,Ng(t)),e}function Dg(t){let e=x2(t),r=e.matches[e.matches.length-1];return ct(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function k2(){return Dg("useRouteId")}function O2(){var n;let t=B.useContext(qg),e=A2("useRouteError"),r=Dg("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function q2(){let{router:t}=C2("useNavigate"),e=Dg("useNavigate"),r=B.useRef(!1);return hE(()=>{r.current=!0}),B.useCallback(async(i,a={})=>{Rn(r.current,cE),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var mw={};function mE(t,e,r){!e&&!mw[t]&&(mw[t]=!0,Rn(!1,r))}B.memo(N2);function N2({routes:t,future:e,state:r}){return fE(t,void 0,r,e)}function Vs(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D2({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){ct(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof r=="string"&&(r=Ra(r));let{pathname:u="/",search:h="",hash:g="",state:w=null,key:p="default"}=r,f=B.useMemo(()=>{let v=es(u,c);return v==null?null:{location:{pathname:v,search:h,hash:g,state:w,key:p},navigationType:n}},[c,u,h,g,w,p,n]);return Rn(f!=null,`<Router basename="${c}"> is not able to match the URL "${u}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:B.createElement(kn.Provider,{value:l},B.createElement(Dl.Provider,{children:e,value:f}))}function L2({children:t,location:e}){return E2(Mp(t),e)}function Mp(t,e=[]){let r=[];return B.Children.forEach(t,(n,i)=>{if(!B.isValidElement(n))return;let a=[...e,i];if(n.type===B.Fragment){r.push.apply(r,Mp(n.props.children,a));return}ct(n.type===Vs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Mp(n.props.children,a)),r.push(c)}),r}var Nh="get",Dh="application/x-www-form-urlencoded";function wd(t){return t!=null&&typeof t.tagName=="string"}function j2(t){return wd(t)&&t.tagName.toLowerCase()==="button"}function F2(t){return wd(t)&&t.tagName.toLowerCase()==="form"}function M2(t){return wd(t)&&t.tagName.toLowerCase()==="input"}function V2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U2(t,e){return t.button===0&&(!e||e==="_self")&&!V2(t)}var gh=null;function $2(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var H2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(t){return t!=null&&!H2.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):t}function B2(t,e){let r,n,i,a,c;if(F2(t)){let l=t.getAttribute("action");n=l?es(l,e):null,r=t.getAttribute("method")||Nh,i=bm(t.getAttribute("enctype"))||Dh,a=new FormData(t)}else if(j2(t)||M2(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(n=u?es(u,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Nh,i=bm(t.getAttribute("formenctype"))||bm(l.getAttribute("enctype"))||Dh,a=new FormData(l,t),!$2()){let{name:h,type:g,value:w}=t;if(g==="image"){let p=h?`${h}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else h&&a.append(h,w)}}else{if(wd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nh,n=null,i=Dh,c=t}return a&&i==="text/plain"&&(c=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:c}}function Lg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function z2(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G2(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await z2(a,r);return c.links?c.links():[]}return[]}));return X2(n.flat(1).filter(W2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pw(t,e,r,n,i,a){let c=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,l=(u,h)=>{var g;return r[h].pathname!==u.pathname||((g=r[h].route.path)==null?void 0:g.endsWith("*"))&&r[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>c(u,h)||l(u,h)):a==="data"?e.filter((u,h)=>{var w;let g=n.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(c(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Q2(t,e){return K2(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function K2(t){return[...new Set(t)]}function Y2(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function X2(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(Y2(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function J2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Z2(){let t=B.useContext(ba);return Lg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eC(){let t=B.useContext(vd);return Lg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jg=B.createContext(void 0);jg.displayName="FrameworkContext";function pE(){let t=B.useContext(jg);return Lg(t,"You must render this element inside a <HydratedRouter> element"),t}function tC(t,e){let r=B.useContext(jg),[n,i]=B.useState(!1),[a,c]=B.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:g,onTouchStart:w}=e,p=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=E=>{E.forEach(R=>{c(R.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),B.useEffect(()=>{if(n){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[n]);let f=()=>{i(!0)},v=()=>{i(!1),c(!1)};return r?t!=="intent"?[a,p,{}]:[a,p,{onFocus:ku(l,f),onBlur:ku(u,v),onMouseEnter:ku(h,f),onMouseLeave:ku(g,v),onTouchStart:ku(w,f)}]:[!1,p,{}]}function ku(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function rC({page:t,...e}){let{router:r}=Z2(),n=B.useMemo(()=>nE(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?B.createElement(iC,{page:t,matches:n,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function nC(t){let{manifest:e,routeModules:r}=pE(),[n,i]=B.useState([]);return B.useEffect(()=>{let a=!1;return G2(t,e,r).then(c=>{a||i(c)}),()=>{a=!0}},[t,e,r]),n}function iC({page:t,matches:e,...r}){let n=to(),{manifest:i,routeModules:a}=pE(),{loaderData:c,matches:l}=eC(),u=B.useMemo(()=>pw(t,e,l,i,n,"data"),[t,e,l,i,n]),h=B.useMemo(()=>pw(t,e,l,i,n,"assets"),[t,e,l,i,n]),g=B.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let f=new Set,v=!1;if(e.forEach(S=>{var R;let E=i.routes[S.route.id];!E||!E.hasLoader||(!u.some(k=>k.route.id===S.route.id)&&S.route.id in c&&((R=a[S.route.id])!=null&&R.shouldRevalidate)||E.hasClientLoader?v=!0:f.add(S.route.id))}),f.size===0)return[];let _=J2(t);return v&&f.size>0&&_.searchParams.set("_routes",e.filter(S=>f.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[c,n,i,u,e,t,a]),w=B.useMemo(()=>Q2(h,i),[h,i]),p=nC(h);return B.createElement(B.Fragment,null,g.map(f=>B.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),w.map(f=>B.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),p.map(({key:f,link:v})=>B.createElement("link",{key:f,...v})))}function sC(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gE&&(window.__reactRouterVersion="7.0.2")}catch{}function oC({basename:t,children:e,window:r}){let n=B.useRef();n.current==null&&(n.current=Qb({window:r,v5Compat:!0}));let i=n.current,[a,c]=B.useState({action:i.action,location:i.location}),l=B.useCallback(u=>{B.startTransition(()=>c(u))},[c]);return B.useLayoutEffect(()=>i.listen(l),[i,l]),B.createElement(D2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var yE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=B.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:c,state:l,target:u,to:h,preventScrollReset:g,viewTransition:w,...p},f){let{basename:v}=B.useContext(kn),_=typeof h=="string"&&yE.test(h),S,E=!1;if(typeof h=="string"&&_&&(S=h,gE))try{let x=new URL(window.location.href),N=h.startsWith("//")?new URL(x.protocol+h):new URL(h),L=es(N.pathname,v);N.origin===x.origin&&L!=null?h=L+N.search+N.hash:E=!0}catch{Rn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=_2(h,{relative:i}),[k,q,F]=tC(n,p),V=cC(h,{replace:c,state:l,target:u,preventScrollReset:g,relative:i,viewTransition:w});function C(x){e&&e(x),x.defaultPrevented||V(x)}let b=B.createElement("a",{...p,...F,href:S||R,onClick:E||a?e:C,ref:sC(f,q),target:u,"data-discover":!_&&r==="render"?"true":void 0});return k&&!_?B.createElement(B.Fragment,null,b,B.createElement(rC,{page:R})):b});_n.displayName="Link";var aC=B.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:c,viewTransition:l,children:u,...h},g){let w=jl(c,{relative:h.relative}),p=to(),f=B.useContext(vd),{navigator:v,basename:_}=B.useContext(kn),S=f!=null&&pC(w)&&l===!0,E=v.encodeLocation?v.encodeLocation(w).pathname:w.pathname,R=p.pathname,k=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(R=R.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&_&&(k=es(k,_)||k);const q=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let F=R===E||!i&&R.startsWith(E)&&R.charAt(q)==="/",V=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),C={isActive:F,isPending:V,isTransitioning:S},b=F?e:void 0,x;typeof n=="function"?x=n(C):x=[n,F?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(C):a;return B.createElement(_n,{...h,"aria-current":b,className:x,ref:g,style:N,to:c,viewTransition:l},typeof u=="function"?u(C):u)});aC.displayName="NavLink";var uC=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:c=Nh,action:l,onSubmit:u,relative:h,preventScrollReset:g,viewTransition:w,...p},f)=>{let v=fC(),_=mC(l,{relative:h}),S=c.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&yE.test(l),R=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let q=k.nativeEvent.submitter,F=(q==null?void 0:q.getAttribute("formmethod"))||c;v(q||k.currentTarget,{fetcherKey:e,method:F,navigate:r,replace:i,state:a,relative:h,preventScrollReset:g,viewTransition:w})};return B.createElement("form",{ref:f,method:S,action:_,onSubmit:n?u:R,...p,"data-discover":!E&&t==="render"?"true":void 0})});uC.displayName="Form";function lC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vE(t){let e=B.useContext(ba);return ct(e,lC(t)),e}function cC(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:c}={}){let l=dE(),u=to(),h=jl(t,{relative:a});return B.useCallback(g=>{if(U2(g,e)){g.preventDefault();let w=r!==void 0?r:el(u)===el(h);l(t,{replace:w,state:n,preventScrollReset:i,relative:a,viewTransition:c})}},[u,l,h,r,n,e,t,i,a,c])}var hC=0,dC=()=>`__${String(++hC)}__`;function fC(){let{router:t}=vE("useSubmit"),{basename:e}=B.useContext(kn),r=k2();return B.useCallback(async(n,i={})=>{let{action:a,method:c,encType:l,formData:u,body:h}=B2(n,e);if(i.navigate===!1){let g=i.fetcherKey||dC();await t.fetch(g,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function mC(t,{relative:e}={}){let{basename:r}=B.useContext(kn),n=B.useContext(li);ct(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...jl(t||".",{relative:e})},c=to();if(t==null){a.search=c.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(g=>g==="")){l.delete("index"),u.filter(w=>w).forEach(w=>l.append("index",w));let g=l.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ei([r,a.pathname])),el(a)}function pC(t,e={}){let r=B.useContext(lE);ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=vE("useViewTransitionState"),i=jl(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=es(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=es(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wh(i.pathname,c)!=null||Wh(i.pathname,a)!=null}new TextEncoder;const Ca=()=>{const[t,e]=B.useState(!1),r=()=>{e(!t)};return W.jsxs("nav",{className:"navbar",children:[W.jsx("div",{className:"navbar-logo",children:"Manga Seeking"}),W.jsxs("div",{className:`navbar-links ${t?"open-fullscreen":""}`,children:[W.jsx(_n,{to:"/",onClick:()=>e(!1),children:"Trang chu"}),W.jsx(_n,{to:"/mylist",onClick:()=>e(!1),children:"Danh sach"}),W.jsx(_n,{to:"/search",onClick:()=>e(!1),children:"Tim kim"}),W.jsx(_n,{to:"/user",onClick:()=>e(!1),children:"Tai khoan"})]}),W.jsxs("div",{className:"navbar-hamburger",onClick:r,children:[W.jsx("div",{className:"line"}),W.jsx("div",{className:"line"}),W.jsx("div",{className:"line"})]})]})},gw="data:image/svg+xml,%3csvg%20width='204'%20height='204'%20viewBox='0%200%20204%20204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M187.639%2069.9021C193.092%2067.8586%20199.226%2070.6143%20200.696%2076.2484C206.238%2097.4863%20204.802%20120.051%20196.436%20140.546C186.737%20164.31%20168.435%20183.543%20145.182%20194.409C121.928%20205.275%2095.4333%20206.975%2070.9821%20199.169C46.5309%20191.364%2025.9211%20174.628%2013.2642%20152.299C0.607328%20129.97%20-3.16618%20103.69%202.6965%2078.7016C8.55918%2053.7134%2023.627%2031.854%2044.8941%2017.4842C66.1612%203.11439%2092.0641%20-2.7094%20117.435%201.17464C139.317%204.52444%20159.415%2014.8827%20174.791%2030.5466C178.869%2034.702%20178.083%2041.3805%20173.529%2045.009C168.975%2048.6374%20162.385%2047.8272%20158.195%2043.7832C146.212%2032.2155%20130.877%2024.5642%20114.244%2022.0179C94.1181%2018.9368%2073.5701%2023.5566%2056.6994%2034.9558C39.8288%2046.355%2027.8758%2063.6955%2023.2251%2083.518C18.5744%20103.34%2021.5679%20124.188%2031.6082%20141.901C41.6486%20159.614%2057.9979%20172.89%2077.3943%20179.082C96.7908%20185.274%20117.809%20183.925%20136.255%20175.305C154.701%20166.686%20169.219%20151.429%20176.914%20132.578C183.273%20116.999%20184.584%2099.9117%20180.815%2083.688C179.497%2078.0164%20182.187%2071.9457%20187.639%2069.9021Z'%20fill='url(%23paint0_linear_16_339)'/%3e%3cpath%20d='M66.08%2099.16C66.08%20103.804%2069.32%20107.512%2074.036%20107.512C74.648%20107.512%2075.08%20107.44%2075.332%20107.296L69.896%20115H77.528L83.072%20106.18C84.476%20103.912%2085.376%20101.32%2085.376%2098.98C85.376%2093.724%2081.308%2089.8%2075.728%2089.8C70.256%2089.8%2066.08%2093.76%2066.08%2099.16ZM72.416%2098.908C72.416%2097.072%2073.892%2095.668%2075.764%2095.668C77.636%2095.668%2079.076%2097.108%2079.076%2098.944C79.076%20100.78%2077.636%20102.184%2075.764%20102.184C73.892%20102.184%2072.416%20100.744%2072.416%2098.908ZM94.3971%20104.92C94.9371%20104.056%2095.9811%20103.372%2097.3131%20103.372C99.1491%20103.372%20100.481%20104.668%20100.481%20106.432C100.481%20108.196%2099.1491%20109.6%2097.3131%20109.6C95.4051%20109.6%2094.3611%20108.34%2094.2531%20107.224H87.9171C88.0251%20112.228%2091.6971%20115.504%2097.4211%20115.504C102.785%20115.504%20106.889%20111.508%20106.889%20106.108C106.889%20101.644%20103.685%2097.936%2098.9691%2097.936C97.4211%2097.936%2096.0531%2098.332%2094.8651%2099.088L95.3331%2095.92H105.161V90.304H90.3651L88.5291%20103.696L94.3971%20104.92ZM121.357%2096.028C121.357%2092.608%20118.585%2089.944%20115.021%2089.944C111.457%2089.944%20108.685%2092.608%20108.685%2096.028C108.685%2099.448%20111.457%20102.112%20115.021%20102.112C118.585%20102.112%20121.357%2099.448%20121.357%2096.028ZM117.109%2096.028C117.109%2097.288%20116.209%2098.152%20115.021%2098.152C113.833%2098.152%20112.933%2097.288%20112.933%2096.028C112.933%2094.768%20113.833%2093.904%20115.021%2093.904C116.209%2093.904%20117.109%2094.768%20117.109%2096.028ZM134.857%2090.268H129.349L110.989%20115H116.497L134.857%2090.268ZM124.489%20109.24C124.489%20112.66%20127.261%20115.324%20130.825%20115.324C134.389%20115.324%20137.161%20112.66%20137.161%20109.24C137.161%20105.82%20134.389%20103.156%20130.825%20103.156C127.261%20103.156%20124.489%20105.82%20124.489%20109.24ZM128.737%20109.24C128.737%20107.98%20129.637%20107.116%20130.825%20107.116C132.013%20107.116%20132.913%20107.98%20132.913%20109.24C132.913%20110.5%20132.013%20111.364%20130.825%20111.364C129.637%20111.364%20128.737%20110.5%20128.737%20109.24Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_16_339'%20x1='-12.4348'%20y1='91.2145'%20x2='228.124'%20y2='92.098'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23AA367C'/%3e%3cstop%20offset='1'%20stop-color='%234A2FBD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",gC="data:image/svg+xml,%3csvg%20width='204'%20height='204'%20viewBox='0%200%20204%20204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M187.639%2069.9021C193.092%2067.8586%20199.226%2070.6143%20200.696%2076.2484C206.238%2097.4863%20204.802%20120.051%20196.436%20140.546C186.737%20164.31%20168.435%20183.543%20145.182%20194.409C121.928%20205.275%2095.4333%20206.975%2070.9821%20199.169C46.5309%20191.364%2025.9211%20174.628%2013.2642%20152.299C0.607328%20129.97%20-3.16618%20103.69%202.6965%2078.7016C8.55918%2053.7134%2023.627%2031.854%2044.8941%2017.4842C66.1612%203.11439%2092.0641%20-2.7094%20117.435%201.17464C139.317%204.52444%20159.415%2014.8827%20174.791%2030.5466C178.869%2034.702%20178.083%2041.3805%20173.529%2045.009C168.975%2048.6374%20162.385%2047.8272%20158.195%2043.7832C146.212%2032.2155%20130.877%2024.5642%20114.244%2022.0179C94.1181%2018.9368%2073.5701%2023.5566%2056.6994%2034.9558C39.8288%2046.355%2027.8758%2063.6955%2023.2251%2083.518C18.5744%20103.34%2021.5679%20124.188%2031.6082%20141.901C41.6486%20159.614%2057.9979%20172.89%2077.3943%20179.082C96.7908%20185.274%20117.809%20183.925%20136.255%20175.305C154.701%20166.686%20169.219%20151.429%20176.914%20132.578C183.273%20116.999%20184.584%2099.9117%20180.815%2083.688C179.497%2078.0164%20182.187%2071.9457%20187.639%2069.9021Z'%20fill='url(%23paint0_linear_16_344)'/%3e%3cpath%20d='M75.656%2089.8C71.048%2089.8%2067.16%2092.644%2067.16%2096.964C67.16%2099.016%2068.276%20100.636%2069.968%20101.644C68.06%20102.616%2066.08%20104.668%2066.08%20107.548C66.08%20112.552%2070.652%20115.504%2075.656%20115.504C80.66%20115.504%2085.232%20112.552%2085.232%20107.548C85.232%20104.668%2083.252%20102.616%2081.344%20101.644C83.036%20100.636%2084.152%2099.016%2084.152%2096.964C84.152%2092.644%2080.264%2089.8%2075.656%2089.8ZM78.752%20107.188C78.752%20108.88%2077.492%20110.104%2075.656%20110.104C73.82%20110.104%2072.56%20108.88%2072.56%20107.188C72.56%20105.568%2073.82%20104.308%2075.656%20104.308C77.492%20104.308%2078.752%20105.568%2078.752%20107.188ZM75.656%2095.056C77.096%2095.056%2078.212%2096.028%2078.212%2097.432C78.212%2098.836%2077.132%2099.808%2075.656%2099.808C74.18%2099.808%2073.1%2098.836%2073.1%2097.432C73.1%2096.028%2074.216%2095.056%2075.656%2095.056ZM109.525%20102.652C109.525%2095.848%20105.637%2089.8%2098.5807%2089.8C91.4887%2089.8%2087.6007%2095.848%2087.6007%20102.652C87.6007%20109.456%2091.4887%20115.504%2098.5807%20115.504C105.637%20115.504%20109.525%20109.456%20109.525%20102.652ZM102.829%20102.652C102.829%20106%20101.533%20109.276%2098.5807%20109.276C95.5927%20109.276%2094.2967%20106%2094.2967%20102.652C94.2967%2099.304%2095.5927%2096.028%2098.5807%2096.028C101.533%2096.028%20102.829%2099.304%20102.829%20102.652ZM124.381%2096.028C124.381%2092.608%20121.609%2089.944%20118.045%2089.944C114.481%2089.944%20111.709%2092.608%20111.709%2096.028C111.709%2099.448%20114.481%20102.112%20118.045%20102.112C121.609%20102.112%20124.381%2099.448%20124.381%2096.028ZM120.133%2096.028C120.133%2097.288%20119.233%2098.152%20118.045%2098.152C116.857%2098.152%20115.957%2097.288%20115.957%2096.028C115.957%2094.768%20116.857%2093.904%20118.045%2093.904C119.233%2093.904%20120.133%2094.768%20120.133%2096.028ZM137.881%2090.268H132.373L114.013%20115H119.521L137.881%2090.268ZM127.513%20109.24C127.513%20112.66%20130.285%20115.324%20133.849%20115.324C137.413%20115.324%20140.185%20112.66%20140.185%20109.24C140.185%20105.82%20137.413%20103.156%20133.849%20103.156C130.285%20103.156%20127.513%20105.82%20127.513%20109.24ZM131.761%20109.24C131.761%20107.98%20132.661%20107.116%20133.849%20107.116C135.037%20107.116%20135.937%20107.98%20135.937%20109.24C135.937%20110.5%20135.037%20111.364%20133.849%20111.364C132.661%20111.364%20131.761%20110.5%20131.761%20109.24Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_16_344'%20x1='-12.4348'%20y1='91.2145'%20x2='228.124'%20y2='92.098'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23AA367C'/%3e%3cstop%20offset='1'%20stop-color='%234A2FBD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",yC="data:image/svg+xml,%3csvg%20width='204'%20height='204'%20viewBox='0%200%20204%20204'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M187.639%2069.9021C193.092%2067.8586%20199.226%2070.6143%20200.696%2076.2484C206.238%2097.4863%20204.802%20120.051%20196.436%20140.546C186.737%20164.31%20168.435%20183.543%20145.182%20194.409C121.928%20205.275%2095.4333%20206.975%2070.9821%20199.169C46.5309%20191.364%2025.9211%20174.628%2013.2642%20152.299C0.607328%20129.97%20-3.16618%20103.69%202.6965%2078.7016C8.55918%2053.7134%2023.627%2031.854%2044.8941%2017.4842C66.1612%203.11439%2092.0641%20-2.7094%20117.435%201.17464C139.317%204.52444%20159.415%2014.8827%20174.791%2030.5466C178.869%2034.702%20178.083%2041.3805%20173.529%2045.009C168.975%2048.6374%20162.385%2047.8272%20158.195%2043.7832C146.212%2032.2155%20130.877%2024.5642%20114.244%2022.0179C94.1181%2018.9368%2073.5701%2023.5566%2056.6994%2034.9558C39.8288%2046.355%2027.8758%2063.6955%2023.2251%2083.518C18.5744%20103.34%2021.5679%20124.188%2031.6082%20141.901C41.6486%20159.614%2057.9979%20172.89%2077.3943%20179.082C96.7908%20185.274%20117.809%20183.925%20136.255%20175.305C154.701%20166.686%20169.219%20151.429%20176.914%20132.578C183.273%20116.999%20184.584%2099.9117%20180.815%2083.688C179.497%2078.0164%20182.187%2071.9457%20187.639%2069.9021Z'%20fill='url(%23paint0_linear_16_349)'/%3e%3cpath%20d='M66.08%2099.16C66.08%20103.804%2069.32%20107.512%2074.036%20107.512C74.648%20107.512%2075.08%20107.44%2075.332%20107.296L69.896%20115H77.528L83.072%20106.18C84.476%20103.912%2085.376%20101.32%2085.376%2098.98C85.376%2093.724%2081.308%2089.8%2075.728%2089.8C70.256%2089.8%2066.08%2093.76%2066.08%2099.16ZM72.416%2098.908C72.416%2097.072%2073.892%2095.668%2075.764%2095.668C77.636%2095.668%2079.076%2097.108%2079.076%2098.944C79.076%20100.78%2077.636%20102.184%2075.764%20102.184C73.892%20102.184%2072.416%20100.744%2072.416%2098.908ZM109.665%20102.652C109.665%2095.848%20105.777%2089.8%2098.7213%2089.8C91.6293%2089.8%2087.7413%2095.848%2087.7413%20102.652C87.7413%20109.456%2091.6293%20115.504%2098.7213%20115.504C105.777%20115.504%20109.665%20109.456%20109.665%20102.652ZM102.969%20102.652C102.969%20106%20101.673%20109.276%2098.7213%20109.276C95.7333%20109.276%2094.4373%20106%2094.4373%20102.652C94.4373%2099.304%2095.7333%2096.028%2098.7213%2096.028C101.673%2096.028%20102.969%2099.304%20102.969%20102.652ZM124.521%2096.028C124.521%2092.608%20121.749%2089.944%20118.185%2089.944C114.621%2089.944%20111.849%2092.608%20111.849%2096.028C111.849%2099.448%20114.621%20102.112%20118.185%20102.112C121.749%20102.112%20124.521%2099.448%20124.521%2096.028ZM120.273%2096.028C120.273%2097.288%20119.373%2098.152%20118.185%2098.152C116.997%2098.152%20116.097%2097.288%20116.097%2096.028C116.097%2094.768%20116.997%2093.904%20118.185%2093.904C119.373%2093.904%20120.273%2094.768%20120.273%2096.028ZM138.021%2090.268H132.513L114.153%20115H119.661L138.021%2090.268ZM127.653%20109.24C127.653%20112.66%20130.425%20115.324%20133.989%20115.324C137.553%20115.324%20140.325%20112.66%20140.325%20109.24C140.325%20105.82%20137.553%20103.156%20133.989%20103.156C130.425%20103.156%20127.653%20105.82%20127.653%20109.24ZM131.901%20109.24C131.901%20107.98%20132.801%20107.116%20133.989%20107.116C135.177%20107.116%20136.077%20107.98%20136.077%20109.24C136.077%20110.5%20135.177%20111.364%20133.989%20111.364C132.801%20111.364%20131.901%20110.5%20131.901%20109.24Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_16_349'%20x1='-12.4348'%20y1='91.2145'%20x2='228.124'%20y2='92.098'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23AA367C'/%3e%3cstop%20offset='1'%20stop-color='%234A2FBD'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";var yh={},na={},lt={},Cm={},yw;function Fg(){return yw||(yw=1,function(t){function e(c,l,u){var h=l.slidesToShow,g=l.currentSlide;return u.length>2*h?c+2*h:g>=u.length?u.length+c:c}function r(c,l){if(l.length>2*c){for(var u={},h=l.length-2*c,g=l.length-h,w=h,p=0;p<g;p++)u[p]=w,w++;var f=l.length+g,v=f+l.slice(0,2*c).length,_=0;for(p=f;p<=v;p++)u[p]=_,_++;var S=f,E=0;for(p=g;p<S;p++)u[p]=E,E++;return u}u={};var R=3*l.length,k=0;for(p=0;p<R;p++)u[p]=k,++k===l.length&&(k=0);return u}function n(c,l){return l.length<c?l:l.length>2*c?l.slice(l.length-2*c,l.length).concat(l,l.slice(0,2*c)):l.concat(l,l)}function i(c,l){return l.length>2*c?2*c:l.length}function a(c,l,u){var h,g=c.currentSlide,w=c.slidesToShow,p=c.itemWidth,f=c.totalItems,v=0,_=0,S=g===0,E=l.length-(l.length-2*w);return l.length<w?(_=v=0,S=h=!1):l.length>2*w?((h=g>=E+l.length)&&(_=-p*(v=g-l.length)),S&&(_=-p*(v=E+(l.length-2*w)))):((h=g>=2*l.length)&&(_=-p*(v=g-l.length)),S&&(_=u.showDots?-p*(v=l.length):-p*(v=f/3))),{isReachingTheEnd:h,isReachingTheStart:S,nextSlide:v,nextPosition:_}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOriginalCounterPart=e,t.getOriginalIndexLookupTableByClones=r,t.getClones=n,t.getInitialSlideInInfiniteMode=i,t.checkClonesPosition=a}(Cm)),Cm}var ia={},vw;function wE(){if(vw)return ia;vw=1,Object.defineProperty(ia,"__esModule",{value:!0});function t(n,i,a,c){var l=0,u=c||a;return i&&u&&(l=n[u].partialVisibilityGutter||n[u].paritialVisibilityGutter),l}function e(n,i){var a;return i[n]&&(a=(100/i[n].items).toFixed(1)),a}function r(n,i,a){return Math.round(a/(i+(n.centerMode?1:0)))}return ia.getPartialVisibilityGutter=t,ia.getWidthFromDeviceType=e,ia.getItemClientSideWidth=r,ia}var wr={},ww;function Ws(){if(ww)return wr;ww=1,Object.defineProperty(wr,"__esModule",{value:!0});var t=wE();function e(w){var p=w.slidesToShow;return w.totalItems<p}function r(w,p){var f,v=w.domLoaded,_=w.slidesToShow,S=w.containerWidth,E=w.itemWidth,R=p.deviceType,k=p.responsive,q=p.ssr,F=p.partialVisbile,V=p.partialVisible,C=!!(v&&_&&S&&E);q&&R&&!C&&(f=t.getWidthFromDeviceType(R,k));var b=!!(q&&R&&!C&&f);return{shouldRenderOnSSR:b,flexBisis:f,domFullyLoaded:C,partialVisibilityGutter:t.getPartialVisibilityGutter(k,F||V,R,w.deviceType),shouldRenderAtAll:b||C}}function n(w,p){var f=p.currentSlide,v=p.slidesToShow;return f<=w&&w<f+v}function i(w,p,f){var v=f||w.transform;return!p.infinite&&w.currentSlide===0||e(w)?v:v+w.itemWidth/2}function a(w){return!(0<w.currentSlide)}function c(w){var p=w.currentSlide,f=w.totalItems;return!(p+w.slidesToShow<f)}function l(w,p,f,v){p===void 0&&(p=0);var _=w.currentSlide,S=w.slidesToShow,E=c(w),R=!f.infinite&&E,k=v||w.transform;if(e(w))return k;var q=k+_*p;return R?q+(w.containerWidth-(w.itemWidth-p)*S):q}function u(w,p){return w.rtl?-1*p:p}function h(w,p,f){var v=p.partialVisbile,_=p.partialVisible,S=p.responsive,E=p.deviceType,R=p.centerMode,k=f||w.transform,q=t.getPartialVisibilityGutter(S,v||_,E,w.deviceType);return u(p,_||v?l(w,q,p,f):R?i(w,p,f):k)}function g(w,p){var f=w.domLoaded,v=w.slidesToShow,_=w.containerWidth,S=w.itemWidth,E=p.deviceType,R=p.responsive,k=p.slidesToSlide||1,q=!!(f&&v&&_&&S);return p.ssr&&p.deviceType&&!q&&Object.keys(R).forEach(function(F){var V=R[F].slidesToSlide;E===F&&V&&(k=V)}),q&&Object.keys(R).forEach(function(F){var V=R[F],C=V.breakpoint,b=V.slidesToSlide,x=C.max,N=C.min;b&&window.innerWidth>=N&&window.innerWidth<=x&&(k=b)}),k}return wr.notEnoughChildren=e,wr.getInitialState=r,wr.getIfSlideIsVisbile=n,wr.getTransformForCenterMode=i,wr.isInLeftEnd=a,wr.isInRightEnd=c,wr.getTransformForPartialVsibile=l,wr.parsePosition=u,wr.getTransform=h,wr.getSlidesToSlide=g,wr}var vh={},_w;function vC(){if(_w)return vh;_w=1,Object.defineProperty(vh,"__esModule",{value:!0});var t=function(e,r,n){var i;return function(){var a=arguments;i||(e.apply(this,a),i=!0,typeof n=="function"&&n(!0),setTimeout(function(){i=!1,typeof n=="function"&&n(!1)},r))}};return vh.default=t,vh}var Am={},Pw;function wC(){return Pw||(Pw=1,function(t){function e(r,n){var i=n.partialVisbile,a=n.partialVisible,c=n.centerMode,l=n.ssr,u=n.responsive;if((i||a)&&c)throw new Error("center mode can not be used at the same time with partialVisible");if(!u)throw l?new Error("ssr mode need to be used in conjunction with responsive prop"):new Error("Responsive prop is needed for deciding the amount of items to show on the screen");if(u&&typeof u!="object")throw new Error("responsive prop must be an object")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=e}(Am)),Am}var wh={},Ew;function _C(){if(Ew)return wh;Ew=1,Object.defineProperty(wh,"__esModule",{value:!0});var t=Ws();function e(r,n,i){i===void 0&&(i=0);var a,c,l=r.slidesToShow,u=r.currentSlide,h=r.itemWidth,g=r.totalItems,w=t.getSlidesToSlide(r,n),p=u+1+i+l+(0<i?0:w);return c=p<=g?-h*(a=u+i+(0<i?0:w)):g<p&&u!==g-l?-h*(a=g-l):a=void 0,{nextSlides:a,nextPosition:c}}return wh.populateNextSlides=e,wh}var _h={},Sw;function PC(){if(Sw)return _h;Sw=1,Object.defineProperty(_h,"__esModule",{value:!0});var t=rn(),e=Ws(),r=Ws();function n(i,a,c){c===void 0&&(c=0);var l,u,h=i.currentSlide,g=i.itemWidth,w=i.slidesToShow,p=a.children,f=a.showDots,v=a.infinite,_=e.getSlidesToSlide(i,a),S=h-c-(0<c?0:_),E=(t.Children.toArray(p).length-w)%_;return u=0<=S?(l=S,f&&!v&&0<E&&r.isInRightEnd(i)&&(l=h-E),-g*l):l=S<0&&h!==0?0:void 0,{nextSlides:l,nextPosition:u}}return _h.populatePreviousSlides=n,_h}var xm={},Tw;function EC(){return Tw||(Tw=1,function(t){function e(r,n,i,a,c,l){var u,h,g=r.itemWidth,w=r.slidesToShow,p=r.totalItems,f=r.currentSlide,v=n.infinite,_=!1,S=Math.round((i-a)/g),E=Math.round((a-i)/g),R=i<c;if(c<i&&S<=w){u="right";var k=Math.abs(-g*(p-w)),q=l-(a-c),F=f===p-w;(Math.abs(q)<=k||F&&v)&&(h=q,_=!0)}return R&&E<=w&&(u="left",((q=l+(c-a))<=0||f===0&&v)&&(_=!0,h=q)),{direction:u,nextPosition:h,canContinue:_}}Object.defineProperty(t,"__esModule",{value:!0}),t.populateSlidesOnMouseTouchMove=e}(xm)),xm}var Iw;function _E(){if(Iw)return lt;Iw=1,Object.defineProperty(lt,"__esModule",{value:!0});var t=Fg();lt.getOriginalCounterPart=t.getOriginalCounterPart,lt.getClones=t.getClones,lt.checkClonesPosition=t.checkClonesPosition,lt.getInitialSlideInInfiniteMode=t.getInitialSlideInInfiniteMode;var e=wE();lt.getWidthFromDeviceType=e.getWidthFromDeviceType,lt.getPartialVisibilityGutter=e.getPartialVisibilityGutter,lt.getItemClientSideWidth=e.getItemClientSideWidth;var r=Ws();lt.getInitialState=r.getInitialState,lt.getIfSlideIsVisbile=r.getIfSlideIsVisbile,lt.getTransformForCenterMode=r.getTransformForCenterMode,lt.getTransformForPartialVsibile=r.getTransformForPartialVsibile,lt.isInLeftEnd=r.isInLeftEnd,lt.isInRightEnd=r.isInRightEnd,lt.notEnoughChildren=r.notEnoughChildren,lt.getSlidesToSlide=r.getSlidesToSlide;var n=vC();lt.throttle=n.default;var i=wC();lt.throwError=i.default;var a=_C();lt.populateNextSlides=a.populateNextSlides;var c=PC();lt.populatePreviousSlides=c.populatePreviousSlides;var l=EC();return lt.populateSlidesOnMouseTouchMove=l.populateSlidesOnMouseTouchMove,lt}var js={},Rw;function SC(){if(Rw)return js;Rw=1;var t=js&&js.__extends||function(){var i=function(a,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])})(a,c)};return function(a,c){function l(){this.constructor=a}i(a,c),a.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(js,"__esModule",{value:!0});var e=rn();function r(i){return"clientY"in i}js.isMouseMoveEvent=r;var n=function(i){function a(){return i!==null&&i.apply(this,arguments)||this}return t(a,i),a}(e.Component);return js.default=n,js}var Ph={},Eh={},bw;function TC(){if(bw)return Eh;bw=1,Object.defineProperty(Eh,"__esModule",{value:!0});var t=Fg(),e=Ws();function r(n,i,a,c){var l={},u=e.getSlidesToSlide(i,a);return Array(n).fill(0).forEach(function(h,g){var w=t.getOriginalCounterPart(g,i,c);if(g===0)l[0]=w;else{var p=l[g-1]+u;l[g]=p}}),l}return Eh.getLookupTableForNextSlides=r,Eh}var Cw;function IC(){if(Cw)return Ph;Cw=1,Object.defineProperty(Ph,"__esModule",{value:!0});var t=rn(),e=Fg(),r=TC(),n=Ws(),i=function(a){var c=a.props,l=a.state,u=a.goToSlide,h=a.getState,g=c.showDots,w=c.customDot,p=c.dotListClass,f=c.infinite,v=c.children;if(!g||n.notEnoughChildren(l))return null;var _,S=l.currentSlide,E=l.slidesToShow,R=n.getSlidesToSlide(l,c),k=t.Children.toArray(v);_=f?Math.ceil(k.length/R):Math.ceil((k.length-E)/R)+1;var q=r.getLookupTableForNextSlides(_,l,c,k),F=e.getOriginalIndexLookupTableByClones(E,k),V=F[S];return t.createElement("ul",{className:"react-multi-carousel-dot-list "+p},Array(_).fill(0).map(function(C,b){var x,N;if(f){N=q[b];var L=F[N];x=V===L||L<=V&&V<L+R}else{var M=k.length-E,D=b*R;x=(N=M<D?M:D)===S||N<S&&S<N+R&&S<k.length-E}return w?t.cloneElement(w,{index:b,active:x,key:b,onClick:function(){return u(N)},carouselState:h()}):t.createElement("li",{"data-index":b,key:b,className:"react-multi-carousel-dot "+(x?"react-multi-carousel-dot--active":"")},t.createElement("button",{"aria-label":"Go to slide "+(b+1),onClick:function(){return u(N)}}))}))};return Ph.default=i,Ph}var Ou={},Aw;function RC(){if(Aw)return Ou;Aw=1,Object.defineProperty(Ou,"__esModule",{value:!0});var t=rn(),e=function(n){var i=n.customLeftArrow,a=n.getState,c=n.previous,l=n.disabled,u=n.rtl;if(i)return t.cloneElement(i,{onClick:function(){return c()},carouselState:a(),disabled:l,rtl:u});var h=u?"rtl":"";return t.createElement("button",{"aria-label":"Go to previous slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--left "+h,onClick:function(){return c()},type:"button",disabled:l})};Ou.LeftArrow=e;var r=function(n){var i=n.customRightArrow,a=n.getState,c=n.next,l=n.disabled,u=n.rtl;if(i)return t.cloneElement(i,{onClick:function(){return c()},carouselState:a(),disabled:l,rtl:u});var h=u?"rtl":"";return t.createElement("button",{"aria-label":"Go to next slide",className:"react-multiple-carousel__arrow react-multiple-carousel__arrow--right "+h,onClick:function(){return c()},type:"button",disabled:l})};return Ou.RightArrow=r,Ou}var Sh={},xw;function bC(){if(xw)return Sh;xw=1,Object.defineProperty(Sh,"__esModule",{value:!0});var t=rn(),e=_E(),r=function(n){var i=n.props,a=n.state,c=n.goToSlide,l=n.clones,u=n.notEnoughChildren,h=a.itemWidth,g=i.children,w=i.infinite,p=i.itemClass,f=i.itemAriaLabel,v=i.partialVisbile,_=i.partialVisible,S=e.getInitialState(a,i),E=S.flexBisis,R=S.shouldRenderOnSSR,k=S.domFullyLoaded,q=S.partialVisibilityGutter;return S.shouldRenderAtAll?(v&&console.warn('WARNING: Please correct props name: "partialVisible" as old typo will be removed in future versions!'),t.createElement(t.Fragment,null,(w?l:t.Children.toArray(g)).map(function(F,V){return t.createElement("li",{key:V,"data-index":V,onClick:function(){i.focusOnSelect&&c(V)},"aria-hidden":e.getIfSlideIsVisbile(V,a)?"false":"true","aria-label":f||(F.props.ariaLabel?F.props.ariaLabel:null),style:{flex:R?"1 0 "+E+"%":"auto",position:"relative",width:k?((v||_)&&q&&!u?h-q:h)+"px":"auto"},className:"react-multi-carousel-item "+(e.getIfSlideIsVisbile(V,a)?"react-multi-carousel-item--active":"")+" "+p},F)}))):null};return Sh.default=r,Sh}var kw;function CC(){if(kw)return na;kw=1;var t=na&&na.__extends||function(){var w=function(p,f){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var S in _)_.hasOwnProperty(S)&&(v[S]=_[S])})(p,f)};return function(p,f){function v(){this.constructor=p}w(p,f),p.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(na,"__esModule",{value:!0});var e=rn(),r=_E(),n=SC(),i=IC(),a=RC(),c=bC(),l=Ws(),u=400,h="transform 400ms ease-in-out",g=function(w){function p(f){var v=w.call(this,f)||this;return v.containerRef=e.createRef(),v.listRef=e.createRef(),v.state={itemWidth:0,slidesToShow:0,currentSlide:0,totalItems:e.Children.count(f.children),deviceType:"",domLoaded:!1,transform:0,containerWidth:0},v.onResize=v.onResize.bind(v),v.handleDown=v.handleDown.bind(v),v.handleMove=v.handleMove.bind(v),v.handleOut=v.handleOut.bind(v),v.onKeyUp=v.onKeyUp.bind(v),v.handleEnter=v.handleEnter.bind(v),v.setIsInThrottle=v.setIsInThrottle.bind(v),v.next=r.throttle(v.next.bind(v),f.transitionDuration||u,v.setIsInThrottle),v.previous=r.throttle(v.previous.bind(v),f.transitionDuration||u,v.setIsInThrottle),v.goToSlide=r.throttle(v.goToSlide.bind(v),f.transitionDuration||u,v.setIsInThrottle),v.onMove=!1,v.initialX=0,v.lastX=0,v.isAnimationAllowed=!1,v.direction="",v.initialY=0,v.isInThrottle=!1,v.transformPlaceHolder=0,v}return t(p,w),p.prototype.resetTotalItems=function(){var f=this,v=e.Children.count(this.props.children),_=r.notEnoughChildren(this.state)?0:Math.max(0,Math.min(this.state.currentSlide,v));this.setState({totalItems:v,currentSlide:_},function(){f.setContainerAndItemWidth(f.state.slidesToShow,!0)})},p.prototype.setIsInThrottle=function(f){f===void 0&&(f=!1),this.isInThrottle=f},p.prototype.setTransformDirectly=function(f,v){var _=this.props.additionalTransfrom;this.transformPlaceHolder=f;var S=l.getTransform(this.state,this.props,this.transformPlaceHolder);this.listRef&&this.listRef.current&&(this.setAnimationDirectly(v),this.listRef.current.style.transform="translate3d("+(S+_)+"px,0,0)")},p.prototype.setAnimationDirectly=function(f){this.listRef&&this.listRef.current&&(this.listRef.current.style.transition=f?this.props.customTransition||h:"none")},p.prototype.componentDidMount=function(){this.setState({domLoaded:!0}),this.setItemsToShow(),window.addEventListener("resize",this.onResize),this.onResize(!0),this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),this.props.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},p.prototype.setClones=function(f,v,_,S){var E=this;S===void 0&&(S=!1),this.isAnimationAllowed=!1;var R=e.Children.toArray(this.props.children),k=r.getInitialSlideInInfiniteMode(f||this.state.slidesToShow,R),q=r.getClones(this.state.slidesToShow,R),F=R.length<this.state.slidesToShow?0:this.state.currentSlide;this.setState({totalItems:q.length,currentSlide:_&&!S?F:k},function(){E.correctItemsPosition(v||E.state.itemWidth)})},p.prototype.setItemsToShow=function(f,v){var _=this,S=this.props.responsive;Object.keys(S).forEach(function(E){var R=S[E],k=R.breakpoint,q=R.items,F=k.max,V=k.min,C=[window.innerWidth];window.screen&&window.screen.width&&C.push(window.screen.width);var b=Math.min.apply(Math,C);V<=b&&b<=F&&(_.setState({slidesToShow:q,deviceType:E}),_.setContainerAndItemWidth(q,f,v))})},p.prototype.setContainerAndItemWidth=function(f,v,_){var S=this;if(this.containerRef&&this.containerRef.current){var E=this.containerRef.current.offsetWidth,R=r.getItemClientSideWidth(this.props,f,E);this.setState({containerWidth:E,itemWidth:R},function(){S.props.infinite&&S.setClones(f,R,v,_)}),v&&this.correctItemsPosition(R)}},p.prototype.correctItemsPosition=function(f,v,_){v&&(this.isAnimationAllowed=!0),!v&&this.isAnimationAllowed&&(this.isAnimationAllowed=!1);var S=this.state.totalItems<this.state.slidesToShow?0:-f*this.state.currentSlide;_&&this.setTransformDirectly(S,!0),this.setState({transform:S})},p.prototype.onResize=function(f){var v;v=!!this.props.infinite&&(typeof f!="boolean"||!f),this.setItemsToShow(v)},p.prototype.componentDidUpdate=function(f,v){var _=this,S=f.keyBoardControl,E=f.autoPlay,R=f.children,k=v.containerWidth,q=v.domLoaded,F=v.currentSlide;if(this.containerRef&&this.containerRef.current&&this.containerRef.current.offsetWidth!==k&&(this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),this.itemsToShowTimeout=setTimeout(function(){_.setItemsToShow(!0)},this.props.transitionDuration||u)),S&&!this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),!S&&this.props.keyBoardControl&&window.addEventListener("keyup",this.onKeyUp),E&&!this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),E||!this.props.autoPlay||this.autoPlay||(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed)),R.length!==this.props.children.length?p.clonesTimeout=setTimeout(function(){_.props.infinite?_.setClones(_.state.slidesToShow,_.state.itemWidth,!0,!0):_.resetTotalItems()},this.props.transitionDuration||u):this.props.infinite&&this.state.currentSlide!==F&&this.correctClonesPosition({domLoaded:q}),this.transformPlaceHolder!==this.state.transform&&(this.transformPlaceHolder=this.state.transform),this.props.autoPlay&&this.props.rewind&&!this.props.infinite&&r.isInRightEnd(this.state)){var V=this.props.transitionDuration||u;p.isInThrottleTimeout=setTimeout(function(){_.setIsInThrottle(!1),_.resetAutoplayInterval(),_.goToSlide(0,void 0,!!_.props.rewindWithAnimation)},V+this.props.autoPlaySpeed)}},p.prototype.correctClonesPosition=function(f){var v=this,_=f.domLoaded,S=e.Children.toArray(this.props.children),E=r.checkClonesPosition(this.state,S,this.props),R=E.isReachingTheEnd,k=E.isReachingTheStart,q=E.nextSlide,F=E.nextPosition;this.state.domLoaded&&_&&(R||k)&&(this.isAnimationAllowed=!1,p.transformTimeout=setTimeout(function(){v.setState({transform:F,currentSlide:q})},this.props.transitionDuration||u))},p.prototype.next=function(f){var v=this;f===void 0&&(f=0);var _=this.props,S=_.afterChange,E=_.beforeChange;if(!r.notEnoughChildren(this.state)){var R=r.populateNextSlides(this.state,this.props,f),k=R.nextSlides,q=R.nextPosition,F=this.state.currentSlide;k!==void 0&&q!==void 0&&(typeof E=="function"&&E(k,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:q,currentSlide:k},function(){typeof S=="function"&&(p.afterChangeTimeout=setTimeout(function(){S(F,v.getState())},v.props.transitionDuration||u))}))}},p.prototype.previous=function(f){var v=this;f===void 0&&(f=0);var _=this.props,S=_.afterChange,E=_.beforeChange;if(!r.notEnoughChildren(this.state)){var R=r.populatePreviousSlides(this.state,this.props,f),k=R.nextSlides,q=R.nextPosition;if(k!==void 0&&q!==void 0){var F=this.state.currentSlide;typeof E=="function"&&E(k,this.getState()),this.isAnimationAllowed=!0,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({transform:q,currentSlide:k},function(){typeof S=="function"&&(p.afterChangeTimeout2=setTimeout(function(){S(F,v.getState())},v.props.transitionDuration||u))})}}},p.prototype.resetAutoplayInterval=function(){this.props.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed))},p.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.props.keyBoardControl&&window.removeEventListener("keyup",this.onKeyUp),this.props.autoPlay&&this.autoPlay&&(clearInterval(this.autoPlay),this.autoPlay=void 0),this.itemsToShowTimeout&&clearTimeout(this.itemsToShowTimeout),p.clonesTimeout&&clearTimeout(p.clonesTimeout),p.isInThrottleTimeout&&clearTimeout(p.isInThrottleTimeout),p.transformTimeout&&clearTimeout(p.transformTimeout),p.afterChangeTimeout&&clearTimeout(p.afterChangeTimeout),p.afterChangeTimeout2&&clearTimeout(p.afterChangeTimeout2),p.afterChangeTimeout3&&clearTimeout(p.afterChangeTimeout3)},p.prototype.resetMoveStatus=function(){this.onMove=!1,this.initialX=0,this.lastX=0,this.direction="",this.initialY=0},p.prototype.getCords=function(f){var v=f.clientX,_=f.clientY;return{clientX:l.parsePosition(this.props,v),clientY:l.parsePosition(this.props,_)}},p.prototype.handleDown=function(f){if(!(!n.isMouseMoveEvent(f)&&!this.props.swipeable||n.isMouseMoveEvent(f)&&!this.props.draggable||this.isInThrottle)){var v=this.getCords(n.isMouseMoveEvent(f)?f:f.touches[0]),_=v.clientX,S=v.clientY;this.onMove=!0,this.initialX=_,this.initialY=S,this.lastX=_,this.isAnimationAllowed=!1}},p.prototype.handleMove=function(f){if(!(!n.isMouseMoveEvent(f)&&!this.props.swipeable||n.isMouseMoveEvent(f)&&!this.props.draggable||r.notEnoughChildren(this.state))){var v=this.getCords(n.isMouseMoveEvent(f)?f:f.touches[0]),_=v.clientX,S=v.clientY,E=this.initialX-_,R=this.initialY-S;if(this.onMove){if(!(Math.abs(E)>Math.abs(R)))return;var k=r.populateSlidesOnMouseTouchMove(this.state,this.props,this.initialX,this.lastX,_,this.transformPlaceHolder),q=k.direction,F=k.nextPosition,V=k.canContinue;q&&(this.direction=q,V&&F!==void 0&&this.setTransformDirectly(F)),this.lastX=_}}},p.prototype.handleOut=function(f){this.props.autoPlay&&!this.autoPlay&&(this.autoPlay=setInterval(this.next,this.props.autoPlaySpeed));var v=f.type==="touchend"&&!this.props.swipeable,_=(f.type==="mouseleave"||f.type==="mouseup")&&!this.props.draggable;if(!v&&!_&&this.onMove){if(this.setAnimationDirectly(!0),this.direction==="right")if(this.initialX-this.lastX>=this.props.minimumTouchDrag){var S=Math.round((this.initialX-this.lastX)/this.state.itemWidth);this.next(S)}else this.correctItemsPosition(this.state.itemWidth,!0,!0);this.direction==="left"&&(this.lastX-this.initialX>this.props.minimumTouchDrag?(S=Math.round((this.lastX-this.initialX)/this.state.itemWidth),this.previous(S)):this.correctItemsPosition(this.state.itemWidth,!0,!0)),this.resetMoveStatus()}},p.prototype.isInViewport=function(f){var v=f.getBoundingClientRect(),_=v.top,S=_===void 0?0:_,E=v.left,R=E===void 0?0:E,k=v.bottom,q=k===void 0?0:k,F=v.right,V=F===void 0?0:F;return 0<=S&&0<=R&&q<=(window.innerHeight||document.documentElement.clientHeight)&&V<=(window.innerWidth||document.documentElement.clientWidth)},p.prototype.isChildOfCarousel=function(f){return!!(f instanceof Element&&this.listRef&&this.listRef.current)&&this.listRef.current.contains(f)},p.prototype.onKeyUp=function(f){var v=f.target;switch(f.keyCode){case 37:if(this.isChildOfCarousel(v))return this.previous();break;case 39:if(this.isChildOfCarousel(v))return this.next();break;case 9:if(this.isChildOfCarousel(v)&&v instanceof HTMLInputElement&&this.isInViewport(v))return this.next()}},p.prototype.handleEnter=function(f){n.isMouseMoveEvent(f)&&this.autoPlay&&this.props.autoPlay&&this.props.pauseOnHover&&(clearInterval(this.autoPlay),this.autoPlay=void 0)},p.prototype.goToSlide=function(f,v,_){var S=this;if(_===void 0&&(_=!0),!this.isInThrottle){var E=this.state.itemWidth,R=this.props,k=R.afterChange,q=R.beforeChange,F=this.state.currentSlide;typeof q!="function"||v&&(typeof v!="object"||v.skipBeforeChange)||q(f,this.getState()),this.isAnimationAllowed=_,this.props.shouldResetAutoplay&&this.resetAutoplayInterval(),this.setState({currentSlide:f,transform:-E*f},function(){S.props.infinite&&S.correctClonesPosition({domLoaded:!0}),typeof k!="function"||v&&(typeof v!="object"||v.skipAfterChange)||(p.afterChangeTimeout3=setTimeout(function(){k(F,S.getState())},S.props.transitionDuration||u))})}},p.prototype.getState=function(){return this.state},p.prototype.renderLeftArrow=function(f){var v=this,_=this.props,S=_.customLeftArrow,E=_.rtl;return e.createElement(a.LeftArrow,{customLeftArrow:S,getState:function(){return v.getState()},previous:this.previous,disabled:f,rtl:E})},p.prototype.renderRightArrow=function(f){var v=this,_=this.props,S=_.customRightArrow,E=_.rtl;return e.createElement(a.RightArrow,{customRightArrow:S,getState:function(){return v.getState()},next:this.next,disabled:f,rtl:E})},p.prototype.renderButtonGroups=function(){var f=this,v=this.props.customButtonGroup;return v?e.cloneElement(v,{previous:function(){return f.previous()},next:function(){return f.next()},goToSlide:function(_,S){return f.goToSlide(_,S)},carouselState:this.getState()}):null},p.prototype.renderDotsList=function(){var f=this;return e.createElement(i.default,{state:this.state,props:this.props,goToSlide:this.goToSlide,getState:function(){return f.getState()}})},p.prototype.renderCarouselItems=function(){var f=[];if(this.props.infinite){var v=e.Children.toArray(this.props.children);f=r.getClones(this.state.slidesToShow,v)}return e.createElement(c.default,{clones:f,goToSlide:this.goToSlide,state:this.state,notEnoughChildren:r.notEnoughChildren(this.state),props:this.props})},p.prototype.render=function(){var f=this.props,v=f.deviceType,_=f.arrows,S=f.renderArrowsWhenDisabled,E=f.removeArrowOnDeviceType,R=f.infinite,k=f.containerClass,q=f.sliderClass,F=f.customTransition,V=f.additionalTransfrom,C=f.renderDotsOutside,b=f.renderButtonGroupOutside,x=f.className,N=f.rtl,L=r.getInitialState(this.state,this.props),M=L.shouldRenderOnSSR,D=L.shouldRenderAtAll,de=r.isInLeftEnd(this.state),fe=r.isInRightEnd(this.state),Te=_&&!(E&&(v&&-1<E.indexOf(v)||this.state.deviceType&&-1<E.indexOf(this.state.deviceType)))&&!r.notEnoughChildren(this.state)&&D,ce=!R&&de,X=!R&&fe,oe=l.getTransform(this.state,this.props);return e.createElement(e.Fragment,null,e.createElement("div",{className:"react-multi-carousel-list "+k+" "+x,dir:N?"rtl":"ltr",ref:this.containerRef},e.createElement("ul",{ref:this.listRef,className:"react-multi-carousel-track "+q,style:{transition:this.isAnimationAllowed?F||h:"none",overflow:M?"hidden":"unset",transform:"translate3d("+(oe+V)+"px,0,0)"},onMouseMove:this.handleMove,onMouseDown:this.handleDown,onMouseUp:this.handleOut,onMouseEnter:this.handleEnter,onMouseLeave:this.handleOut,onTouchStart:this.handleDown,onTouchMove:this.handleMove,onTouchEnd:this.handleOut},this.renderCarouselItems()),Te&&(!ce||S)&&this.renderLeftArrow(ce),Te&&(!X||S)&&this.renderRightArrow(X),D&&!b&&this.renderButtonGroups(),D&&!C&&this.renderDotsList()),D&&C&&this.renderDotsList(),D&&b&&this.renderButtonGroups())},p.defaultProps={slidesToSlide:1,infinite:!1,draggable:!0,swipeable:!0,arrows:!0,renderArrowsWhenDisabled:!1,containerClass:"",sliderClass:"",itemClass:"",keyBoardControl:!0,autoPlaySpeed:3e3,showDots:!1,renderDotsOutside:!1,renderButtonGroupOutside:!1,minimumTouchDrag:80,className:"",dotListClass:"",focusOnSelect:!1,centerMode:!1,additionalTransfrom:0,pauseOnHover:!0,shouldResetAutoplay:!0,rewind:!1,rtl:!1,rewindWithAnimation:!1},p}(e.Component);return na.default=g,na}var Ow;function AC(){if(Ow)return yh;Ow=1,Object.defineProperty(yh,"__esModule",{value:!0});var t=CC();return yh.default=t.default,yh}var km,qw;function xC(){return qw||(qw=1,km=AC()),km}var kC=xC();const OC=os(kC),PE="/assets/color-sharp-Ci-JAsLY.png",EE="/assets/color-sharp2-fiM6Hi4Q.png",qC=()=>{const[t,e]=B.useState(""),r=dE(),n=a=>{a.preventDefault(),t.trim()&&r(`/search?query=${t}`)},i={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};return W.jsxs("div",{className:"SF-container",children:[W.jsx("section",{className:"skill",id:"skills",children:W.jsx("div",{className:"container",children:W.jsx("div",{className:"row",children:W.jsx("div",{className:"col-12",children:W.jsxs("div",{className:"skill-bx wow zoomIn",children:[W.jsx("h2",{children:"Tim nhng b truyn tranh va tiu thuyt yu thich cua ban!"}),W.jsxs("p",{children:["Kham pha ngay kho truyn tranh vi u th loai a dang!!",W.jsx("br",{})," Nhp tn truyn, tn tac gia hoc th loai  bt u tim kim."]}),W.jsxs(OC,{responsive:i,infinite:!0,className:"owl-carousel owl-theme skill-slider",children:[W.jsxs("div",{className:"item",children:[W.jsx("img",{src:gw,alt:"Image"}),W.jsx("h5",{children:"Ngi dung hai long"})]}),W.jsxs("div",{className:"item",children:[W.jsx("img",{src:gC,alt:"Image"}),W.jsx("h5",{children:"anh gia tich cc"})]}),W.jsxs("div",{className:"item",children:[W.jsx("img",{src:yC,alt:"Image"}),W.jsx("h5",{children:"Tim kim thanh cng"})]}),W.jsxs("div",{className:"item",children:[W.jsx("img",{src:gw,alt:"Image"}),W.jsx("h5",{children:"Tac gia truyn tin dung"})]})]})]})})})})}),W.jsx("img",{className:"background-image-left",src:PE,alt:"Image"}),W.jsx("img",{className:"background-image-right",src:EE,alt:"Image"}),W.jsxs("form",{className:"search-form",onSubmit:n,children:[W.jsx("input",{type:"text",placeholder:"Nhp t kha v bt u tm kim",value:t,onChange:a=>e(a.target.value)}),W.jsx("button",{type:"submit",children:"Tm kim"})]})]})};var Om={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Nw;function NC(){return Nw||(Nw=1,function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",c=0;c<arguments.length;c++){var l=arguments[c];l&&(a=i(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var l in a)e.call(a,l)&&a[l]&&(c=i(c,l));return c}function i(a,c){return c?a?a+" "+c:a+c:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()}(Om)),Om.exports}var DC=NC();const _d=os(DC);function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gh.apply(null,arguments)}function LC(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}const jC=["xxl","xl","lg","md","sm","xs"],FC="xs",Mg=B.createContext({prefixes:{},breakpoints:jC,minBreakpoint:FC});function Vg(t,e){const{prefixes:r}=B.useContext(Mg);return t||r[e]||e}function SE(){const{breakpoints:t}=B.useContext(Mg);return t}function TE(){const{minBreakpoint:t}=B.useContext(Mg);return t}var qm={exports:{}},Nm,Dw;function MC(){if(Dw)return Nm;Dw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=t,Nm}var Dm,Lw;function VC(){if(Lw)return Dm;Lw=1;var t=MC();function e(){}function r(){}return r.resetWarningCache=e,Dm=function(){function n(c,l,u,h,g,w){if(w!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Dm}var jw;function IE(){return jw||(jw=1,qm.exports=VC()()),qm.exports}var UC=IE();const sa=os(UC);function $C({as:t,bsPrefix:e,className:r,...n}){e=Vg(e,"col");const i=SE(),a=TE(),c=[],l=[];return i.forEach(u=>{const h=n[u];delete n[u];let g,w,p;typeof h=="object"&&h!=null?{span:g,offset:w,order:p}=h:g=h;const f=u!==a?`-${u}`:"";g&&c.push(g===!0?`${e}${f}`:`${e}${f}-${g}`),p!=null&&l.push(`order${f}-${p}`),w!=null&&l.push(`offset${f}-${w}`)}),[{...n,className:_d(r,...c,...l)},{as:t,bsPrefix:e,spans:c}]}const Vp=B.forwardRef((t,e)=>{const[{className:r,...n},{as:i="div",bsPrefix:a,spans:c}]=$C(t);return W.jsx(i,{...n,ref:e,className:_d(r,!c.length&&a)})});Vp.displayName="Col";const RE=B.forwardRef(({bsPrefix:t,fluid:e=!1,as:r="div",className:n,...i},a)=>{const c=Vg(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return W.jsx(r,{ref:a,...i,className:_d(n,e?`${c}${l}`:c)})});RE.displayName="Container";const bE=B.forwardRef(({bsPrefix:t,className:e,as:r="div",...n},i)=>{const a=Vg(t,"row"),c=SE(),l=TE(),u=`${a}-cols`,h=[];return c.forEach(g=>{const w=n[g];delete n[g];let p;w!=null&&typeof w=="object"?{cols:p}=w:p=w;const f=g!==l?`-${g}`:"";p!=null&&h.push(`${u}${f}-${p}`)}),W.jsx(r,{ref:i,...n,className:_d(e,a,...h)})});bE.displayName="Row";const HC="/assets/header-img-D0MzyEBQ.svg";var BC=["color","size","title","className"];function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Up.apply(null,arguments)}function zC(t,e){if(t==null)return{};var r,n,i=WC(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function WC(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var CE=B.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=t.size,a=i===void 0?"1em":i,c=t.title,l=c===void 0?null:c,u=t.className,h=u===void 0?"":u,g=zC(t,BC);return pe.createElement("svg",Up({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:a,height:a,fill:n,className:["bi","bi-arrow-right-circle",h].filter(Boolean).join(" ")},g),l?pe.createElement("title",null,l):null,pe.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"}))});CE.propTypes={color:sa.string,size:sa.oneOfType([sa.string,sa.number]),title:sa.string,className:sa.string};var qu={},Nu={},Lm,Fw;function GC(){if(Fw)return Lm;Fw=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u=typeof mh=="object"&&mh&&mh.Object===Object&&mh,h=typeof self=="object"&&self&&self.Object===Object&&self,g=u||h||Function("return this")(),w=Object.prototype,p=w.toString,f=Math.max,v=Math.min,_=function(){return g.Date.now()};function S(V,C,b){var x,N,L,M,D,de,fe=0,Te=!1,ce=!1,X=!0;if(typeof V!="function")throw new TypeError(t);C=F(C)||0,R(b)&&(Te=!!b.leading,ce="maxWait"in b,L=ce?f(F(b.maxWait)||0,C):L,X="trailing"in b?!!b.trailing:X);function oe(ve){var De=x,ze=N;return x=N=void 0,fe=ve,M=V.apply(ze,De),M}function ie(ve){return fe=ve,D=setTimeout(he,C),Te?oe(ve):M}function H(ve){var De=ve-de,ze=ve-fe,Zt=C-De;return ce?v(Zt,L-ze):Zt}function J(ve){var De=ve-de,ze=ve-fe;return de===void 0||De>=C||De<0||ce&&ze>=L}function he(){var ve=_();if(J(ve))return _e(ve);D=setTimeout(he,H(ve))}function _e(ve){return D=void 0,X&&x?oe(ve):(x=N=void 0,M)}function le(){D!==void 0&&clearTimeout(D),fe=0,x=de=N=D=void 0}function Ee(){return D===void 0?M:_e(_())}function Ie(){var ve=_(),De=J(ve);if(x=arguments,N=this,de=ve,De){if(D===void 0)return ie(de);if(ce)return D=setTimeout(he,C),oe(de)}return D===void 0&&(D=setTimeout(he,C)),M}return Ie.cancel=le,Ie.flush=Ee,Ie}function E(V,C,b){var x=!0,N=!0;if(typeof V!="function")throw new TypeError(t);return R(b)&&(x="leading"in b?!!b.leading:x,N="trailing"in b?!!b.trailing:N),S(V,C,{leading:x,maxWait:C,trailing:N})}function R(V){var C=typeof V;return!!V&&(C=="object"||C=="function")}function k(V){return!!V&&typeof V=="object"}function q(V){return typeof V=="symbol"||k(V)&&p.call(V)==r}function F(V){if(typeof V=="number")return V;if(q(V))return e;if(R(V)){var C=typeof V.valueOf=="function"?V.valueOf():V;V=R(C)?C+"":C}if(typeof V!="string")return V===0?V:+V;V=V.replace(n,"");var b=a.test(V);return b||c.test(V)?l(V.slice(2),b?2:8):i.test(V)?e:+V}return Lm=E,Lm}var jm,Mw;function QC(){return Mw||(Mw=1,jm=function(e,r,n,i){var a=n?n.call(i,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var c=Object.keys(e),l=Object.keys(r);if(c.length!==l.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),h=0;h<c.length;h++){var g=c[h];if(!u(g))return!1;var w=e[g],p=r[g];if(a=n?n.call(i,w,p,g):void 0,a===!1||a===void 0&&w!==p)return!1}return!0}),jm}var Vw;function KC(){if(Vw)return Nu;Vw=1,Nu.__esModule=!0,Nu.default=void 0;var t=a(rn()),e=i(IE()),r=i(GC()),n=i(QC());function i(h){return h&&h.__esModule?h:{default:h}}function a(h){if(h&&h.__esModule)return h;var g={};if(h!=null){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)){var p=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(h,w):{};p.get||p.set?Object.defineProperty(g,w,p):g[w]=h[w]}}return g.default=h,g}function c(){return c=Object.assign||function(h){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var p in w)Object.prototype.hasOwnProperty.call(w,p)&&(h[p]=w[p])}return h},c.apply(this,arguments)}function l(h,g){h.prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g}var u=function(h){l(g,h);function g(p){var f;return f=h.call(this,p)||this,f.isVisible=function(v,_,S){var E=v.top,R=v.left,k=v.bottom,q=v.right,F=v.width,V=v.height,C=f.props,b=C.offset,x=C.partialVisibility;if(E+q+k+R===0)return!1;var N=0-b,L=0-b,M=_+b,D=S+b;return x?E+V>=N&&R+F>=L&&k-V<=D&&q-F<=M:E>=N&&R>=L&&k<=D&&q<=M},f.isComponentVisible=function(){setTimeout(function(){if(!(!f.nodeRef||!f.nodeRef.getBoundingClientRect)){var v=document.documentElement,_=f.props.once,S=f.nodeRef.getBoundingClientRect(),E=window.innerWidth||v.clientWidth,R=window.innerHeight||v.clientHeight,k=f.isVisible(S,E,R);k&&_&&f.removeListener(),f.setState({isVisible:k})}},0)},f.setNodeRef=function(v){return f.nodeRef=v},f.ownProps=Object.keys(g.propTypes),f.state={isVisible:!1},f.throttleCb=(0,r.default)(f.isComponentVisible,f.props.throttleInterval),p.nodeRef&&f.setNodeRef(p.nodeRef),f}var w=g.prototype;return w.componentDidMount=function(){this.attachListener(),this.isComponentVisible()},w.componentDidUpdate=function(f){(0,n.default)(this.getChildProps(this.props),this.getChildProps(f))||this.isComponentVisible()},w.componentWillUnmount=function(){this.removeListener()},w.attachListener=function(){window.addEventListener("scroll",this.throttleCb),window.addEventListener("resize",this.throttleCb)},w.removeListener=function(){window.removeEventListener("scroll",this.throttleCb),window.removeEventListener("resize",this.throttleCb)},w.getChildProps=function(f){var v=this;f===void 0&&(f=this.props);var _={};return Object.keys(f).forEach(function(S){v.ownProps.indexOf(S)===-1&&(_[S]=f[S])}),_},w.getChildren=function(){var f=this;return typeof this.props.children=="function"?this.props.children(c({},this.getChildProps(),{isVisible:this.state.isVisible})):t.default.Children.map(this.props.children,function(v){return t.default.cloneElement(v,c({},f.getChildProps(),{isVisible:f.state.isVisible}))})},w.render=function(){var f=this.props,v=f.className,_=f.style,S=f.nodeRef,E=f.tag,R=c({},v&&{className:v},_&&{style:_});return t.default.createElement(E,c({ref:!S&&this.setNodeRef},R),this.getChildren())},g}(t.PureComponent);return Nu.default=u,u.propTypes={once:e.default.bool,throttleInterval:function(g,w,p){var f=g[w];return!Number.isInteger(f)||f<0?new Error("The "+w+" prop you provided to "+p+" is not a valid integer >= 0."):null},children:e.default.oneOfType([e.default.func,e.default.element,e.default.arrayOf(e.default.element)]),style:e.default.object,className:e.default.string,offset:e.default.number,partialVisibility:e.default.bool,nodeRef:e.default.object,tag:e.default.string},u.defaultProps={once:!1,throttleInterval:150,offset:0,partialVisibility:!1,tag:"div"},Nu}var Uw;function YC(){if(Uw)return qu;Uw=1,qu.__esModule=!0,qu.default=void 0;var t=e(KC());function e(n){return n&&n.__esModule?n:{default:n}}var r=t.default;return qu.default=r,qu}var XC=YC();const $w=os(XC),JC=()=>{const[t,e]=B.useState(0),[r,n]=B.useState(!1),[i,a]=B.useState(""),[c,l]=B.useState(300-Math.random()*100),[u,h]=B.useState(1),g=["Tin Li!","D Dang!","Tc !"],w=2e3;B.useEffect(()=>{let f=setInterval(()=>{p()},c);return()=>{clearInterval(f)}},[i]);const p=()=>{let f=t%g.length,v=g[f],_=r?v.substring(0,i.length-1):v.substring(0,i.length+1);a(_),r&&l(S=>S/2),!r&&_===v?(n(!0),h(S=>S-1),l(w)):r&&_===""?(n(!1),e(t+1),h(1),l(500)):h(S=>S+1)};return W.jsx("section",{className:"banner",id:"home",children:W.jsx(RE,{children:W.jsxs(bE,{className:"align-items-center",children:[W.jsx(Vp,{xs:12,md:6,xl:7,className:"text-col",children:W.jsx($w,{children:({isVisible:f})=>W.jsxs("div",{className:f?"animate__animated animate__fadeIn":"",children:[W.jsx("span",{className:"tagline",children:"Chao mng n vi MangaSeeking Website"}),W.jsxs("h1",{children:["Kham pha kho truyn cua ban mt cach"," ",W.jsx("span",{className:"txt-rotate","data-period":"1000","data-rotate":'[ "Tin Li!", "D Dang!", "Tc !"]',children:W.jsx("span",{className:"wrap",children:i})})]}),W.jsx("p",{children:"Tim kim va lu tr hang triu cun truyn tranh cua ban ngay hm nay!!!"}),W.jsxs("button",{className:"Start-btn",onClick:()=>document.getElementById("SearchForm").scrollIntoView({behavior:"smooth"}),children:["Bt u tim kim ngay nao!!! ",W.jsx(CE,{size:25})]})]})})}),W.jsx(Vp,{xs:12,md:6,xl:5,className:"image-col",children:W.jsx($w,{children:({isVisible:f})=>W.jsx("div",{className:f?"animate__animated animate__zoomIn":"",children:W.jsx("img",{src:HC,alt:"Header Img"})})})})]})})})},ZC=()=>W.jsxs("div",{className:"BG-container",children:[W.jsx(Ca,{}),W.jsx(JC,{}),W.jsx("div",{id:"SearchForm",children:W.jsx(qC,{})})]});var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},eA=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],c=t[r++],l=t[r++],u=((i&7)<<18|(a&63)<<12|(c&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const a=t[r++],c=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,l=c?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,g=a>>2,w=(a&3)<<4|l>>4;let p=(l&15)<<2|h>>6,f=h&63;u||(f=64,c||(p=64)),n.push(r[g],r[w],r[p],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const w=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||h==null||w==null)throw new tA;const p=a<<2|l>>4;if(n.push(p),h!==64){const f=l<<4&240|h>>2;if(n.push(f),w!==64){const v=h<<6&192|w;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(t){const e=AE(t);return xE.encodeByteArray(e,!0)},Qh=function(t){return rA(t).replace(/\./g,"")},kE=function(t){try{return xE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=()=>nA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof Hw>"u")return;const t=Hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kE(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return iA()||sA()||oA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OE=t=>{var e,r;return(r=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},aA=t=>{const e=OE(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},qE=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},NE=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qh(JSON.stringify(r)),Qh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function hA(){var t;const e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function gA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="FirebaseError";class nn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=yA,Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?vA(a,n):"Error",l=`${this.serviceName}: ${c} (${i}).`;return new nn(i,l,n)}}function vA(t,e){return t.replace(wA,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const wA=/\{\$([^}]+)}/g;function _A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],c=e[i];if(Bw(a)&&Bw(c)){if(!tl(a,c))return!1}else if(a!==c)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $u(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function PA(t,e){const r=new EA(t,e);return r.subscribe.bind(r)}class EA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");SA(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Fm),i.error===void 0&&(i.error=Fm),i.complete===void 0&&(i.complete=Fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SA(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1e3,IA=2,RA=4*60*60*1e3,bA=.5;function zw(t,e=TA,r=IA){const n=e*Math.pow(r,t),i=Math.round(bA*n*(Math.random()-.5)*2);return Math.min(RA,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return t&&t._delegate?t._delegate:t}class en{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new uA;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,c]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&c.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===Us?void 0:t}function xA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new CA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const OA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},qA=je.INFO,NA={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},DA=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=NA[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ed{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const LA=(t,e)=>e.some(r=>t instanceof r);let Ww,Gw;function jA(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return Gw||(Gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,$p=new WeakMap,ME=new WeakMap,Mm=new WeakMap,Ug=new WeakMap;function MA(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{r(Xi(t.result)),i()},c=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(r=>{r instanceof IDBCursor&&FE.set(r,t)}).catch(()=>{}),Ug.set(e,t),e}function VA(t){if($p.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{r(),i()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});$p.set(t,e)}let Hp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ME.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UA(t){Hp=t(Hp)}function $A(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Vm(this),e,...r);return ME.set(n,e.sort?e.sort():[e]),Xi(n)}:FA().includes(t)?function(...e){return t.apply(Vm(this),e),Xi(FE.get(this))}:function(...e){return Xi(t.apply(Vm(this),e))}}function HA(t){return typeof t=="function"?$A(t):(t instanceof IDBTransaction&&VA(t),LA(t,jA())?new Proxy(t,Hp):t)}function Xi(t){if(t instanceof IDBRequest)return MA(t);if(Mm.has(t))return Mm.get(t);const e=HA(t);return e!==t&&(Mm.set(t,e),Ug.set(e,t)),e}const Vm=t=>Ug.get(t);function VE(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),l=Xi(c);return n&&c.addEventListener("upgradeneeded",u=>{n(Xi(c.result),u.oldVersion,u.newVersion,Xi(c.transaction),u)}),r&&c.addEventListener("blocked",u=>r(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const BA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Um=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=zA.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||BA.includes(r)))return;const a=async function(c,...l){const u=this.transaction(c,i?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[r](...l),i&&u.done]))[0]};return Um.set(e,a),a}UA(t=>({...t,get:(e,r,n)=>Qw(e,r)||t.get(e,r,n),has:(e,r)=>!!Qw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(GA(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function GA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",Kw="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Ed("@firebase/app"),QA="@firebase/app-compat",KA="@firebase/analytics-compat",YA="@firebase/analytics",XA="@firebase/app-check-compat",JA="@firebase/app-check",ZA="@firebase/auth",ex="@firebase/auth-compat",tx="@firebase/database",rx="@firebase/data-connect",nx="@firebase/database-compat",ix="@firebase/functions",sx="@firebase/functions-compat",ox="@firebase/installations",ax="@firebase/installations-compat",ux="@firebase/messaging",lx="@firebase/messaging-compat",cx="@firebase/performance",hx="@firebase/performance-compat",dx="@firebase/remote-config",fx="@firebase/remote-config-compat",mx="@firebase/storage",px="@firebase/storage-compat",gx="@firebase/firestore",yx="@firebase/vertexai",vx="@firebase/firestore-compat",wx="firebase",_x="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="[DEFAULT]",Px={[Bp]:"fire-core",[QA]:"fire-core-compat",[YA]:"fire-analytics",[KA]:"fire-analytics-compat",[JA]:"fire-app-check",[XA]:"fire-app-check-compat",[ZA]:"fire-auth",[ex]:"fire-auth-compat",[tx]:"fire-rtdb",[rx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[ix]:"fire-fn",[sx]:"fire-fn-compat",[ox]:"fire-iid",[ax]:"fire-iid-compat",[ux]:"fire-fcm",[lx]:"fire-fcm-compat",[cx]:"fire-perf",[hx]:"fire-perf-compat",[dx]:"fire-rc",[fx]:"fire-rc-compat",[mx]:"fire-gcs",[px]:"fire-gcs-compat",[gx]:"fire-fst",[vx]:"fire-fst-compat",[yx]:"fire-vertex","fire-js":"fire-js",[wx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,Ex=new Map,Wp=new Map;function Yw(t,e){try{t.container.addComponent(e)}catch(r){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bn(t){const e=t.name;if(Wp.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,t);for(const r of Kh.values())Yw(r,t);for(const r of Ex.values())Yw(r,t);return!0}function no(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new ro("app","Firebase",Sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=_x;function UE(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(r||(r=qE()),!r)throw Ji.create("no-options");const a=Kh.get(i);if(a){if(tl(r,a.options)&&tl(n,a.config))return a;throw Ji.create("duplicate-app",{appName:i})}const c=new kA(i);for(const u of Wp.values())c.addComponent(u);const l=new Tx(r,n,c);return Kh.set(i,l),l}function $g(t=zp){const e=Kh.get(t);if(!e&&t===zp&&qE())return UE();if(!e)throw Ji.create("no-app",{appName:t});return e}function Lr(t,e,r){var n;let i=(n=Px[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&l.push("and"),c&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}bn(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebase-heartbeat-database",Rx=1,rl="firebase-heartbeat-store";let $m=null;function $E(){return $m||($m=VE(Ix,Rx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),$m}async function bx(t){try{const r=(await $E()).transaction(rl),n=await r.objectStore(rl).get(HE(t));return await r.done,n}catch(e){if(e instanceof nn)ii.warn(e.message);else{const r=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(r.message)}}}async function Xw(t,e){try{const n=(await $E()).transaction(rl,"readwrite");await n.objectStore(rl).put(e,HE(t)),await n.done}catch(r){if(r instanceof nn)ii.warn(r.message);else{const n=Ji.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ii.warn(n.message)}}}function HE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1024,Ax=30*24*60*60*1e3;class xx{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ox(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Jw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const l=new Date(c.date).valueOf();return Date.now()-l<=Ax}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ii.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Jw(),{heartbeatsToSend:n,unsentEntries:i}=kx(this._heartbeatsCache.heartbeats),a=Qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ii.warn(r),""}}}function Jw(){return new Date().toISOString().substring(0,10)}function kx(t,e=Cx){const r=[];let n=t.slice();for(const i of t){const a=r.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),Zw(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Zw(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bx(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zw(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){bn(new en("platform-logger",e=>new WA(e),"PRIVATE")),bn(new en("heartbeat",e=>new xx(e),"PRIVATE")),Lr(Bp,Kw,t),Lr(Bp,Kw,"esm2017"),Lr("fire-js","")}qx("");var Nx="firebase",Dx="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(Nx,Dx,"app");const BE="@firebase/installations",Hg="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=1e4,WE=`w:${Hg}`,GE="FIS_v2",Lx="https://firebaseinstallations.googleapis.com/v1",jx=60*60*1e3,Fx="installations",Mx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new ro(Fx,Mx,Vx);function QE(t){return t instanceof nn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE({projectId:t}){return`${Lx}/projects/${t}/installations`}function YE(t){return{token:t.token,requestStatus:2,expiresIn:$x(t.expiresIn),creationTime:Date.now()}}async function XE(t,e){const n=(await e.json()).error;return Gs.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function JE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ux(t,{refreshToken:e}){const r=JE(t);return r.append("Authorization",Hx(e)),r}async function ZE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $x(t){return Number(t.replace("s","000"))}function Hx(t){return`${GE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=KE(t),i=JE(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const c={fid:r,authVersion:GE,appId:t.appId,sdkVersion:WE},l={method:"POST",headers:i,body:JSON.stringify(c)},u=await ZE(()=>fetch(n,l));if(u.ok){const h=await u.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:YE(h.authToken)}}else throw await XE("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^[cdef][\w-]{21}$/,Gp="";function Gx(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Qx(t);return Wx.test(r)?r:Gp}catch{return Gp}}function Qx(t){return zx(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;function rS(t,e){const r=Sd(t);nS(r,e),Kx(r,e)}function nS(t,e){const r=tS.get(t);if(r)for(const n of r)n(e)}function Kx(t,e){const r=Yx();r&&r.postMessage({key:t,fid:e}),Xx()}let $s=null;function Yx(){return!$s&&"BroadcastChannel"in self&&($s=new BroadcastChannel("[Firebase] FID Change"),$s.onmessage=t=>{nS(t.data.key,t.data.fid)}),$s}function Xx(){tS.size===0&&$s&&($s.close(),$s=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="firebase-installations-database",Zx=1,Qs="firebase-installations-store";let Hm=null;function Bg(){return Hm||(Hm=VE(Jx,Zx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qs)}}})),Hm}async function Yh(t,e){const r=Sd(t),i=(await Bg()).transaction(Qs,"readwrite"),a=i.objectStore(Qs),c=await a.get(r);return await a.put(e,r),await i.done,(!c||c.fid!==e.fid)&&rS(t,e.fid),e}async function iS(t){const e=Sd(t),n=(await Bg()).transaction(Qs,"readwrite");await n.objectStore(Qs).delete(e),await n.done}async function Td(t,e){const r=Sd(t),i=(await Bg()).transaction(Qs,"readwrite"),a=i.objectStore(Qs),c=await a.get(r),l=e(c);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!c||c.fid!==l.fid)&&rS(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(t){let e;const r=await Td(t.appConfig,n=>{const i=ek(n),a=tk(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===Gp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function ek(t){const e=t||{fid:Gx(),registrationStatus:0};return sS(e)}function tk(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Gs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=rk(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nk(t)}:{installationEntry:e}}async function rk(t,e){try{const r=await Bx(t,e);return Yh(t.appConfig,r)}catch(r){throw QE(r)&&r.customData.serverCode===409?await iS(t.appConfig):await Yh(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function nk(t){let e=await e_(t.appConfig);for(;e.registrationStatus===1;)await eS(100),e=await e_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await zg(t);return n||r}return e}function e_(t){return Td(t,e=>{if(!e)throw Gs.create("installation-not-found");return sS(e)})}function sS(t){return ik(t)?{fid:t.fid,registrationStatus:0}:t}function ik(t){return t.registrationStatus===1&&t.registrationTime+zE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk({appConfig:t,heartbeatServiceProvider:e},r){const n=ok(t,r),i=Ux(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const c={installation:{sdkVersion:WE,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(c)},u=await ZE(()=>fetch(n,l));if(u.ok){const h=await u.json();return YE(h)}else throw await XE("Generate Auth Token",u)}function ok(t,{fid:e}){return`${KE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(t,e=!1){let r;const n=await Td(t.appConfig,a=>{if(!oS(a))throw Gs.create("not-registered");const c=a.authToken;if(!e&&lk(c))return a;if(c.requestStatus===1)return r=ak(t,e),a;{if(!navigator.onLine)throw Gs.create("app-offline");const l=hk(a);return r=uk(t,l),l}});return r?await r:n.authToken}async function ak(t,e){let r=await t_(t.appConfig);for(;r.authToken.requestStatus===1;)await eS(100),r=await t_(t.appConfig);const n=r.authToken;return n.requestStatus===0?Wg(t,e):n}function t_(t){return Td(t,e=>{if(!oS(e))throw Gs.create("not-registered");const r=e.authToken;return dk(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function uk(t,e){try{const r=await sk(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Yh(t.appConfig,n),r}catch(r){if(QE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await iS(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yh(t.appConfig,n)}throw r}}function oS(t){return t!==void 0&&t.registrationStatus===2}function lk(t){return t.requestStatus===2&&!ck(t)}function ck(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jx}function hk(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dk(t){return t.requestStatus===1&&t.requestTime+zE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t){const e=t,{installationEntry:r,registrationPromise:n}=await zg(e);return n?n.catch(console.error):Wg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t,e=!1){const r=t;return await pk(r),(await Wg(r,e)).token}async function pk(t){const{registrationPromise:e}=await zg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){if(!t||!t.options)throw Bm("App Configuration");if(!t.name)throw Bm("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Bm(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bm(t){return Gs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="installations",yk="installations-internal",vk=t=>{const e=t.getProvider("app").getImmediate(),r=gk(e),n=no(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},wk=t=>{const e=t.getProvider("app").getImmediate(),r=no(e,aS).getImmediate();return{getId:()=>fk(r),getToken:i=>mk(r,i)}};function _k(){bn(new en(aS,vk,"PUBLIC")),bn(new en(yk,wk,"PRIVATE"))}_k();Lr(BE,Hg);Lr(BE,Hg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="analytics",Pk="firebase_id",Ek="origin",Sk=60*1e3,Tk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Ed("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pr=new ro("analytics","Analytics",Ik);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){if(!t.startsWith(Gg)){const e=Pr.create("invalid-gtag-resource",{gtagURL:t});return lr.warn(e.message),""}return t}function uS(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function bk(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Ck(t,e){const r=bk("firebase-js-sdk-policy",{createScriptURL:Rk}),n=document.createElement("script"),i=`${Gg}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Ak(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xk(t,e,r,n,i,a){const c=n[i];try{if(c)await e[c];else{const u=(await uS(r)).find(h=>h.measurementId===i);u&&await e[u.appId]}}catch(l){lr.error(l)}t("config",i,a)}async function kk(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const l=await uS(r);for(const u of c){const h=l.find(w=>w.measurementId===u),g=h&&e[h.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){lr.error(a)}}function Ok(t,e,r,n){async function i(a,...c){try{if(a==="event"){const[l,u]=c;await kk(t,e,r,l,u)}else if(a==="config"){const[l,u]=c;await xk(t,e,r,n,l,u)}else if(a==="consent"){const[l,u]=c;t("consent",l,u)}else if(a==="get"){const[l,u,h]=c;t("get",l,u,h)}else if(a==="set"){const[l]=c;t("set",l)}else t(a,...c)}catch(l){lr.error(l)}}return i}function qk(t,e,r,n,i){let a=function(...c){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Ok(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function Nk(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Gg)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=30,Lk=1e3;class jk{constructor(e={},r=Lk){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lS=new jk;function Fk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Mk(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Fk(n)},a=Tk.replace("{app-id}",r),c=await fetch(a,i);if(c.status!==200&&c.status!==304){let l="";try{const u=await c.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:l})}return c.json()}async function Vk(t,e=lS,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Pr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Pr.create("no-api-key")}const c=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Hk;return setTimeout(async()=>{l.abort()},Sk),cS({appId:n,apiKey:i,measurementId:a},c,l,e)}async function cS(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=lS){var a;const{appId:c,measurementId:l}=t;try{await Uk(n,e)}catch(u){if(l)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:c,measurementId:l};throw u}try{const u=await Mk(t);return i.deleteThrottleMetadata(c),u}catch(u){const h=u;if(!$k(h)){if(i.deleteThrottleMetadata(c),l)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:c,measurementId:l};throw u}const g=Number((a=h==null?void 0:h.customData)===null||a===void 0?void 0:a.httpStatus)===503?zw(r,i.intervalMillis,Dk):zw(r,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+g,backoffCount:r+1};return i.setThrottleMetadata(c,w),lr.debug(`Calling attemptFetch again in ${g} millis`),cS(t,w,n,i)}}function Uk(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $k(t){if(!(t instanceof nn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Bk(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,c=Object.assign(Object.assign({},n),{send_to:a});t("event",r,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(){if(LE())try{await jE()}catch(t){return lr.warn(Pr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return lr.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Wk(t,e,r,n,i,a,c){var l;const u=Vk(t);u.then(f=>{r[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>lr.error(f)),e.push(u);const h=zk().then(f=>{if(f)return n.getId()}),[g,w]=await Promise.all([u,h]);Nk(a)||Ck(a,g.measurementId),i("js",new Date);const p=(l=c==null?void 0:c.config)!==null&&l!==void 0?l:{};return p[Ek]="firebase",p.update=!0,w!=null&&(p[Pk]=w),i("config",g.measurementId,p),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.app=e}_delete(){return delete Qu[this.app.options.appId],Promise.resolve()}}let Qu={},r_=[];const n_={};let zm="dataLayer",Qk="gtag",i_,hS,s_=!1;function Kk(){const t=[];if(DE()&&t.push("This is a browser extension environment."),gA()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Pr.create("invalid-analytics-context",{errorInfo:e});lr.warn(r.message)}}function Yk(t,e,r){Kk();const n=t.options.appId;if(!n)throw Pr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pr.create("no-api-key");if(Qu[n]!=null)throw Pr.create("already-exists",{id:n});if(!s_){Ak(zm);const{wrappedGtag:a,gtagCore:c}=qk(Qu,r_,n_,zm,Qk);hS=a,i_=c,s_=!0}return Qu[n]=Wk(t,r_,n_,e,i_,zm,r),new Gk(t)}function Xk(t=$g()){t=cr(t);const e=no(t,Xh);return e.isInitialized()?e.getImmediate():Jk(t)}function Jk(t,e={}){const r=no(t,Xh);if(r.isInitialized()){const i=r.getImmediate();if(tl(e,r.getOptions()))return i;throw Pr.create("already-initialized")}return r.initialize({options:e})}function Zk(t,e,r,n){t=cr(t),Bk(hS,Qu[t.app.options.appId],e,r,n).catch(i=>lr.error(i))}const o_="@firebase/analytics",a_="0.10.10";function eO(){bn(new en(Xh,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Yk(n,i,r)},"PUBLIC")),bn(new en("analytics-internal",t,"PRIVATE")),Lr(o_,a_),Lr(o_,a_,"esm2017");function t(e){try{const r=e.getProvider(Xh).getImmediate();return{logEvent:(n,i,a)=>Zk(r,n,i,a)}}catch(r){throw Pr.create("interop-component-reg-failed",{reason:r})}}}eO();function Qg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tO=dS,fS=new ro("auth","Firebase",dS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Ed("@firebase/auth");function rO(t,...e){Jh.logLevel<=je.WARN&&Jh.warn(`Auth (${Aa}): ${t}`,...e)}function Lh(t,...e){Jh.logLevel<=je.ERROR&&Jh.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw Kg(t,...e)}function En(t,...e){return Kg(t,...e)}function mS(t,e,r){const n=Object.assign(Object.assign({},tO()),{[e]:r});return new ro("auth","Firebase",n).create(e,{appName:t.name})}function ti(t){return mS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return fS.create(t,...e)}function xe(t,e,...r){if(!t)throw Kg(e,...r)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function si(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nO(){return u_()==="http:"||u_()==="https:"}function u_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||DE()||"connection"in navigator)?navigator.onLine:!0}function sO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,r){this.shortDelay=e,this.longDelay=r,si(r>e,"Short delay should be less than long delay!"),this.isMobile=cA()||fA()}get(){return iO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){si(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Ml(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function us(t,e,r,n,i={}){return gS(t,i,async()=>{let a={},c={};n&&(e==="GET"?c=n:a={body:JSON.stringify(n)});const l=Fl(Object.assign({key:t.config.apiKey},c)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},a);return dA()||(h.referrerPolicy="no-referrer"),pS.fetch()(yS(t,t.config.apiHost,r,l),h)})}async function gS(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},oO),e);try{const i=new lO(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Th(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const l=a.ok?c.errorMessage:c.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",c);if(u==="USER_DISABLED")throw Th(t,"user-disabled",c);const g=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw mS(t,g,h);tn(t,g)}}catch(i){if(i instanceof nn)throw i;tn(t,"network-request-failed",{message:String(i)})}}async function Vl(t,e,r,n,i={}){const a=await us(t,e,r,n,i);return"mfaPendingCredential"in a&&tn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function yS(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Yg(t.config,i):`${t.config.apiScheme}://${i}`}function uO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(En(this.auth,"network-request-failed")),aO.get())})}}function Th(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=En(t,e,n);return i.customData._tokenResponse=r,i}function l_(t){return t!==void 0&&t.enterprise!==void 0}class cO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return uO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hO(t,e){return us(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function vS(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(t,e=!1){const r=cr(t),n=await r.getIdToken(e),i=Xg(n);xe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Ku(Wm(i.auth_time)),issuedAtTime:Ku(Wm(i.iat)),expirationTime:Ku(Wm(i.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Wm(t){return Number(t)*1e3}function Xg(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const i=kE(r);return i?JSON.parse(i):(Lh("Failed to decode base64 JWT payload"),null)}catch(i){return Lh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c_(t){const e=Xg(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof nn&&mO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await nl(t,vS(r,{idToken:n}));xe(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wS(a.providerUserInfo):[],l=yO(t.providerData,c),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),g=u?h:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function gO(t){const e=cr(t);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function wS(t){return t.map(e=>{var{providerId:r}=e,n=Qg(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){const r=await gS(t,{},async()=>{const n=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=yS(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",pS.fetch()(c,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wO(t,e){return us(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const r=c_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await vO(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,c=new da;return n&&(xe(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),i&&(xe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await nl(this,this.stsTokenManager.getToken(this.auth,e));return xe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return fO(this,e)}reload(){return gO(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Zh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await nl(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,c,l,u,h,g;const w=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,f=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(c=r.photoURL)!==null&&c!==void 0?c:void 0,_=(l=r.tenantId)!==null&&l!==void 0?l:void 0,S=(u=r._redirectEventId)!==null&&u!==void 0?u:void 0,E=(h=r.createdAt)!==null&&h!==void 0?h:void 0,R=(g=r.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:q,isAnonymous:F,providerData:V,stsTokenManager:C}=r;xe(k&&C,e,"internal-error");const b=da.fromJSON(this.name,C);xe(typeof k=="string",e,"internal-error"),Ui(w,e.name),Ui(p,e.name),xe(typeof q=="boolean",e,"internal-error"),xe(typeof F=="boolean",e,"internal-error"),Ui(f,e.name),Ui(v,e.name),Ui(_,e.name),Ui(S,e.name),Ui(E,e.name),Ui(R,e.name);const x=new Jn({uid:k,auth:e,email:p,emailVerified:q,displayName:w,isAnonymous:F,photoURL:v,phoneNumber:f,tenantId:_,stsTokenManager:b,createdAt:E,lastLoginAt:R});return V&&Array.isArray(V)&&(x.providerData=V.map(N=>Object.assign({},N))),S&&(x._redirectEventId=S),x}static async _fromIdTokenResponse(e,r,n=!1){const i=new da;i.updateFromServerResponse(r);const a=new Jn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Zh(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?wS(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new da;l.updateFromIdToken(n);const u=new Jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:c}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;function Zn(t){si(t instanceof Function,"Expected a class definition");let e=h_.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,h_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_S.type="NONE";const d_=_S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e,r){return`firebase:${t}:${e}:${r}`}class fa{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=jh(this.userKey,i.apiKey,a),this.fullPersistenceKey=jh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new fa(Zn(d_),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Zn(d_);const c=jh(n,e.config.apiKey,e.name);let l=null;for(const h of r)try{const g=await h._get(c);if(g){const w=Jn._fromJSON(e,g);h!==a&&(l=w),a=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new fa(a,e,n):(a=u[0],l&&await a._set(c,l.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(c)}catch{}})),new fa(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RS(e))return"Blackberry";if(bS(e))return"Webos";if(ES(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function PS(t=Wt()){return/firefox\//i.test(t)}function ES(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(t=Wt()){return/crios\//i.test(t)}function TS(t=Wt()){return/iemobile/i.test(t)}function IS(t=Wt()){return/android/i.test(t)}function RS(t=Wt()){return/blackberry/i.test(t)}function bS(t=Wt()){return/webos/i.test(t)}function Jg(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _O(t=Wt()){var e;return Jg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PO(){return mA()&&document.documentMode===10}function CS(t=Wt()){return Jg(t)||IS(t)||bS(t)||RS(t)||/windows phone/i.test(t)||TS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let r;switch(t){case"Browser":r=f_(Wt());break;case"Worker":r=`${f_(Wt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Aa}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((c,l)=>{try{const u=e(a);c(u)}catch(u){l(u)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e={}){return us(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class IO{constructor(e){var r,n,i,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=c.minPasswordLength)!==null&&r!==void 0?r:TO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,c,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(r=u.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(n=u.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNumericCharacter)!==null&&c!==void 0?c:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new EO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Zn(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await vS(this,{idToken:e}),n=await Jn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===l)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ti(this));const r=e?cr(e):null;return r&&xe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SO(this),r=new IO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await wO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Zn(e)||this._popupRedirectResolver;xe(r,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[Zn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let c=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(l,this,"internal-error"),l.then(()=>{c||a(this.currentUser)}),typeof r=="function"){const u=e.addObserver(r,n,i);return()=>{c=!0,u()}}else{const u=e.addObserver(r);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&rO(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function io(t){return cr(t)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PA(r=>this.observer=r)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bO(t){Id=t}function xS(t){return Id.loadJS(t)}function CO(){return Id.recaptchaEnterpriseScript}function AO(){return Id.gapiScript}function xO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kO{constructor(){this.enterprise=new OO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class OO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const qO="recaptcha-enterprise",kS="NO_RECAPTCHA";class NO{constructor(e){this.type=qO,this.auth=io(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,l)=>{hO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new cO(u);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}}).catch(u=>{l(u)})})}function i(a,c,l){const u=window.grecaptcha;l_(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(h=>{c(h)}).catch(()=>{c(kS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kO().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{n(this.auth).then(l=>{if(!r&&l_(window.grecaptcha))i(l,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=CO();u.length!==0&&(u+=l),xS(u).then(()=>{i(l,a,c)}).catch(h=>{c(h)})}}).catch(l=>{c(l)})})}}async function p_(t,e,r,n=!1,i=!1){const a=new NO(t);let c;if(i)c=kS;else try{c=await a.verify(r)}catch{c=await a.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:c}):Object.assign(l,{captchaResponse:c}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Yp(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await p_(t,e,r,r==="getOobCode");return n(t,c)}else return n(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await p_(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){const r=no(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(tl(a,e??{}))return i;tn(i,"already-initialized")}return r.initialize({options:e})}function LO(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function jO(t,e,r){const n=io(t);xe(n._canInitEmulator,n,"emulator-config-failed"),xe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=OS(e),{host:c,port:l}=FO(e),u=l===null?"":`:${l}`;n.config.emulator={url:`${a}//${c}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:c,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),MO()}function OS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FO(t){const e=OS(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:g_(n.substr(a.length+1))}}else{const[a,c]=n.split(":");return{host:a,port:g_(c)}}}function g_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,r){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function VO(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return Vl(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function HO(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Zg{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new il(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new il(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,r,"signInWithPassword",UO);case"emailLink":return $O(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,n,"signUpPassword",VO);case"emailLink":return HO(e,{idToken:r,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return Vl(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="http://localhost";class Ks extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):tn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Qg(r,["providerId","signInMethod"]);if(!n||!i)return null;const c=new Ks(n,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const r=this.buildRequest();return ma(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ma(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ma(e,r)}buildRequest(){const e={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Fl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WO(t){const e=Uu($u(t)).link,r=e?Uu($u(e)).deep_link_id:null,n=Uu($u(t)).deep_link_id;return(n?Uu($u(n)).link:null)||n||r||e||t}class ey{constructor(e){var r,n,i,a,c,l;const u=Uu($u(e)),h=(r=u.apiKey)!==null&&r!==void 0?r:null,g=(n=u.oobCode)!==null&&n!==void 0?n:null,w=zO((i=u.mode)!==null&&i!==void 0?i:null);xe(h&&g&&w,"argument-error"),this.apiKey=h,this.operation=w,this.code=g,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=u.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=WO(e);try{return new ey(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,r){return il._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ey.parseLink(r);return xe(n,"argument-error"),il._fromEmailAndCode(e,n.code,n.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends qS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ul{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ks._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Wi.credential(r,n)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ul{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ul{constructor(){super("twitter.com")}static credential(e,r){return Ks._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Qi.credential(r,n)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return Vl(t,"POST","/v1/accounts:signUp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Jn._fromIdTokenResponse(e,n,i),c=y_(n);return new Ys({user:a,providerId:c,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=y_(n);return new Ys({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function y_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends nn{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ed(e,r,n,i)}}function NS(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,a,e,n):a})}async function QO(t,e,r=!1){const n=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ys._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e,r=!1){const{auth:n}=t;if(Pn(n.app))return Promise.reject(ti(n));const i="reauthenticate";try{const a=await nl(t,NS(n,i,e,t),r);xe(a.idToken,n,"internal-error");const c=Xg(a.idToken);xe(c,n,"internal-error");const{sub:l}=c;return xe(t.uid===l,n,"user-mismatch"),Ys._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e,r=!1){if(Pn(t.app))return Promise.reject(ti(t));const n="signIn",i=await NS(t,n,e),a=await Ys._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function YO(t,e){return DS(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XO(t,e,r){if(Pn(t.app))return Promise.reject(ti(t));const n=io(t),c=await Yp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LS(t),u}),l=await Ys._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(l.user),l}function JO(t,e,r){return Pn(t.app)?Promise.reject(ti(t)):YO(cr(t),xa.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&LS(t),n})}function ZO(t,e,r,n){return cr(t).onIdTokenChanged(e,r,n)}function eq(t,e,r){return cr(t).beforeAuthStateChanged(e,r)}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=1e3,rq=10;class FS extends jS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,l,u)=>{this.notifyListeners(c,u)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(n);!r&&this.localCache[n]===c||this.notifyListeners(n,c)},a=this.storage.getItem(n);PO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rq):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},tq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}FS.type="LOCAL";const nq=FS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends jS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MS.type="SESSION";const VS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Rd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(c).map(async h=>h(r.origin,a)),u=await iq(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((l,u)=>{const h=ty("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},n);c={messageChannel:i,onMessage(w){const p=w;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(g),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return window}function oq(t){Sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}async function aq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lq(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",cq=1,rd="firebaseLocalStorage",HS="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function bd(t,e){return t.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function hq(){const t=indexedDB.deleteDatabase($S);return new $l(t).toPromise()}function Xp(){const t=indexedDB.open($S,cq);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(rd,{keyPath:HS})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(rd)?e(n):(n.close(),await hq(),e(await Xp()))})})}async function v_(t,e,r){const n=bd(t,!0).put({[HS]:e,value:r});return new $l(n).toPromise()}async function dq(t,e){const r=bd(t,!1).get(e),n=await new $l(r).toPromise();return n===void 0?null:n.value}function w_(t,e){const r=bd(t,!0).delete(e);return new $l(r).toPromise()}const fq=800,mq=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>mq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(lq()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await aq(),!this.activeServiceWorker)return;this.sender=new sq(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await v_(e,td,"1"),await w_(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>v_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>dq(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>w_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=bd(i,!1).getAll();return new $l(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const pq=BS;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e){return e?Zn(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ma(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yq(t){return DS(t.auth,new ry(t),t.bypassAuthState)}function vq(t){const{auth:e,user:r}=t;return xe(r,e,"internal-error"),KO(r,new ry(t),t.bypassAuthState)}async function wq(t){const{auth:e,user:r}=t;return xe(r,e,"internal-error"),QO(r,new ry(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:c,type:l}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yq;case"linkViaPopup":case"linkViaRedirect":return wq;case"reauthViaPopup":case"reauthViaRedirect":return vq;default:tn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new Ml(2e3,1e4);class ca extends zS{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_q.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="pendingRedirect",Fh=new Map;class Eq extends zS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const n=await Sq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sq(t,e){const r=Rq(e),n=Iq(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Tq(t,e){Fh.set(t._key(),e)}function Iq(t){return Zn(t._redirectPersistence)}function Rq(t){return jh(Pq,t.config.apiKey,t.name)}async function bq(t,e,r=!1){if(Pn(t.app))return Promise.reject(ti(t));const n=io(t),i=gq(n,e),c=await new Eq(n,i,r).execute();return c&&!r&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=10*60*1e3;class Aq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!WS(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(En(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cq&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kq(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qq=/^https?/;async function Nq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kq(t);for(const r of e)try{if(Dq(r))return}catch{}tn(t,"unauthorized-domain")}function Dq(t){const e=Qp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&c.hostname===n}if(!qq.test(r))return!1;if(Oq.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=new Ml(3e4,6e4);function P_(){const t=Sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function jq(t){return new Promise((e,r)=>{var n,i,a;function c(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),r(En(t,"network-request-failed"))},timeout:Lq.get()})}if(!((i=(n=Sn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Sn().gapi)===null||a===void 0)&&a.load)c();else{const l=xO("iframefcb");return Sn()[l]=()=>{gapi.load?c():r(En(t,"network-request-failed"))},xS(`${AO()}?onload=${l}`).catch(u=>r(u))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function Fq(t){return Mh=Mh||jq(t),Mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=new Ml(5e3,15e3),Vq="__/auth/iframe",Uq="emulator/auth/iframe",$q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bq(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Yg(e,Uq):`https://${t.config.authDomain}/${Vq}`,n={apiKey:e.apiKey,appName:t.name,v:Aa},i=Hq.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Fl(n).slice(1)}`}async function zq(t){const e=await Fq(t),r=Sn().gapi;return xe(r,t,"internal-error"),e.open({where:document.body,url:Bq(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$q,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const c=En(t,"network-request-failed"),l=Sn().setTimeout(()=>{a(c)},Mq.get());function u(){Sn().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gq=500,Qq=600,Kq="_blank",Yq="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xq(t,e,r,n=Gq,i=Qq){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Wq),{width:n.toString(),height:i.toString(),top:a,left:c}),h=Wt().toLowerCase();r&&(l=SS(h)?Kq:r),PS(h)&&(e=e||Yq,u.scrollbars="yes");const g=Object.entries(u).reduce((p,[f,v])=>`${p}${f}=${v},`,"");if(_O(h)&&l!=="_self")return Jq(e||"",l),new E_(null);const w=window.open(e||"",l,g);xe(w,t,"popup-blocked");try{w.focus()}catch{}return new E_(w)}function Jq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="__/auth/handler",eN="emulator/auth/handler",tN=encodeURIComponent("fac");async function S_(t,e,r,n,i,a){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Aa,eventId:i};if(e instanceof qS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",_A(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))c[g]=w}if(e instanceof Ul){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const l=c;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const u=await t._getAppCheckToken(),h=u?`#${tN}=${encodeURIComponent(u)}`:"";return`${rN(t)}?${Fl(l).slice(1)}${h}`}function rN({config:t}){return t.emulator?Yg(t,eN):`https://${t.authDomain}/${Zq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class nN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VS,this._completeRedirectFn=bq,this._overrideRedirectResult=Tq}async _openPopup(e,r,n,i){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await S_(e,r,n,Qp(),i);return Xq(e,c,ty())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await S_(e,r,n,Qp(),i);return oq(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(si(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await zq(e),n=new Aq(e);return r.register("authEvent",i=>(xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Gm,{type:Gm},i=>{var a;const c=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Gm];c!==void 0&&r(!!c),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Nq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return CS()||ES()||Jg()}}const iN=nN;var T_="@firebase/auth",I_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aN(t){bn(new en("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:l}=n.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:c,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},h=new RO(n,i,a,u);return LO(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bn(new en("auth-internal",e=>{const r=io(e.getProvider("auth").getImmediate());return(n=>new sN(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(T_,I_,oN(t)),Lr(T_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=5*60,lN=NE("authIdTokenMaxAge")||uN;let R_=null;const cN=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>lN)return;const i=r==null?void 0:r.token;R_!==i&&(R_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hN(t=$g()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DO(t,{popupRedirectResolver:iN,persistence:[pq,nq,VS]}),n=NE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const c=cN(a.toString());eq(r,c,()=>c(r.currentUser)),ZO(r,l=>c(l))}}const i=OE("auth");return i&&jO(r,`http://${i}`),r}function dN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=En("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",dN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aN("Browser");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,GS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function x(){}x.prototype=b.prototype,C.D=b.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(N,L,M){for(var D=Array(arguments.length-2),de=2;de<arguments.length;de++)D[de-2]=arguments[de];return b.prototype[L].apply(N,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,x){x||(x=0);var N=Array(16);if(typeof b=="string")for(var L=0;16>L;++L)N[L]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(L=0;16>L;++L)N[L]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=C.g[0],x=C.g[1],L=C.g[2];var M=C.g[3],D=b+(M^x&(L^M))+N[0]+3614090360&4294967295;b=x+(D<<7&4294967295|D>>>25),D=M+(L^b&(x^L))+N[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=L+(x^M&(b^x))+N[2]+606105819&4294967295,L=M+(D<<17&4294967295|D>>>15),D=x+(b^L&(M^b))+N[3]+3250441966&4294967295,x=L+(D<<22&4294967295|D>>>10),D=b+(M^x&(L^M))+N[4]+4118548399&4294967295,b=x+(D<<7&4294967295|D>>>25),D=M+(L^b&(x^L))+N[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=L+(x^M&(b^x))+N[6]+2821735955&4294967295,L=M+(D<<17&4294967295|D>>>15),D=x+(b^L&(M^b))+N[7]+4249261313&4294967295,x=L+(D<<22&4294967295|D>>>10),D=b+(M^x&(L^M))+N[8]+1770035416&4294967295,b=x+(D<<7&4294967295|D>>>25),D=M+(L^b&(x^L))+N[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=L+(x^M&(b^x))+N[10]+4294925233&4294967295,L=M+(D<<17&4294967295|D>>>15),D=x+(b^L&(M^b))+N[11]+2304563134&4294967295,x=L+(D<<22&4294967295|D>>>10),D=b+(M^x&(L^M))+N[12]+1804603682&4294967295,b=x+(D<<7&4294967295|D>>>25),D=M+(L^b&(x^L))+N[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=L+(x^M&(b^x))+N[14]+2792965006&4294967295,L=M+(D<<17&4294967295|D>>>15),D=x+(b^L&(M^b))+N[15]+1236535329&4294967295,x=L+(D<<22&4294967295|D>>>10),D=b+(L^M&(x^L))+N[1]+4129170786&4294967295,b=x+(D<<5&4294967295|D>>>27),D=M+(x^L&(b^x))+N[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=L+(b^x&(M^b))+N[11]+643717713&4294967295,L=M+(D<<14&4294967295|D>>>18),D=x+(M^b&(L^M))+N[0]+3921069994&4294967295,x=L+(D<<20&4294967295|D>>>12),D=b+(L^M&(x^L))+N[5]+3593408605&4294967295,b=x+(D<<5&4294967295|D>>>27),D=M+(x^L&(b^x))+N[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=L+(b^x&(M^b))+N[15]+3634488961&4294967295,L=M+(D<<14&4294967295|D>>>18),D=x+(M^b&(L^M))+N[4]+3889429448&4294967295,x=L+(D<<20&4294967295|D>>>12),D=b+(L^M&(x^L))+N[9]+568446438&4294967295,b=x+(D<<5&4294967295|D>>>27),D=M+(x^L&(b^x))+N[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=L+(b^x&(M^b))+N[3]+4107603335&4294967295,L=M+(D<<14&4294967295|D>>>18),D=x+(M^b&(L^M))+N[8]+1163531501&4294967295,x=L+(D<<20&4294967295|D>>>12),D=b+(L^M&(x^L))+N[13]+2850285829&4294967295,b=x+(D<<5&4294967295|D>>>27),D=M+(x^L&(b^x))+N[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=L+(b^x&(M^b))+N[7]+1735328473&4294967295,L=M+(D<<14&4294967295|D>>>18),D=x+(M^b&(L^M))+N[12]+2368359562&4294967295,x=L+(D<<20&4294967295|D>>>12),D=b+(x^L^M)+N[5]+4294588738&4294967295,b=x+(D<<4&4294967295|D>>>28),D=M+(b^x^L)+N[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=L+(M^b^x)+N[11]+1839030562&4294967295,L=M+(D<<16&4294967295|D>>>16),D=x+(L^M^b)+N[14]+4259657740&4294967295,x=L+(D<<23&4294967295|D>>>9),D=b+(x^L^M)+N[1]+2763975236&4294967295,b=x+(D<<4&4294967295|D>>>28),D=M+(b^x^L)+N[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=L+(M^b^x)+N[7]+4139469664&4294967295,L=M+(D<<16&4294967295|D>>>16),D=x+(L^M^b)+N[10]+3200236656&4294967295,x=L+(D<<23&4294967295|D>>>9),D=b+(x^L^M)+N[13]+681279174&4294967295,b=x+(D<<4&4294967295|D>>>28),D=M+(b^x^L)+N[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=L+(M^b^x)+N[3]+3572445317&4294967295,L=M+(D<<16&4294967295|D>>>16),D=x+(L^M^b)+N[6]+76029189&4294967295,x=L+(D<<23&4294967295|D>>>9),D=b+(x^L^M)+N[9]+3654602809&4294967295,b=x+(D<<4&4294967295|D>>>28),D=M+(b^x^L)+N[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=L+(M^b^x)+N[15]+530742520&4294967295,L=M+(D<<16&4294967295|D>>>16),D=x+(L^M^b)+N[2]+3299628645&4294967295,x=L+(D<<23&4294967295|D>>>9),D=b+(L^(x|~M))+N[0]+4096336452&4294967295,b=x+(D<<6&4294967295|D>>>26),D=M+(x^(b|~L))+N[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=L+(b^(M|~x))+N[14]+2878612391&4294967295,L=M+(D<<15&4294967295|D>>>17),D=x+(M^(L|~b))+N[5]+4237533241&4294967295,x=L+(D<<21&4294967295|D>>>11),D=b+(L^(x|~M))+N[12]+1700485571&4294967295,b=x+(D<<6&4294967295|D>>>26),D=M+(x^(b|~L))+N[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=L+(b^(M|~x))+N[10]+4293915773&4294967295,L=M+(D<<15&4294967295|D>>>17),D=x+(M^(L|~b))+N[1]+2240044497&4294967295,x=L+(D<<21&4294967295|D>>>11),D=b+(L^(x|~M))+N[8]+1873313359&4294967295,b=x+(D<<6&4294967295|D>>>26),D=M+(x^(b|~L))+N[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=L+(b^(M|~x))+N[6]+2734768916&4294967295,L=M+(D<<15&4294967295|D>>>17),D=x+(M^(L|~b))+N[13]+1309151649&4294967295,x=L+(D<<21&4294967295|D>>>11),D=b+(L^(x|~M))+N[4]+4149444226&4294967295,b=x+(D<<6&4294967295|D>>>26),D=M+(x^(b|~L))+N[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=L+(b^(M|~x))+N[2]+718787259&4294967295,L=M+(D<<15&4294967295|D>>>17),D=x+(M^(L|~b))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+M&4294967295}n.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var x=b-this.blockSize,N=this.B,L=this.h,M=0;M<b;){if(L==0)for(;M<=x;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<b;)if(N[L++]=C.charCodeAt(M++),L==this.blockSize){i(this,N),L=0;break}}else for(;M<b;)if(N[L++]=C[M++],L==this.blockSize){i(this,N),L=0;break}}this.h=L,this.o+=b},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var x=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=x&255,x/=256;for(this.u(C),C=Array(16),b=x=0;4>b;++b)for(var N=0;32>N;N+=8)C[x++]=this.g[b]>>>N&255;return C};function a(C,b){var x=l;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=b(C)}function c(C,b){this.h=b;for(var x=[],N=!0,L=C.length-1;0<=L;L--){var M=C[L]|0;N&&M==b||(x[L]=M,N=!1)}this.g=x}var l={};function u(C){return-128<=C&&128>C?a(C,function(b){return new c([b|0],0>b?-1:0)}):new c([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return S(h(-C));for(var b=[],x=1,N=0;C>=x;N++)b[N]=C/x|0,x*=4294967296;return new c(b,0)}function g(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return S(g(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=h(Math.pow(b,8)),N=w,L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L),D=parseInt(C.substring(L,L+M),b);8>M?(M=h(Math.pow(b,M)),N=N.j(M).add(h(D))):(N=N.j(x),N=N.add(h(D)))}return N}var w=u(0),p=u(1),f=u(16777216);t=c.prototype,t.m=function(){if(_(this))return-S(this).m();for(var C=0,b=1,x=0;x<this.g.length;x++){var N=this.i(x);C+=(0<=N?N:4294967296+N)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(_(this))return"-"+S(this).toString(C);for(var b=h(Math.pow(C,6)),x=this,N="";;){var L=q(x,b).g;x=E(x,L.j(b));var M=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=L,v(x))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function _(C){return C.h==-1}t.l=function(C){return C=E(this,C),_(C)?-1:v(C)?0:1};function S(C){for(var b=C.g.length,x=[],N=0;N<b;N++)x[N]=~C.g[N];return new c(x,~C.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],N=0,L=0;L<=b;L++){var M=N+(this.i(L)&65535)+(C.i(L)&65535),D=(M>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);N=D>>>16,M&=65535,D&=65535,x[L]=D<<16|M}return new c(x,x[x.length-1]&-2147483648?-1:0)};function E(C,b){return C.add(S(b))}t.j=function(C){if(v(this)||v(C))return w;if(_(this))return _(C)?S(this).j(S(C)):S(S(this).j(C));if(_(C))return S(this.j(S(C)));if(0>this.l(f)&&0>C.l(f))return h(this.m()*C.m());for(var b=this.g.length+C.g.length,x=[],N=0;N<2*b;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<C.g.length;L++){var M=this.i(N)>>>16,D=this.i(N)&65535,de=C.i(L)>>>16,fe=C.i(L)&65535;x[2*N+2*L]+=D*fe,R(x,2*N+2*L),x[2*N+2*L+1]+=M*fe,R(x,2*N+2*L+1),x[2*N+2*L+1]+=D*de,R(x,2*N+2*L+1),x[2*N+2*L+2]+=M*de,R(x,2*N+2*L+2)}for(N=0;N<b;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=b;N<2*b;N++)x[N]=0;return new c(x,0)};function R(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function k(C,b){this.g=C,this.h=b}function q(C,b){if(v(b))throw Error("division by zero");if(v(C))return new k(w,w);if(_(C))return b=q(S(C),b),new k(S(b.g),S(b.h));if(_(b))return b=q(C,S(b)),new k(S(b.g),b.h);if(30<C.g.length){if(_(C)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var x=p,N=b;0>=N.l(C);)x=F(x),N=F(N);var L=V(x,1),M=V(N,1);for(N=V(N,2),x=V(x,2);!v(N);){var D=M.add(N);0>=D.l(C)&&(L=L.add(x),M=D),N=V(N,1),x=V(x,1)}return b=E(C,L.j(b)),new k(L,b)}for(L=w;0<=C.l(b);){for(x=Math.max(1,Math.floor(C.m()/b.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=h(x),D=M.j(b);_(D)||0<D.l(C);)x-=N,M=h(x),D=M.j(b);v(M)&&(M=p),L=L.add(M),C=E(C,D)}return new k(L,C)}t.A=function(C){return q(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],N=0;N<b;N++)x[N]=this.i(N)&C.i(N);return new c(x,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],N=0;N<b;N++)x[N]=this.i(N)|C.i(N);return new c(x,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],N=0;N<b;N++)x[N]=this.i(N)^C.i(N);return new c(x,this.h^C.h)};function F(C){for(var b=C.g.length+1,x=[],N=0;N<b;N++)x[N]=C.i(N)<<1|C.i(N-1)>>>31;return new c(x,C.h)}function V(C,b){var x=b>>5;b%=32;for(var N=C.g.length-x,L=[],M=0;M<N;M++)L[M]=0<b?C.i(M+x)>>>b|C.i(M+x+1)<<32-b:C.i(M+x);return new c(L,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,GS=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=g,Bs=c}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,Hu,KS,Vh,Jp,YS,XS,JS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,A){return m==Array.prototype||m==Object.prototype||(m[T]=A.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var T=0;T<m.length;++T){var A=m[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(m,T){if(T)e:{var A=n;m=m.split(".");for(var j=0;j<m.length-1;j++){var G=m[j];if(!(G in A))break e;A=A[G]}m=m[m.length-1],j=A[m],T=T(j),T!=j&&T!=null&&e(A,m,{configurable:!0,writable:!0,value:T})}}function a(m,T){m instanceof String&&(m+="");var A=0,j=!1,G={next:function(){if(!j&&A<m.length){var Z=A++;return{value:T(Z,m[Z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(m){return m||function(){return a(this,function(T,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},l=this||self;function u(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function h(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function g(m,T,A){return m.call.apply(m.bind,arguments)}function w(m,T,A){if(!m)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,j),m.apply(T,G)}}return function(){return m.apply(T,arguments)}}function p(m,T,A){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,p.apply(null,arguments)}function f(m,T){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function v(m,T){function A(){}A.prototype=T.prototype,m.aa=T.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(j,G,Z){for(var ue=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ue[Ye-2]=arguments[Ye];return T.prototype[G].apply(j,ue)}}function _(m){const T=m.length;if(0<T){const A=Array(T);for(let j=0;j<T;j++)A[j]=m[j];return A}return[]}function S(m,T){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(u(j)){const G=m.length||0,Z=j.length||0;m.length=G+Z;for(let ue=0;ue<Z;ue++)m[G+ue]=j[ue]}else m.push(j)}}class E{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function R(m){return/^[\s\xa0]*$/.test(m)}function k(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function V(m,T,A){for(const j in m)T.call(A,m[j],j,m)}function C(m,T){for(const A in m)T.call(void 0,m[A],A,m)}function b(m){const T={};for(const A in m)T[A]=m[A];return T}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,T){let A,j;for(let G=1;G<arguments.length;G++){j=arguments[G];for(A in j)m[A]=j[A];for(let Z=0;Z<x.length;Z++)A=x[Z],Object.prototype.hasOwnProperty.call(j,A)&&(m[A]=j[A])}}function L(m){var T=1;m=m.split(":");const A=[];for(;0<T&&m.length;)A.push(m.shift()),T--;return m.length&&A.push(m.join(":")),A}function M(m){l.setTimeout(()=>{throw m},0)}function D(){var m=oe;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class de{constructor(){this.h=this.g=null}add(T,A){const j=fe.get();j.set(T,A),this.h?this.h.next=j:this.g=j,this.h=j}}var fe=new E(()=>new Te,m=>m.reset());class Te{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,X=!1,oe=new de,ie=()=>{const m=l.Promise.resolve(void 0);ce=()=>{m.then(H)}};var H=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(A){M(A)}var T=fe;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}X=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};l.addEventListener("test",A,T),l.removeEventListener("test",A,T)}catch{}return m}();function le(m,T){if(he.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(F){e:{try{q(T.nodeName);var G=!0;break e}catch{}G=!1}G||(T=null)}}else A=="mouseover"?T=m.fromElement:A=="mouseout"&&(T=m.toElement);this.relatedTarget=T,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&le.aa.h.call(this)}}v(le,he);var Ee={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),ve=0;function De(m,T,A,j,G){this.listener=m,this.proxy=null,this.src=T,this.type=A,this.capture=!!j,this.ha=G,this.key=++ve,this.da=this.fa=!1}function ze(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Zt(m){this.src=m,this.g={},this.h=0}Zt.prototype.add=function(m,T,A,j,G){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ue=gi(m,T,j,G);return-1<ue?(T=m[ue],A||(T.fa=!1)):(T=new De(T,this.src,Z,!!j,G),T.fa=A,m.push(T)),T};function lo(m,T){var A=T.type;if(A in m.g){var j=m.g[A],G=Array.prototype.indexOf.call(j,T,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(j,G,1),Z&&(ze(T),m.g[A].length==0&&(delete m.g[A],m.h--))}}function gi(m,T,A,j){for(var G=0;G<m.length;++G){var Z=m[G];if(!Z.da&&Z.listener==T&&Z.capture==!!A&&Z.ha==j)return G}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),co={};function Da(m,T,A,j,G){if(Array.isArray(T)){for(var Z=0;Z<T.length;Z++)Da(m,T[Z],A,j,G);return null}return A=Fa(A),m&&m[Ie]?m.K(T,A,h(j)?!!j.capture:!!j,G):La(m,T,A,!1,j,G)}function La(m,T,A,j,G,Z){if(!T)throw Error("Invalid event type");var ue=h(G)?!!G.capture:!!G,Ye=fo(m);if(Ye||(m[ls]=Ye=new Zt(m)),A=Ye.add(T,A,j,ue,Z),A.proxy)return A;if(j=Zl(),A.proxy=j,j.src=m,j.listener=A,m.addEventListener)_e||(G=ue),G===void 0&&(G=!1),m.addEventListener(T.toString(),j,G);else if(m.attachEvent)m.attachEvent(Nn(T.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Zl(){function m(A){return T.call(m.src,m.listener,A)}const T=ja;return m}function ho(m,T,A,j,G){if(Array.isArray(T))for(var Z=0;Z<T.length;Z++)ho(m,T[Z],A,j,G);else j=h(j)?!!j.capture:!!j,A=Fa(A),m&&m[Ie]?(m=m.i,T=String(T).toString(),T in m.g&&(Z=m.g[T],A=gi(Z,A,j,G),-1<A&&(ze(Z[A]),Array.prototype.splice.call(Z,A,1),Z.length==0&&(delete m.g[T],m.h--)))):m&&(m=fo(m))&&(T=m.g[T.toString()],m=-1,T&&(m=gi(T,A,j,G)),(A=-1<m?T[m]:null)&&qn(A))}function qn(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Ie])lo(T.i,m);else{var A=m.type,j=m.proxy;T.removeEventListener?T.removeEventListener(A,j,m.capture):T.detachEvent?T.detachEvent(Nn(A),j):T.addListener&&T.removeListener&&T.removeListener(j),(A=fo(T))?(lo(A,m),A.h==0&&(A.src=null,T[ls]=null)):ze(m)}}}function Nn(m){return m in co?co[m]:co[m]="on"+m}function ja(m,T){if(m.da)m=!0;else{T=new le(T,this);var A=m.listener,j=m.ha||m.src;m.fa&&qn(m),m=A.call(j,T)}return m}function fo(m){return m=m[ls],m instanceof Zt?m:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(m){return typeof m=="function"?m:(m[mo]||(m[mo]=function(T){return m.handleEvent(T)}),m[mo])}function wt(){J.call(this),this.i=new Zt(this),this.M=this,this.F=null}v(wt,J),wt.prototype[Ie]=!0,wt.prototype.removeEventListener=function(m,T,A,j){ho(this,m,T,A,j)};function _t(m,T){var A,j=m.F;if(j)for(A=[];j;j=j.F)A.push(j);if(m=m.M,j=T.type||T,typeof T=="string")T=new he(T,m);else if(T instanceof he)T.target=T.target||m;else{var G=T;T=new he(j,m),N(T,G)}if(G=!0,A)for(var Z=A.length-1;0<=Z;Z--){var ue=T.g=A[Z];G=Dn(ue,j,!0,T)&&G}if(ue=T.g=m,G=Dn(ue,j,!0,T)&&G,G=Dn(ue,j,!1,T)&&G,A)for(Z=0;Z<A.length;Z++)ue=T.g=A[Z],G=Dn(ue,j,!1,T)&&G}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var A=m.g[T],j=0;j<A.length;j++)ze(A[j]);delete m.g[T],m.h--}}this.F=null},wt.prototype.K=function(m,T,A,j){return this.i.add(String(m),T,!1,A,j)},wt.prototype.L=function(m,T,A,j){return this.i.add(String(m),T,!0,A,j)};function Dn(m,T,A,j){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var G=!0,Z=0;Z<T.length;++Z){var ue=T[Z];if(ue&&!ue.da&&ue.capture==A){var Ye=ue.listener,Pt=ue.ha||ue.src;ue.fa&&lo(m.i,ue),G=Ye.call(Pt,j)!==!1&&G}}return G&&!j.defaultPrevented}function Ma(m,T,A){if(typeof m=="function")A&&(m=p(m,A));else if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:l.setTimeout(m,T||0)}function yi(m){m.g=Ma(()=>{m.g=null,m.i&&(m.i=!1,yi(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class cs extends J{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(m){J.call(this),this.h=m,this.g={}}v(hs,J);var Va=[];function Ua(m){V(m.g,function(T,A){this.g.hasOwnProperty(A)&&qn(T)},m),m.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Ua(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $a=l.JSON.stringify,Ha=l.JSON.parse,Ba=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ds(){}ds.prototype.h=null;function po(m){return m.h||(m.h=m.i())}function go(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function on(){he.call(this,"d")}v(on,he);function yo(){he.call(this,"c")}v(yo,he);var an={},za=null;function fs(){return za=za||new wt}an.La="serverreachability";function Wa(m){he.call(this,an.La,m)}v(Wa,he);function Ln(m){const T=fs();_t(T,new Wa(T))}an.STAT_EVENT="statevent";function Ga(m,T){he.call(this,an.STAT_EVENT,m),this.stat=T}v(Ga,he);function ft(m){const T=fs();_t(T,new Ga(T,m))}an.Ma="timingevent";function vo(m,T){he.call(this,an.Ma,m),this.size=T}v(vo,he);function jr(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},T)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function ps(m,T,A,j,G,Z){m.info(function(){if(m.g)if(Z)for(var ue="",Ye=Z.split("&"),Pt=0;Pt<Ye.length;Pt++){var He=Ye[Pt].split("=");if(1<He.length){var bt=He[0];He=He[1];var gt=bt.split("_");ue=2<=gt.length&&gt[1]=="type"?ue+(bt+"="+He+"&"):ue+(bt+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+j+") [attempt "+G+"]: "+T+`
`+A+`
`+ue})}function wo(m,T,A,j,G,Z,ue){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+G+"]: "+T+`
`+A+`
`+Z+" "+ue})}function Fr(m,T,A,j){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Qd(m,A)+(j?" "+j:"")})}function Qa(m,T){m.info(function(){return"TIMEOUT: "+T})}ms.prototype.info=function(){};function Qd(m,T){if(!m.g)return T;if(!T)return null;try{var A=JSON.parse(T);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var j=A[m];if(!(2>j.length)){var G=j[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return $a(A)}catch{return T}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ec={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function gs(){}v(gs,ds),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},Mr=new gs;function Vr(m,T,A,j){this.j=m,this.i=T,this.l=A,this.R=j||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tc}function tc(){this.i=null,this.g="",this.h=!1}var Ka={},Po={};function Eo(m,T,A){m.L=1,m.v=Ei(fr(T)),m.m=A,m.P=!0,Ya(m,null)}function Ya(m,T){m.F=Date.now(),et(m),m.A=fr(m.v);var A=m.A,j=m.R;Array.isArray(j)||(j=[String(j)]),Ti(A.i,"t",j),m.C=0,A=m.j.J,m.h=new tc,m.g=wc(m.j,A?T:null,!m.m),0<m.O&&(m.M=new cs(p(m.Y,m,m.g),m.O)),T=m.U,A=m.g,j=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(Va[0]=G.toString()),G=Va);for(var Z=0;Z<G.length;Z++){var ue=Da(A,G[Z],j||T.handleEvent,!1,T.h||T);if(!ue)break;T.g[ue.key]=ue}T=m.H?b(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),Ln(),ps(m.i,m.u,m.A,m.l,m.R,m.m)}Vr.prototype.ca=function(m){m=m.target;const T=this.M;T&&tr(m)==3?T.j():this.Y(m)},Vr.prototype.Y=function(m){try{if(m==this.g)e:{const gt=tr(this.g);var T=this.g.Ba();const Rr=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||gt!=4||T==7||(T==8||0>=Rr?Ln(3):Ln(2)),ys(this);var A=this.g.Z();this.X=A;t:if(rc(this)){var j=ru(this.g);m="";var G=j.length,Z=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),vi(this);var ue="";break t}this.h.i=new l.TextDecoder}for(T=0;T<G;T++)this.h.h=!0,m+=this.h.i.decode(j[T],{stream:!(Z&&T==G-1)});j.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=A==200,wo(this.i,this.u,this.A,this.l,this.R,gt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Pt=this.g;if((Ye=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Ye)){var He=Ye;break t}}He=null}if(A=He)Fr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,A);else{this.o=!1,this.s=3,ft(12),Tr(this),vi(this);break e}}if(this.P){A=!0;let pr;for(;!this.J&&this.C<ue.length;)if(pr=Kd(this,ue),pr==Po){gt==4&&(this.s=4,ft(14),A=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Ka){this.s=4,ft(15),Fr(this.i,this.l,ue,"[Invalid Chunk]"),A=!1;break}else Fr(this.i,this.l,pr,null),Xa(this,pr);if(rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ue.length!=0||this.h.h||(this.s=1,ft(16),A=!1),this.o=this.o&&A,!A)Fr(this.i,this.l,ue,"[Invalid Chunked Response]"),Tr(this),vi(this);else if(0<ue.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),iu(bt),bt.M=!0,ft(11))}}else Fr(this.i,this.l,ue,null),Xa(this,ue);gt==4&&Tr(this),this.o&&!this.J&&(gt==4?qo(this.j,this):(this.o=!1,et(this)))}else Co(this.g),A==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Tr(this),vi(this)}}}catch{}finally{}};function rc(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Kd(m,T){var A=m.C,j=T.indexOf(`
`,A);return j==-1?Po:(A=Number(T.substring(A,j)),isNaN(A)?Ka:(j+=1,j+A>T.length?Po:(T=T.slice(j,j+A),m.C=j+A,T)))}Vr.prototype.cancel=function(){this.J=!0,Tr(this)};function et(m){m.S=Date.now()+m.I,nc(m,m.I)}function nc(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=jr(p(m.ba,m),T)}function ys(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Vr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Qa(this.i,this.A),this.L!=2&&(Ln(),ft(17)),Tr(this),this.s=2,vi(this)):nc(this,this.S-m)};function vi(m){m.j.G==0||m.J||qo(m.j,m)}function Tr(m){ys(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,Ua(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Xa(m,T){try{var A=m.j;if(A.G!=0&&(A.g==m||Gt(A.h,m))){if(!m.K&&Gt(A.h,m)&&A.G==3){try{var j=A.Da.g.parse(T)}catch{j=null}if(Array.isArray(j)&&j.length==3){var G=j;if(G[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)Oo(A),zr(A);else break e;ko(A),ft(18)}}else A.za=G[1],0<A.za-A.T&&37500>G[2]&&A.F&&A.v==0&&!A.C&&(A.C=jr(p(A.Za,A),6e3));if(1>=sc(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Un(A,11)}else if((m.K||A.g==m)&&Oo(A),!R(T))for(G=A.Da.g.parse(T),T=0;T<G.length;T++){let He=G[T];if(A.T=He[0],He=He[1],A.G==2)if(He[0]=="c"){A.K=He[1],A.ia=He[2];const bt=He[3];bt!=null&&(A.la=bt,A.j.info("VER="+A.la));const gt=He[4];gt!=null&&(A.Aa=gt,A.j.info("SVER="+A.Aa));const Rr=He[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(j=1.5*Rr,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const pr=m.g;if(pr){const Ts=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var Z=j.h;Z.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ja(Z,Z.h),Z.h=null))}if(j.D){const Do=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(j.ya=Do,Je(j.I,j.D,Do))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ue=m;if(j.qa=vc(j,j.J?j.ia:null,j.W),ue.K){oc(j.h,ue);var Ye=ue,Pt=j.L;Pt&&(Ye.I=Pt),Ye.B&&(ys(Ye),et(Ye)),j.g=ue}else Ss(j);0<A.i.length&&hn(A)}else He[0]!="stop"&&He[0]!="close"||Un(A,7);else A.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Un(A,7):qt(A):He[0]!="noop"&&A.l&&A.l.ta(He),A.v=0)}}Ln(4)}catch{}}var ic=class{constructor(m,T){this.g=m,this.map=T}};function vs(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function sc(m){return m.h?1:m.g?m.g.size:0}function Gt(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Ja(m,T){m.g?m.g.add(T):m.h=T}function oc(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}vs.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ac(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const A of m.g.values())T=T.concat(A.D);return T}return _(m.i)}function So(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var T=[],A=m.length,j=0;j<A;j++)T.push(m[j]);return T}T=[],A=0;for(j in m)T[A++]=m[j];return T}function To(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var T=[];m=m.length;for(var A=0;A<m;A++)T.push(A);return T}T=[],A=0;for(const j in m)T[A++]=j;return T}}}function wi(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var A=To(m),j=So(m),G=j.length,Z=0;Z<G;Z++)T.call(void 0,j[Z],A&&A[Z],m)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yd(m,T){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var j=m[A].indexOf("="),G=null;if(0<=j){var Z=m[A].substring(0,j);G=m[A].substring(j+1)}else Z=m[A];T(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function jn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof jn){this.h=m.h,_s(this,m.j),this.o=m.o,this.g=m.g,_i(this,m.s),this.l=m.l;var T=m.i,A=new un;A.i=T.i,T.g&&(A.g=new Map(T.g),A.h=T.h),Pi(this,A),this.m=m.m}else m&&(T=String(m).match(ws))?(this.h=!1,_s(this,T[1]||"",!0),this.o=Ve(T[2]||""),this.g=Ve(T[3]||"",!0),_i(this,T[4]),this.l=Ve(T[5]||"",!0),Pi(this,T[6]||"",!0),this.m=Ve(T[7]||"")):(this.h=!1,this.i=new un(null,this.h))}jn.prototype.toString=function(){var m=[],T=this.j;T&&m.push(Si(T,Io,!0),":");var A=this.g;return(A||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Si(T,Io,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Si(A,A.charAt(0)=="/"?cc:lc,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Si(A,Za)),m.join("")};function fr(m){return new jn(m)}function _s(m,T,A){m.j=A?Ve(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function _i(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function Pi(m,T,A){T instanceof un?(m.i=T,ln(m.i,m.h)):(A||(T=Si(T,hc)),m.i=new un(T,m.h))}function Je(m,T,A){m.i.set(T,A)}function Ei(m){return Je(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ve(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Si(m,T,A){return typeof m=="string"?(m=encodeURI(m).replace(T,uc),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function uc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Io=/[#\/\?@]/g,lc=/[#\?:]/g,cc=/[#\?]/g,hc=/[#\?@]/g,Za=/#/g;function un(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Ot(m){m.g||(m.g=new Map,m.h=0,m.i&&Yd(m.i,function(T,A){m.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}t=un.prototype,t.add=function(m,T){Ot(this),this.i=null,m=Ir(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(T),this.h+=1,this};function Ur(m,T){Ot(m),T=Ir(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function $r(m,T){return Ot(m),T=Ir(m,T),m.g.has(T)}t.forEach=function(m,T){Ot(this),this.g.forEach(function(A,j){A.forEach(function(G){m.call(T,G,j,this)},this)},this)},t.na=function(){Ot(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),A=[];for(let j=0;j<T.length;j++){const G=m[j];for(let Z=0;Z<G.length;Z++)A.push(T[j])}return A},t.V=function(m){Ot(this);let T=[];if(typeof m=="string")$r(this,m)&&(T=T.concat(this.g.get(Ir(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)T=T.concat(m[A])}return T},t.set=function(m,T){return Ot(this),this.i=null,m=Ir(this,m),$r(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Ti(m,T,A){Ur(m,T),0<A.length&&(m.i=null,m.g.set(Ir(m,T),_(A)),m.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var A=0;A<T.length;A++){var j=T[A];const Z=encodeURIComponent(String(j)),ue=this.V(j);for(j=0;j<ue.length;j++){var G=Z;ue[j]!==""&&(G+="="+encodeURIComponent(String(ue[j]))),m.push(G)}}return this.i=m.join("&")};function Ir(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function ln(m,T){T&&!m.j&&(Ot(m),m.i=null,m.g.forEach(function(A,j){var G=j.toLowerCase();j!=G&&(Ur(this,j),Ti(this,G,A))},m)),m.j=T}function Xd(m,T){const A=new ms;if(l.Image){const j=new Image;j.onload=f(er,A,"TestLoadImage: loaded",!0,T,j),j.onerror=f(er,A,"TestLoadImage: error",!1,T,j),j.onabort=f(er,A,"TestLoadImage: abort",!1,T,j),j.ontimeout=f(er,A,"TestLoadImage: timeout",!1,T,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else T(!1)}function dc(m,T){const A=new ms,j=new AbortController,G=setTimeout(()=>{j.abort(),er(A,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:j.signal}).then(Z=>{clearTimeout(G),Z.ok?er(A,"TestPingServer: ok",!0,T):er(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(G),er(A,"TestPingServer: error",!1,T)})}function er(m,T,A,j,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),j(A)}catch{}}function Jd(){this.g=new Ba}function fc(m,T,A){const j=A||"";try{wi(m,function(G,Z){let ue=G;h(G)&&(ue=$a(G)),T.push(j+Z+"="+encodeURIComponent(ue))})}catch(G){throw T.push(j+"type="+encodeURIComponent("_badmap")),G}}function Fn(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Fn,ds),Fn.prototype.g=function(){return new Ps(this.l,this.j)},Fn.prototype.i=function(m){return function(){return m}}({});function Ps(m,T){wt.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ps,wt),t=Ps.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,Br(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||l).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function mc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Hr(this):Br(this),this.readyState==3&&mc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Hr(this))},t.Qa=function(m){this.g&&(this.response=m,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Br(m)}t.setRequestHeader=function(m,T){this.u.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=T.next();return m.join(`\r
`)};function Br(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mn(m){let T="";return V(m,function(A,j){T+=j,T+=":",T+=A,T+=`\r
`}),T}function Ii(m,T,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=Mn(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Je(m,T,A))}function it(m){wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(it,wt);var Zd=/^https?$/i,eu=["POST","PUT"];t=it.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,T,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?po(this.o):po(Mr),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Z){Es(this,Z);return}if(m=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var G in j)A.set(G,j[G]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Z of j.keys())A.set(Z,j.get(Z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(eu,T,void 0))||j||G||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of A)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){Es(this,Z)}};function Es(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Ro(m),mr(m)}function Ro(m){m.A||(m.A=!0,_t(m,"complete"),_t(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,_t(this,"complete"),_t(this,"abort"),mr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tu(this):this.bb())},t.bb=function(){tu(this)};function tu(m){if(m.h&&typeof c<"u"&&(!m.v[1]||tr(m)!=4||m.Z()!=2)){if(m.u&&tr(m)==4)Ma(m.Ea,0,m);else if(_t(m,"readystatechange"),tr(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var j;if(j=ue===0){var G=String(m.D).match(ws)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),j=!Zd.test(G?G.toLowerCase():"")}A=j}if(A)_t(m,"complete"),_t(m,"success");else{m.m=6;try{var Z=2<tr(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",Ro(m)}}finally{mr(m)}}}}function mr(m,T){if(m.g){bo(m);const A=m.g,j=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||_t(m,"ready");try{A.onreadystatechange=j}catch{}}}function bo(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function tr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ha(T)}};function ru(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(m){const T={};m=(m.g&&2<=tr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(R(m[j]))continue;var A=L(m[j]);const G=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Z=T[G]||[];T[G]=Z,Z.push(A)}C(T,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cn(m,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||T}function nu(m){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cn("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cn("baseRetryDelayMs",5e3,m),this.cb=cn("retryDelaySeedMs",1e4,m),this.Wa=cn("forwardChannelMaxRetries",2,m),this.wa=cn("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(m&&m.concurrentRequestLimit),this.Da=new Jd,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nu.prototype,t.la=8,t.G=1,t.connect=function(m,T,A,j){ft(0),this.W=m,this.H=T||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=vc(this,null,this.W),hn(this)};function qt(m){if(Ao(m),m.G==3){var T=m.U++,A=fr(m.I);if(Je(A,"SID",m.K),Je(A,"RID",T),Je(A,"TYPE","terminate"),Vn(m,A),T=new Vr(m,m.j,T),T.L=2,T.v=Ei(fr(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(T.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=T.v,A=!0),A||(T.g=wc(T.j,null),T.g.ea(T.v)),T.F=Date.now(),et(T)}yc(m)}function zr(m){m.g&&(iu(m),m.g.cancel(),m.g=null)}function Ao(m){zr(m),m.u&&(l.clearTimeout(m.u),m.u=null),Oo(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function hn(m){if(!dr(m.h)&&!m.s){m.s=!0;var T=m.Ga;ce||ie(),X||(ce(),X=!0),oe.add(T,m),m.B=0}}function ef(m,T){return sc(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=jr(p(m.Ga,m,T),gc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new Vr(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=b(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(T+=j,4096<T){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=Ri(this,G,T),A=fr(this.I),Je(A,"RID",m),Je(A,"CVER",22),this.D&&Je(A,"X-HTTP-Session-Id",this.D),Vn(this,A),Z&&(this.O?T="headers="+encodeURIComponent(String(Mn(Z)))+"&"+T:this.m&&Ii(A,this.m,Z)),Ja(this.h,G),this.Ua&&Je(A,"TYPE","init"),this.P?(Je(A,"$req",T),Je(A,"SID","null"),G.T=!0,Eo(G,A,null)):Eo(G,A,T),this.G=2}}else this.G==3&&(m?xo(this,m):this.i.length==0||dr(this.h)||xo(this))};function xo(m,T){var A;T?A=T.l:A=m.U++;const j=fr(m.I);Je(j,"SID",m.K),Je(j,"RID",A),Je(j,"AID",m.T),Vn(m,j),m.m&&m.o&&Ii(j,m.m,m.o),A=new Vr(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),T&&(m.i=T.D.concat(m.i)),T=Ri(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ja(m.h,A),Eo(A,j,T)}function Vn(m,T){m.H&&V(m.H,function(A,j){Je(T,j,A)}),m.l&&wi({},function(A,j){Je(T,j,A)})}function Ri(m,T,A){A=Math.min(m.i.length,A);var j=m.l?p(m.l.Na,m.l,m):null;e:{var G=m.i;let Z=-1;for(;;){const ue=["count="+A];Z==-1?0<A?(Z=G[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let Ye=!0;for(let Pt=0;Pt<A;Pt++){let He=G[Pt].g;const bt=G[Pt].map;if(He-=Z,0>He)Z=Math.max(0,G[Pt].g-100),Ye=!1;else try{fc(bt,ue,"req"+He+"_")}catch{j&&j(bt)}}if(Ye){j=ue.join("&");break e}}}return m=m.i.splice(0,A),T.D=m,j}function Ss(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;ce||ie(),X||(ce(),X=!0),oe.add(T,m),m.v=0}}function ko(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=jr(p(m.Fa,m),gc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=jr(p(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),zr(this),pc(this))};function iu(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function pc(m){m.g=new Vr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=fr(m.qa);Je(T,"RID","rpc"),Je(T,"SID",m.K),Je(T,"AID",m.T),Je(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&Je(T,"TO",m.ja),Je(T,"TYPE","xmlhttp"),Vn(m,T),m.m&&m.o&&Ii(T,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=Ei(fr(T)),A.m=null,A.P=!0,Ya(A,m)}t.Za=function(){this.C!=null&&(this.C=null,zr(this),ko(this),ft(19))};function Oo(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function qo(m,T){var A=null;if(m.g==T){Oo(m),iu(m),m.g=null;var j=2}else if(Gt(m.h,T))A=T.D,oc(m.h,T),j=1;else return;if(m.G!=0){if(T.o)if(j==1){A=T.m?T.m.length:0,T=Date.now()-T.F;var G=m.B;j=fs(),_t(j,new vo(j,A)),hn(m)}else Ss(m);else if(G=T.s,G==3||G==0&&0<T.X||!(j==1&&ef(m,T)||j==2&&ko(m)))switch(A&&0<A.length&&(T=m.h,T.i=T.i.concat(A)),G){case 1:Un(m,5);break;case 4:Un(m,10);break;case 3:Un(m,6);break;default:Un(m,2)}}}function gc(m,T){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*T}function Un(m,T){if(m.j.info("Error code "+T),T==2){var A=p(m.fb,m),j=m.Xa;const G=!j;j=new jn(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_s(j,"https"),Ei(j),G?Xd(j.toString(),A):dc(j.toString(),A)}else ft(2);m.G=0,m.l&&m.l.sa(T),yc(m),Ao(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function yc(m){if(m.G=0,m.ka=[],m.l){const T=ac(m.h);(T.length!=0||m.i.length!=0)&&(S(m.ka,T),S(m.ka,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.ra()}}function vc(m,T,A){var j=A instanceof jn?fr(A):new jn(A);if(j.g!="")T&&(j.g=T+"."+j.g),_i(j,j.s);else{var G=l.location;j=G.protocol,T=T?T+"."+G.hostname:G.hostname,G=+G.port;var Z=new jn(null);j&&_s(Z,j),T&&(Z.g=T),G&&_i(Z,G),A&&(Z.l=A),j=Z}return A=m.D,T=m.ya,A&&T&&Je(j,A,T),Je(j,"VER",m.la),Vn(m,j),j}function wc(m,T,A){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new it(new Fn({eb:A})):new it(m.pa),T.Ha(m.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}t=su.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function No(){}No.prototype.g=function(m,T){return new Qt(m,T)};function Qt(m,T){wt.call(this),this.g=new nu(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!R(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!R(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new dn(this)}v(Qt,wt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){qt(this.g)},Qt.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=$a(m),m=A);T.i.push(new ic(T.Ya++,m)),T.G==3&&hn(T)},Qt.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,Qt.aa.N.call(this)};function _c(m){on.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const A in T){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}v(_c,on);function Pc(){yo.call(this),this.status=1}v(Pc,yo);function dn(m){this.g=m}v(dn,su),dn.prototype.ua=function(){_t(this.g,"a")},dn.prototype.ta=function(m){_t(this.g,new _c(m))},dn.prototype.sa=function(m){_t(this.g,new Pc)},dn.prototype.ra=function(){_t(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,JS=function(){return new No},XS=function(){return fs()},YS=an,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Vh=_o,ec.COMPLETE="complete",KS=ec,go.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Hu=go,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,QS=it}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Ed("@firebase/firestore");function oa(){return Xs.logLevel}function ge(t,...e){if(Xs.logLevel<=je.DEBUG){const r=e.map(ny);Xs.debug(`Firestore (${ka}): ${t}`,...r)}}function oi(t,...e){if(Xs.logLevel<=je.ERROR){const r=e.map(ny);Xs.error(`Firestore (${ka}): ${t}`,...r)}}function ga(t,...e){if(Xs.logLevel<=je.WARN){const r=e.map(ny);Xs.warn(`Firestore (${ka}): ${t}`,...r)}}function ny(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: `+t;throw oi(e),new Error(e)}function Ke(t,e){t||Oe()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends nn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Bt.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class pN{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ke(this.o===void 0);let n=this.i;const i=u=>this.i!==n?(n=this.i,r(u)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}},0),c()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ke(typeof n.accessToken=="string"),new ZS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Bt(e)}}class gN{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yN{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new gN(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ke(this.o===void 0);const n=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ke(typeof r.token=="string"),this.R=r.token,new vN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=_N(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Ue(t,e){return t<e?-1:t>e?1:0}function ya(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new It(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new It(0,0))}static max(){return new qe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Oe(),n===void 0?n=e.length-r:n>e.length-r&&Oe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return sl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),c=r.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ot extends sl{construct(e,r,n){return new ot(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(ne.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ot(r)}static emptyPath(){return new ot([])}}const PN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends sl{construct(e,r,n){return new jt(e,r,n)}static isValidIdentifier(e){return PN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Re(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let c=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Re(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Re(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(c=!c,i++):l!=="."||c?(n+=l,i++):(a(),i++)}if(a(),c)throw new Re(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ot.fromString(e))}static fromName(e){return new Ae(ot.fromString(e).popFirst(5))}static empty(){return new Ae(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ot.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ot(e.slice()))}}function EN(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(n===1e9?new It(r+1,0):new It(r,n));return new ts(i,Ae.empty(),e)}function SN(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ts(qe.min(),Ae.empty(),-1)}static max(){return new ts(qe.max(),Ae.empty(),-1)}}function TN(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==IN)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ee((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ee?r:ee.resolve(r)}catch(r){return ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ee.reject(r)}static resolve(e){return new ee((r,n)=>{r(e)})}static reject(e){return new ee((r,n)=>{n(e)})}static waitFor(e){return new ee((r,n)=>{let i=0,a=0,c=!1;e.forEach(l=>{++i,l.next(()=>{++a,c&&a===i&&r()},u=>n(u))}),c=!0,a===i&&r()})}static or(e){let r=ee.resolve(!1);for(const n of e)r=r.next(i=>i?ee.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ee((n,i)=>{const a=e.length,c=new Array(a);let l=0;for(let u=0;u<a;u++){const h=u;r(e[h]).next(g=>{c[h]=g,++l,l===a&&n(c)},g=>i(g))}})}static doWhile(e,r){return new ee((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function bN(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cd.oe=-1;function Ad(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function CN(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=A_(e)),e=xN(t.get(r),e);return A_(e)}function xN(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case"":r+="";break;default:r+=a}}return r}function A_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function so(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function tT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,r){this.comparator=e,this.root=r||Lt.EMPTY}insert(e,r){return new ht(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Lt.RED,this.left=i??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Lt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Lt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Rt(this.comparator);return r.data=e,r}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Zr([])}unionWith(e){let r=new Rt(jt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Zr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rT("Invalid base64 string: "+a):a}}(e);return new Ft(r)}static fromUint8Array(e){const r=function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e);return new Ft(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Ke(!!t),typeof t=="string"){let e=0;const r=kN.exec(t);if(Ke(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function xd(t){const e=t.mapValue.fields.__previous_value__;return iy(e)?xd(e):e}function ol(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,r,n,i,a,c,l,u,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class al{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iy(t)?4:NN(t)?9007199254740991:qN(t)?10:11:Oe()}function Cn(t,e){if(t===e)return!0;const r=is(t);if(r!==is(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=rs(i.timestampValue),l=rs(a.timestampValue);return c.seconds===l.seconds&&c.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ns(i.bytesValue).isEqual(ns(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return pt(i.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return pt(i.integerValue)===pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=pt(i.doubleValue),l=pt(a.doubleValue);return c===l?nd(c)===nd(l):isNaN(c)&&isNaN(l)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(i,a){const c=i.mapValue.fields||{},l=a.mapValue.fields||{};if(x_(c)!==x_(l))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(l[u]===void 0||!Cn(c[u],l[u])))return!1;return!0}(t,e);default:return Oe()}}function ul(t,e){return(t.values||[]).find(r=>Cn(r,e))!==void 0}function va(t,e){if(t===e)return 0;const r=is(t),n=is(e);if(r!==n)return Ue(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(a,c){const l=pt(a.integerValue||a.doubleValue),u=pt(c.integerValue||c.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return O_(t.timestampValue,e.timestampValue);case 4:return O_(ol(t),ol(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(a,c){const l=ns(a),u=ns(c);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,c){const l=a.split("/"),u=c.split("/");for(let h=0;h<l.length&&h<u.length;h++){const g=Ue(l[h],u[h]);if(g!==0)return g}return Ue(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,c){const l=Ue(pt(a.latitude),pt(c.latitude));return l!==0?l:Ue(pt(a.longitude),pt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q_(t.arrayValue,e.arrayValue);case 10:return function(a,c){var l,u,h,g;const w=a.fields||{},p=c.fields||{},f=(l=w.value)===null||l===void 0?void 0:l.arrayValue,v=(u=p.value)===null||u===void 0?void 0:u.arrayValue,_=Ue(((h=f==null?void 0:f.values)===null||h===void 0?void 0:h.length)||0,((g=v==null?void 0:v.values)===null||g===void 0?void 0:g.length)||0);return _!==0?_:q_(f,v)}(t.mapValue,e.mapValue);case 11:return function(a,c){if(a===bh.mapValue&&c===bh.mapValue)return 0;if(a===bh.mapValue)return 1;if(c===bh.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),h=c.fields||{},g=Object.keys(h);u.sort(),g.sort();for(let w=0;w<u.length&&w<g.length;++w){const p=Ue(u[w],g[w]);if(p!==0)return p;const f=va(l[u[w]],h[g[w]]);if(f!==0)return f}return Ue(u.length,g.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function O_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const r=rs(t),n=rs(e),i=Ue(r.seconds,n.seconds);return i!==0?i:Ue(r.nanos,n.nanos)}function q_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=va(r[i],n[i]);if(a)return a}return Ue(r.length,n.length)}function wa(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=rs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ns(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Zp(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const c of n)a?a=!1:i+=",",i+=`${c}:${Zp(r.fields[c])}`;return i+"}"}(t.mapValue):Oe()}function Uh(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xd(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Uh(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return so(n.fields,(a,c)=>{i+=a.length+Uh(c)}),i}(t.mapValue);default:throw Oe()}}function eg(t){return!!t&&"integerValue"in t}function sy(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function D_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $h(t){return!!t&&"mapValue"in t}function qN(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return so(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Yu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Yu(t.arrayValue.values[r]);return e}return Object.assign({},t)}function NN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!$h(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(r)}setAll(e){let r=jt.emptyPath(),n={},i=[];e.forEach((c,l)=>{if(!r.isImmediateParentOf(l)){const u=this.getFieldsMap(r);this.applyChanges(u,n,i),n={},i=[],r=l.popLast()}c?n[l.lastSegment()]=Yu(c):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());$h(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];$h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){so(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Dr(Yu(this.value))}}function nT(t){const e=[];return so(t.fields,(r,n)=>{const i=new jt([r]);if($h(n)){const a=nT(n.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r,n,i,a,c,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=c,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,qe.min(),qe.min(),qe.min(),Dr.empty(),0)}static newFoundDocument(e,r,n,i){return new zt(e,1,r,qe.min(),n,i,0)}static newNoDocument(e,r){return new zt(e,2,r,qe.min(),qe.min(),Dr.empty(),0)}static newUnknownDocument(e,r){return new zt(e,3,r,qe.min(),qe.min(),Dr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,r){this.position=e,this.inclusive=r}}function L_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?n=Ae.comparator(Ae.fromName(c.referenceValue),r.key):n=va(c,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function j_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Cn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,r="asc"){this.field=e,this.dir=r}}function DN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Tt extends iT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jN(e,r,n):r==="array-contains"?new VN(e,n):r==="in"?new UN(e,n):r==="not-in"?new $N(e,n):r==="array-contains-any"?new HN(e,n):new Tt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new FN(e,n):new MN(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(va(r,this.value)):r!==null&&is(this.value)===is(r)&&this.matchesComparison(va(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends iT{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new An(e,r)}matches(e){return sT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sT(t){return t.op==="and"}function oT(t){return LN(t)&&sT(t)}function LN(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function tg(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(oT(t))return t.filters.map(e=>tg(e)).join(",");{const e=t.filters.map(r=>tg(r)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof Tt?function(n,i){return i instanceof Tt&&n.op===i.op&&n.field.isEqual(i.field)&&Cn(n.value,i.value)}(t,e):t instanceof An?function(n,i){return i instanceof An&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,c,l)=>a&&aT(c,i.filters[l]),!0):!1}(t,e):void Oe()}function uT(t){return t instanceof Tt?function(r){return`${r.field.canonicalString()} ${r.op} ${wa(r.value)}`}(t):t instanceof An?function(r){return r.op.toString()+" {"+r.getFilters().map(uT).join(" ,")+"}"}(t):"Filter"}class jN extends Tt{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class FN extends Tt{constructor(e,r){super(e,"in",r),this.keys=lT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class MN extends Tt{constructor(e,r){super(e,"not-in",r),this.keys=lT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function lT(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class VN extends Tt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return sy(r)&&ul(r.arrayValue,this.value)}}class UN extends Tt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ul(this.value.arrayValue,r)}}class $N extends Tt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!ul(this.value.arrayValue,r)}}class HN extends Tt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!sy(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ul(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,r=null,n=[],i=[],a=null,c=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=c,this.endAt=l,this.ue=null}}function F_(t,e=null,r=[],n=[],i=null,a=null,c=null){return new BN(t,e,r,n,i,a,c)}function oy(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>tg(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Ad(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>wa(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>wa(n)).join(",")),e.ue=r}return e.ue}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!DN(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!aT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j_(t.startAt,e.startAt)&&j_(t.endAt,e.endAt)}function rg(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,r=null,n=[],i=[],a=null,c="F",l=null,u=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=c,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zN(t,e,r,n,i,a,c,l){return new kd(t,e,r,n,i,a,c,l)}function uy(t){return new kd(t)}function M_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WN(t){return t.collectionGroup!==null}function Xu(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let l=new Rt(jt.comparator);return c.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new sd(a,n))}),r.has(jt.keyField().canonicalString())||e.ce.push(new sd(jt.keyField(),n))}return e.ce}function Tn(t){const e=Ne(t);return e.le||(e.le=GN(e,Xu(t))),e.le}function GN(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new sd(i.field,a)});const r=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ng(t,e,r){return new kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Od(t,e){return ay(Tn(t),Tn(e))&&t.limitType===e.limitType}function cT(t){return`${oy(Tn(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>uT(i)).join(", ")}]`),Ad(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>wa(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>wa(i)).join(",")),`Target(${n})`}(Tn(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ae.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Xu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(c,l,u){const h=L_(c,l,u);return c.inclusive?h<=0:h<0}(n.startAt,Xu(n),i)||n.endAt&&!function(c,l,u){const h=L_(c,l,u);return c.inclusive?h>=0:h>0}(n.endAt,Xu(n),i))}(t,e)}function QN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hT(t){return(e,r)=>{let n=!1;for(const i of Xu(t)){const a=KN(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function KN(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(a,c,l){const u=c.data.field(a),h=l.data.field(a);return u!==null&&h!==null?va(u,h):Oe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ht(Ae.comparator);function ai(){return YN}const dT=new ht(Ae.comparator);function Bu(...t){let e=dT;for(const r of t)e=e.insert(r.key,r);return e}function fT(t){let e=dT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Hs(){return Ju()}function mT(){return Ju()}function Ju(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XN=new ht(Ae.comparator),JN=new Rt(Ae.comparator);function Me(...t){let e=JN;for(const r of t)e=e.add(r);return e}const ZN=new Rt(Ue);function eD(){return ZN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function pT(t){return{integerValue:""+t}}function tD(t,e){return CN(e)?pT(e):ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this._=void 0}}function rD(t,e,r){return t instanceof od?function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iy(a)&&(a=xd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(r,e):t instanceof ll?yT(t,e):t instanceof cl?vT(t,e):function(i,a){const c=gT(i,a),l=V_(c)+V_(i.Pe);return eg(c)&&eg(i.Pe)?pT(l):ly(i.serializer,l)}(t,e)}function nD(t,e,r){return t instanceof ll?yT(t,e):t instanceof cl?vT(t,e):r}function gT(t,e){return t instanceof ad?function(n){return eg(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class od extends Nd{}class ll extends Nd{constructor(e){super(),this.elements=e}}function yT(t,e){const r=wT(e);for(const n of t.elements)r.some(i=>Cn(i,n))||r.push(n);return{arrayValue:{values:r}}}class cl extends Nd{constructor(e){super(),this.elements=e}}function vT(t,e){let r=wT(e);for(const n of t.elements)r=r.filter(i=>!Cn(i,n));return{arrayValue:{values:r}}}class ad extends Nd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function V_(t){return pt(t.integerValue||t.doubleValue)}function wT(t){return sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iD(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ll&&i instanceof ll||n instanceof cl&&i instanceof cl?ya(n.elements,i.elements,Cn):n instanceof ad&&i instanceof ad?Cn(n.Pe,i.Pe):n instanceof od&&i instanceof od}(t.transform,e.transform)}class sD{constructor(e,r){this.version=e,this.transformResults=r}}class ni{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dd{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ET(t.key,ni.none()):new Hl(t.key,t.data,ni.none());{const r=t.data,n=Dr.empty();let i=new Rt(jt.comparator);for(let a of e.fields)if(!i.has(a)){let c=r.field(a);c===null&&a.length>1&&(a=a.popLast(),c=r.field(a)),c===null?n.delete(a):n.set(a,c),i=i.add(a)}return new ao(t.key,n,new Zr(i.toArray()),ni.none())}}function oD(t,e,r){t instanceof Hl?function(i,a,c){const l=i.value.clone(),u=$_(i.fieldTransforms,a,c.transformResults);l.setAll(u),a.convertToFoundDocument(c.version,l).setHasCommittedMutations()}(t,e,r):t instanceof ao?function(i,a,c){if(!Hh(i.precondition,a))return void a.convertToUnknownDocument(c.version);const l=$_(i.fieldTransforms,a,c.transformResults),u=a.data;u.setAll(PT(i)),u.setAll(l),a.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,r):function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,r)}function Zu(t,e,r,n){return t instanceof Hl?function(a,c,l,u){if(!Hh(a.precondition,c))return l;const h=a.value.clone(),g=H_(a.fieldTransforms,u,c);return h.setAll(g),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof ao?function(a,c,l,u){if(!Hh(a.precondition,c))return l;const h=H_(a.fieldTransforms,u,c),g=c.data;return g.setAll(PT(a)),g.setAll(h),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,r,n):function(a,c,l){return Hh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):l}(t,e,r)}function aD(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=gT(n.transform,i||null);a!=null&&(r===null&&(r=Dr.empty()),r.set(n.field,a))}return r||null}function U_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ya(n,i,(a,c)=>iD(a,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends Dd{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends Dd{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function $_(t,e,r){const n=new Map;Ke(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],c=a.transform,l=e.data.field(a.field);n.set(a.field,nD(c,l,r[i]))}return n}function H_(t,e,r){const n=new Map;for(const i of t){const a=i.transform,c=r.data.field(i.field);n.set(i.field,rD(a,c,e))}return n}class ET extends Dd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uD extends Dd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oD(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Zu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Zu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=mT();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let l=this.applyToLocalView(c,a.mutatedFields);l=r.has(i.key)?null:l;const u=_T(c,l);u!==null&&n.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Me())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(r,n)=>U_(r,n))&&ya(this.baseMutations,e.baseMutations,(r,n)=>U_(r,n))}}class cy{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ke(e.mutations.length===n.length);let i=function(){return XN}();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,n[c].version);return new cy(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Be;function dD(t){switch(t){default:return Oe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function ST(t){if(t===void 0)return oi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case vt.OK:return ne.OK;case vt.CANCELLED:return ne.CANCELLED;case vt.UNKNOWN:return ne.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ne.INTERNAL;case vt.UNAVAILABLE:return ne.UNAVAILABLE;case vt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case vt.NOT_FOUND:return ne.NOT_FOUND;case vt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case vt.ABORTED:return ne.ABORTED;case vt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case vt.DATA_LOSS:return ne.DATA_LOSS;default:return Oe()}}(Be=vt||(vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Bs([4294967295,4294967295],0);function B_(t){const e=fD().encode(t),r=new GS;return r.update(e),new Uint8Array(r.digest())}function z_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([r,n],0),new Bs([i,a],0)]}class hy{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new zu(`Invalid padding: ${r}`);if(n<0)throw new zu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new zu(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ie=Bs.fromNumber(this.Te)}Ee(e,r,n){let i=e.add(r.multiply(Bs.fromNumber(n)));return i.compare(mD)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=B_(e),[n,i]=z_(r);for(let a=0;a<this.hashCount;a++){const c=this.Ee(n,i,a);if(!this.de(c))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new hy(a,i,r);return n.forEach(l=>c.insert(l)),c}insert(e){if(this.Te===0)return;const r=B_(e),[n,i]=z_(r);for(let a=0;a<this.hashCount;a++){const c=this.Ee(n,i,a);this.Ae(c)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ld(qe.min(),i,new ht(Ue),ai(),Me())}}class Bl{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Bl(n,r,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class TT{constructor(e,r){this.targetId=e,this.me=r}}class IT{constructor(e,r,n=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class W_{constructor(){this.fe=0,this.ge=G_(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),r=Me(),n=Me();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Oe()}}),new Bl(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=G_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=Ch(),this.Qe=Ch(),this.Ke=new ht(Ue)}$e(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(r,e.Ve):this.We(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.We(r,e.key,e.Ve)}Ge(e){this.forEachTarget(e,r=>{const n=this.ze(r);switch(e.state){case 0:this.je(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.je(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),n.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.je(i)&&r(i)})}Je(e){const r=e.targetId,n=e.me.count,i=this.Ye(r);if(i){const a=i.target;if(rg(a))if(n===0){const c=new Ae(a.path);this.We(r,c,zt.newNoDocument(c,qe.min()))}else Ke(n===1);else{const c=this.Ze(r);if(c!==n){const l=this.Xe(e),u=l?this.et(l,e,c):1;if(u!==0){this.He(r);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}Xe(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let c,l;try{c=ns(n).toUint8Array()}catch(u){if(u instanceof rT)return ga("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new hy(c,i,a)}catch(u){return ga(u instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,r,n){return r.me.count===n-this.rt(e,r.targetId)?0:2}rt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const c=this.Le.nt(),l=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.We(r,a,null),i++)}),i}it(e){const r=new Map;this.Be.forEach((a,c)=>{const l=this.Ye(c);if(l){if(a.current&&rg(l.target)){const u=new Ae(l.target.path);this.st(u).has(c)||this.ot(c,u)||this.We(c,u,zt.newNoDocument(u,e))}a.be&&(r.set(c,a.ve()),a.Ce())}});let n=Me();this.Qe.forEach((a,c)=>{let l=!0;c.forEachWhile(u=>{const h=this.Ye(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const i=new Ld(e,r,this.Ke,this.ke,n);return this.ke=ai(),this.qe=Ch(),this.Qe=Ch(),this.Ke=new ht(Ue),i}Ue(e,r){if(!this.je(e))return;const n=this.ot(e,r.key)?2:0;this.ze(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(e))}We(e,r,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,r)?i.Fe(r,1):i.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(e)),this.Qe=this.Qe.insert(r,this._t(r).add(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let r=this.Be.get(e);return r||(r=new W_,this.Be.set(e,r)),r}_t(e){let r=this.Qe.get(e);return r||(r=new Rt(Ue),this.Qe=this.Qe.insert(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Rt(Ue),this.qe=this.qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||ge("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new W_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}ot(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Ch(){return new ht(Ae.comparator)}function G_(){return new ht(Ae.comparator)}const gD={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vD={and:"AND",or:"OR"};class wD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ig(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _D(t,e){return ud(t,e.toTimestamp())}function In(t){return Ke(!!t),qe.fromTimestamp(function(r){const n=rs(r);return new It(n.seconds,n.nanos)}(t))}function dy(t,e){return sg(t,e).canonicalString()}function sg(t,e){const r=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function bT(t){const e=ot.fromString(t);return Ke(OT(e)),e}function og(t,e){return dy(t.databaseId,e.path)}function Qm(t,e){const r=bT(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(AT(r))}function CT(t,e){return dy(t.databaseId,e)}function PD(t){const e=bT(t);return e.length===4?ot.emptyPath():AT(e)}function ag(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AT(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q_(t,e,r){return{name:og(t,e),fields:r.value.mapValue.fields}}function ED(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,g){return h.useProto3Json?(Ke(g===void 0||typeof g=="string"),Ft.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ft.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,l=c&&function(h){const g=h.code===void 0?ne.UNKNOWN:ST(h.code);return new Re(g,h.message||"")}(c);r=new IT(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Qm(t,n.document.name),a=In(n.document.updateTime),c=n.document.createTime?In(n.document.createTime):qe.min(),l=new Dr({mapValue:{fields:n.document.fields}}),u=zt.newFoundDocument(i,a,c,l),h=n.targetIds||[],g=n.removedTargetIds||[];r=new Bh(h,g,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Qm(t,n.document),a=n.readTime?In(n.readTime):qe.min(),c=zt.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Bh([],l,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Qm(t,n.document),a=n.removedTargetIds||[];r=new Bh([],a,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,c=new hD(i,a),l=n.targetId;r=new TT(l,c)}}return r}function SD(t,e){let r;if(e instanceof Hl)r={update:Q_(t,e.key,e.value)};else if(e instanceof ET)r={delete:og(t,e.key)};else if(e instanceof ao)r={update:Q_(t,e.key,e.data),updateMask:OD(e.fieldMask)};else{if(!(e instanceof uD))return Oe();r={verify:og(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,c){const l=c.transform;if(l instanceof od)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:c.field.canonicalString(),increment:l.Pe};throw Oe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:_D(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe()}(t,e.precondition)),r}function TD(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(r=>function(i,a){let c=i.updateTime?In(i.updateTime):In(a);return c.isEqual(qe.min())&&(c=In(a)),new sD(c,i.transformResults||[])}(r,e))):[]}function ID(t,e){return{documents:[CT(t,e.path)]}}function RD(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=CT(t,i);const a=function(h){if(h.length!==0)return kT(An.create(h,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const c=function(h){if(h.length!==0)return h.map(g=>function(p){return{field:ua(p.field),direction:AD(p.dir)}}(g))}(e.orderBy);c&&(r.structuredQuery.orderBy=c);const l=ig(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:r,parent:i}}function bD(t){let e=PD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ke(n===1);const g=r.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];r.where&&(a=function(w){const p=xT(w);return p instanceof An&&oT(p)?p.getFilters():[p]}(r.where));let c=[];r.orderBy&&(c=function(w){return w.map(p=>function(v){return new sd(la(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let l=null;r.limit&&(l=function(w){let p;return p=typeof w=="object"?w.value:w,Ad(p)?null:p}(r.limit));let u=null;r.startAt&&(u=function(w){const p=!!w.before,f=w.values||[];return new id(f,p)}(r.startAt));let h=null;return r.endAt&&(h=function(w){const p=!w.before,f=w.values||[];return new id(f,p)}(r.endAt)),zN(e,i,c,a,l,"F",u,h)}function CD(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function xT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=la(r.unaryFilter.field);return Tt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=la(r.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=la(r.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=la(r.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(r){return Tt.create(la(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return An.create(r.compositeFilter.filters.map(n=>xT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(r.compositeFilter.op))}(t):Oe()}function AD(t){return gD[t]}function xD(t){return yD[t]}function kD(t){return vD[t]}function ua(t){return{fieldPath:t.canonicalString()}}function la(t){return jt.fromServerFormat(t.fieldPath)}function kT(t){return t instanceof Tt?function(r){if(r.op==="=="){if(D_(r.value))return{unaryFilter:{field:ua(r.field),op:"IS_NAN"}};if(N_(r.value))return{unaryFilter:{field:ua(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(D_(r.value))return{unaryFilter:{field:ua(r.field),op:"IS_NOT_NAN"}};if(N_(r.value))return{unaryFilter:{field:ua(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(r.field),op:xD(r.op),value:r.value}}}(t):t instanceof An?function(r){const n=r.getFilters().map(i=>kT(i));return n.length===1?n[0]:{compositeFilter:{op:kD(r.op),filters:n}}}(t):Oe()}function OD(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function OT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,r,n,i,a=qe.min(),c=qe.min(),l=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.ht=e}}function ND(t){const e=bD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.ln=new LD}addToCollectionParentIndex(e,r){return this.ln.add(r),ee.resolve()}getCollectionParents(e,r){return ee.resolve(this.ln.getEntries(r))}addFieldIndex(e,r){return ee.resolve()}deleteFieldIndex(e,r){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,r){return ee.resolve()}getDocumentsMatchingTarget(e,r){return ee.resolve(null)}getIndexType(e,r){return ee.resolve(0)}getFieldIndexes(e,r){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,r){return ee.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,r){return ee.resolve(ts.min())}updateCollectionGroup(e,r,n){return ee.resolve()}updateIndexEntries(e,r){return ee.resolve()}}class LD{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Rt(ot.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new _a(0)}static Qn(){return new _a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_([t,e],[r,n]){const i=Ue(t,r);return i===0?Ue(e,n):i}class jD{constructor(e){this.Gn=e,this.buffer=new Rt(Y_),this.zn=0}jn(){return++this.zn}Hn(e){const r=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Y_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class FD{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qa(r)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Oa(r)}await this.Yn(3e5)})}}class MD{constructor(e,r){this.Zn=e,this.params=r}calculateTargetCount(e,r){return this.Zn.Xn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ee.resolve(Cd.oe);const n=new jD(r);return this.Zn.forEachTarget(e,i=>n.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>n.Hn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Zn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Zn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(K_)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.tr(e,r))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,r){let n,i,a,c,l,u,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,c=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(n=w,l=Date.now(),this.removeTargets(e,n,r))).next(w=>(a=w,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(w=>(h=Date.now(),oa()<=je.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${i} in `+(l-c)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${w} documents in `+(h-u)+`ms
Total Duration: ${h-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function VD(t,e){return new MD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new oo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ee.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Zu(n.mutation,i,Zr.empty(),It.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Me()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Me()){const i=Hs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let c=Bu();return a.forEach((l,u)=>{c=c.insert(l,u.overlayedDocument)}),c}))}getOverlayedDocuments(e,r){const n=Hs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Me()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,l)=>{r.set(c,l)})})}computeViews(e,r,n,i){let a=ai();const c=Ju(),l=function(){return Ju()}();return r.forEach((u,h)=>{const g=n.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof ao)?a=a.insert(h.key,h):g!==void 0?(c.set(h.key,g.mutation.getFieldMask()),Zu(g.mutation,h,g.mutation.getFieldMask(),It.now())):c.set(h.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((h,g)=>c.set(h,g)),r.forEach((h,g)=>{var w;return l.set(h,new $D(g,(w=c.get(h))!==null&&w!==void 0?w:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Ju();let i=new ht((c,l)=>c-l),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(c=>{for(const l of c)l.keys().forEach(u=>{const h=r.get(u);if(h===null)return;let g=n.get(u)||Zr.empty();g=l.applyToLocalView(h,g),n.set(u,g);const w=(i.get(l.batchId)||Me()).add(u);i=i.insert(l.batchId,w)})}).next(()=>{const c=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,g=u.value,w=mT();g.forEach(p=>{if(!a.has(p)){const f=_T(r.get(p),n.get(p));f!==null&&w.set(p,f),a=a.add(p)}}),c.push(this.documentOverlayCache.saveOverlays(e,h,w))}return ee.waitFor(c)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):WN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ee.resolve(Hs());let l=-1,u=a;return c.next(h=>ee.forEach(h,(g,w)=>(l<w.largestBatchId&&(l=w.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(p=>{u=u.insert(g,p)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,u,h,Me())).next(g=>({batchId:l,changes:fT(g)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=Bu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let c=Bu();return this.indexManager.getCollectionParents(e,a).next(l=>ee.forEach(l,u=>{const h=function(w,p){return new kd(p,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(r,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(g=>{g.forEach((w,p)=>{c=c.insert(w,p)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(c=>{a.forEach((u,h)=>{const g=h.getKey();c.get(g)===null&&(c=c.insert(g,zt.newInvalidDocument(g)))});let l=Bu();return c.forEach((u,h)=>{const g=a.get(u);g!==void 0&&Zu(g.mutation,h,Zr.empty(),It.now()),qd(r,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,r){return ee.resolve(this.Tr.get(r))}saveBundleMetadata(e,r){return this.Tr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(r)),ee.resolve()}getNamedQuery(e,r){return ee.resolve(this.Ir.get(r))}saveNamedQuery(e,r){return this.Ir.set(r.name,function(i){return{name:i.name,query:ND(i.bundledQuery),readTime:In(i.readTime)}}(r)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.overlays=new ht(Ae.comparator),this.Er=new Map}getOverlay(e,r){return ee.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Hs();return ee.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.Tt(e,r,a)}),ee.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Er.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(n)),ee.resolve()}getOverlaysForCollection(e,r,n){const i=Hs(),a=r.length+1,c=new Ae(r.child("")),l=this.overlays.getIteratorFrom(c);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>n&&i.set(u.getKey(),u)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ht((h,g)=>h-g);const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let g=a.get(h.largestBatchId);g===null&&(g=Hs(),a=a.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const l=Hs(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,g)=>l.set(h,g)),!(l.size()>=i)););return ee.resolve(l)}Tt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const c=this.Er.get(i.largestBatchId).delete(n.key);this.Er.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new cD(r,n));let a=this.Er.get(r);a===void 0&&(a=Me(),this.Er.set(r,a)),this.Er.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.dr=new Rt(kt.Ar),this.Rr=new Rt(kt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,r){const n=new kt(e,r);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.gr(new kt(e,r))}pr(e,r){e.forEach(n=>this.removeReference(n,r))}yr(e){const r=new Ae(new ot([])),n=new kt(r,e),i=new kt(r,e+1),a=[];return this.Rr.forEachInRange([n,i],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const r=new Ae(new ot([])),n=new kt(r,e),i=new kt(r,e+1);let a=Me();return this.Rr.forEachInRange([n,i],c=>{a=a.add(c.key)}),a}containsKey(e){const r=new kt(e,0),n=this.dr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kt{constructor(e,r){this.key=e,this.br=r}static Ar(e,r){return Ae.comparator(e.key,r.key)||Ue(e.br,r.br)}static Vr(e,r){return Ue(e.br,r.br)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new Rt(kt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lD(a,r,n,i);this.mutationQueue.push(c);for(const l of i)this.vr=this.vr.add(new kt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,r){return ee.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Fr(n),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kt(r,0),i=new kt(r,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([n,i],c=>{const l=this.Cr(c.br);a.push(l)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Rt(Ue);return r.forEach(i=>{const a=new kt(i,0),c=new kt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],l=>{n=n.add(l.br)})}),ee.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ae.isDocumentKey(a)||(a=a.child(""));const c=new kt(new Ae(a),0);let l=new Rt(Ue);return this.vr.forEachWhile(u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.br)),!0)},c),ee.resolve(this.Mr(l))}Mr(e){const r=[];return e.forEach(n=>{const i=this.Cr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ke(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return ee.forEach(r.mutations,i=>{const a=new kt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=n})}Ln(e){}containsKey(e,r){const n=new kt(r,0),i=this.vr.firstAfterOrEqual(n);return ee.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,r){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const r=this.Fr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Nr=e,this.docs=function(){return new ht(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,c=this.Nr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ee.resolve(n?n.document.mutableCopy():zt.newInvalidDocument(r))}getEntries(e,r){let n=ai();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():zt.newInvalidDocument(i))}),ee.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ai();const c=r.path,l=new Ae(c.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||TN(SN(g),n)<=0||(i.has(g.key)||qd(r,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Oe()}Lr(e,r){return ee.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new KD(this)}getSize(e){return ee.resolve(this.size)}}class KD extends UD{constructor(e){super(),this.hr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)}),ee.waitFor(r)}getFromCache(e,r){return this.hr.getEntry(e,r)}getAllFromCache(e,r){return this.hr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.Br=new oo(r=>oy(r),ay),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.kr=0,this.qr=new fy,this.targetCount=0,this.Qr=_a.qn()}forEachTarget(e,r){return this.Br.forEach((n,i)=>r(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.kr&&(this.kr=r),ee.resolve()}Un(e){this.Br.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Qr=new _a(r),this.highestTargetId=r),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,r){return this.Un(r),this.targetCount+=1,ee.resolve()}updateTargetData(e,r){return this.Un(r),ee.resolve()}removeTargetData(e,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Br.forEach((c,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,r){const n=this.Br.get(r)||null;return ee.resolve(n)}addMatchingKeys(e,r,n){return this.qr.mr(r,n),ee.resolve()}removeMatchingKeys(e,r,n){this.qr.pr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.qr.yr(r),ee.resolve()}getMatchingKeysForTargetId(e,r){const n=this.qr.Sr(r);return ee.resolve(n)}containsKey(e,r){return ee.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,r){this.Kr={},this.overlays={},this.$r=new Cd(0),this.Ur=!1,this.Ur=!0,this.Wr=new WD,this.referenceDelegate=e(this),this.Gr=new YD(this),this.indexManager=new DD,this.remoteDocumentCache=function(i){return new QD(i)}(n=>this.referenceDelegate.zr(n)),this.serializer=new qD(r),this.jr=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new zD,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Kr[e.toKey()];return n||(n=new GD(r,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,r,n){ge("MemoryPersistence","Starting transaction:",e);const i=new XD(this.$r.next());return this.referenceDelegate.Hr(),n(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,r){return ee.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,r)))}}class XD extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Zr=new fy,this.Xr=null}static ei(e){return new my(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,r,n){return this.Zr.addReference(n,r),this.ti.delete(n.toString()),ee.resolve()}removeReference(e,r,n){return this.Zr.removeReference(n,r),this.ti.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,r){return this.ti.add(r.toString()),ee.resolve()}removeTarget(e,r){this.Zr.yr(r.targetId).forEach(i=>this.ti.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Hr(){this.Xr=new Set}Jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,n=>{const i=Ae.fromPath(n);return this.ni(e,i).next(a=>{a||r.removeEntry(i,qe.min())})}).next(()=>(this.Xr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ni(e,r).next(n=>{n?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(e){return 0}ni(e,r){return ee.or([()=>ee.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Yr(e,r)])}}class ld{constructor(e,r){this.persistence=e,this.ri=new oo(n=>AN(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=VD(this,r)}static ei(e,r){return new ld(e,r)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Xn(e){const r=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}nr(e){let r=0;return this.er(e,n=>{r++}).next(()=>r)}er(e,r){return ee.forEach(this.ri,(n,i)=>this.ir(e,n,i).next(a=>a?ee.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,c=>this.ir(e,c,r).next(l=>{l||(n++,a.removeEntry(c,qe.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}removeReference(e,r,n){return this.ri.set(n,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,r){return this.ri.set(r,e.currentSequenceNumber),ee.resolve()}zr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Uh(e.data.value)),r}ir(e,r,n){return ee.or([()=>this.persistence.Yr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.ri.get(r);return ee.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Wi=n,this.Gi=i}static zi(e,r){let n=Me(),i=Me();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new py(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return pA()?8:bN(Wt())>0?6:4}()}initialize(e,r){this.Zi=e,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Xi(e,r).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,r,i,n).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new JD;return this.ts(e,r,c).next(l=>{if(a.result=l,this.Hi)return this.ns(e,r,c,l.size)})}).next(()=>a.result)}ns(e,r,n,i){return n.documentReadCount<this.Ji?(oa()<=je.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",aa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(oa()<=je.DEBUG&&ge("QueryEngine","Query:",aa(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(oa()<=je.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",aa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(r))):ee.resolve())}Xi(e,r){if(M_(r))return ee.resolve(null);let n=Tn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=ng(r,null,"F"),n=Tn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const c=Me(...a);return this.Zi.getDocuments(e,c).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const h=this.rs(r,l);return this.ss(r,h,c,u.readTime)?this.Xi(e,ng(r,null,"F")):this.os(e,h,r,u)}))})))}es(e,r,n,i){return M_(r)||i.isEqual(qe.min())?ee.resolve(null):this.Zi.getDocuments(e,n).next(a=>{const c=this.rs(r,a);return this.ss(r,c,n,i)?ee.resolve(null):(oa()<=je.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(r)),this.os(e,c,r,EN(i,-1)).next(l=>l))})}rs(e,r){let n=new Rt(hT(e));return r.forEach((i,a)=>{qd(e,a)&&(n=n.add(a))}),n}ss(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,r,n){return oa()<=je.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",aa(r)),this.Zi.getDocumentsMatchingQuery(e,r,ts.min(),n)}os(e,r,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,r,n,i){this.persistence=e,this._s=r,this.serializer=i,this.us=new ht(Ue),this.cs=new oo(a=>oy(a),ay),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HD(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.us))}}function tL(t,e,r,n){return new eL(t,e,r,n)}async function NT(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Ps(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const c=[],l=[];let u=Me();for(const h of i){c.push(h.batchId);for(const g of h.mutations)u=u.add(g.key)}for(const h of a){l.push(h.batchId);for(const g of h.mutations)u=u.add(g.key)}return r.localDocuments.getDocuments(n,u).next(h=>({Ts:h,removedBatchIds:c,addedBatchIds:l}))})})}function rL(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,g){const w=h.batch,p=w.keys();let f=ee.resolve();return p.forEach(v=>{f=f.next(()=>g.getEntry(u,v)).next(_=>{const S=h.docVersions.get(v);Ke(S!==null),_.version.compareTo(S)<0&&(w.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),g.addEntry(_)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(u,w))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=Me();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function DT(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Gr.getLastRemoteSnapshotVersion(r))}function nL(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=r.hs.newChangeBuffer({trackRemovals:!0});i=r.us;const l=[];e.targetChanges.forEach((g,w)=>{const p=i.get(w);if(!p)return;l.push(r.Gr.removeMatchingKeys(a,g.removedDocuments,w).next(()=>r.Gr.addMatchingKeys(a,g.addedDocuments,w)));let f=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):g.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(g.resumeToken,n)),i=i.insert(w,f),function(_,S,E){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,f,g)&&l.push(r.Gr.updateTargetData(a,f))});let u=ai(),h=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,g))}),l.push(iL(a,c,e.documentUpdates).next(g=>{u=g.Is,h=g.Es})),!n.isEqual(qe.min())){const g=r.Gr.getLastRemoteSnapshotVersion(a).next(w=>r.Gr.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(g)}return ee.waitFor(l).next(()=>c.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,u,h)).next(()=>u)}).then(a=>(r.us=i,a))}function iL(t,e,r){let n=Me(),i=Me();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let c=ai();return r.forEach((l,u)=>{const h=a.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(qe.min())?(e.removeEntry(l,u.readTime),c=c.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),c=c.insert(l,u)):ge("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Is:c,Es:i}})}function sL(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function oL(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Gr.getTargetData(n,e).next(a=>a?(i=a,ee.resolve(i)):r.Gr.allocateTargetId(n).next(c=>(i=new Yi(e,c,"TargetPurposeListen",n.currentSequenceNumber),r.Gr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.us.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.us=r.us.insert(n.targetId,n),r.cs.set(e,n.targetId)),n})}async function ug(t,e,r){const n=Ne(t),i=n.us.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,c=>n.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!qa(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function X_(t,e,r){const n=Ne(t);let i=qe.min(),a=Me();return n.persistence.runTransaction("Execute query","readwrite",c=>function(u,h,g){const w=Ne(u),p=w.cs.get(g);return p!==void 0?ee.resolve(w.us.get(p)):w.Gr.getTargetData(h,g)}(n,c,Tn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(c,l.targetId).next(u=>{a=u})}).next(()=>n._s.getDocumentsMatchingQuery(c,e,r?i:qe.min(),r?a:Me())).next(l=>(aL(n,QN(e),l),{documents:l,ds:a})))}function aL(t,e,r){let n=t.ls.get(e)||qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.ls.set(e,n)}class J_{constructor(){this.activeTargetIds=eD()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uL{constructor(){this._o=new J_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,r,n){this.ao[e]=r}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new J_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Km(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class dL extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+r.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(r,n,i,a,c){const l=Km(),u=this.No(r,n.toUriEncodedString());ge("RestConnection",`Sending RPC '${r}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,a,c),this.Bo(r,u,h,i).then(g=>(ge("RestConnection",`Received RPC '${r}' ${l}: `,g),g),g=>{throw ga("RestConnection",`RPC '${r}' ${l} failed with error: `,g,"url: ",u,"request:",i),g})}ko(r,n,i,a,c,l){return this.Oo(r,n,i,a,c)}Lo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>r[c]=a),i&&i.headers.forEach((a,c)=>r[c]=a)}No(r,n){const i=cL[r];return`${this.Fo}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,r,n,i){const a=Km();return new Promise((c,l)=>{const u=new QS;u.setWithCredentials(!0),u.listenOnce(KS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vh.NO_ERROR:const g=u.getResponseJson();ge(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case Vh.TIMEOUT:ge(Ht,`RPC '${e}' ${a} timed out`),l(new Re(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const w=u.getStatus();if(ge(Ht,`RPC '${e}' ${a} failed with status:`,w,"response text:",u.getResponseText()),w>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const f=p==null?void 0:p.error;if(f&&f.status&&f.message){const v=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(E)>=0?E:ne.UNKNOWN}(f.status);l(new Re(v,f.message))}else l(new Re(ne.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Re(ne.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{ge(Ht,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);ge(Ht,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",h,n,15)})}qo(e,r,n){const i=Km(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=JS(),l=XS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,r,n),u.encodeInitMessageHeaders=!0;const g=a.join("");ge(Ht,`Creating RPC '${e}' stream ${i}: ${g}`,u);const w=c.createWebChannel(g,u);let p=!1,f=!1;const v=new hL({Eo:S=>{f?ge(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(ge(Ht,`Opening RPC '${e}' stream ${i} transport.`),w.open(),p=!0),ge(Ht,`RPC '${e}' stream ${i} sending:`,S),w.send(S))},Ao:()=>w.close()}),_=(S,E,R)=>{S.listen(E,k=>{try{R(k)}catch(q){setTimeout(()=>{throw q},0)}})};return _(w,Hu.EventType.OPEN,()=>{f||(ge(Ht,`RPC '${e}' stream ${i} transport opened.`),v.So())}),_(w,Hu.EventType.CLOSE,()=>{f||(f=!0,ge(Ht,`RPC '${e}' stream ${i} transport closed`),v.Do())}),_(w,Hu.EventType.ERROR,S=>{f||(f=!0,ga(Ht,`RPC '${e}' stream ${i} transport errored:`,S),v.Do(new Re(ne.UNAVAILABLE,"The operation could not be completed")))}),_(w,Hu.EventType.MESSAGE,S=>{var E;if(!f){const R=S.data[0];Ke(!!R);const k=R,q=(k==null?void 0:k.error)||((E=k[0])===null||E===void 0?void 0:E.error);if(q){ge(Ht,`RPC '${e}' stream ${i} received error:`,q);const F=q.status;let V=function(x){const N=vt[x];if(N!==void 0)return ST(N)}(F),C=q.message;V===void 0&&(V=ne.INTERNAL,C="Unknown error status: "+F+" with message "+q.message),f=!0,v.Do(new Re(V,C)),w.close()}else ge(Ht,`RPC '${e}' stream ${i} received:`,R),v.vo(R)}}),_(l,YS.STAT_EVENT,S=>{S.stat===Jp.PROXY?ge(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Jp.NOPROXY&&ge(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.bo()},0),v}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new wD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,r,n=1e3,i=1.5,a=6e4){this.li=e,this.timerId=r,this.Qo=n,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const r=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,r-n);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,r,n,i,a,c,l,u){this.li=e,this.Yo=n,this.Zo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new LT(e,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(oi(r.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(r)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Xo===r&&this.I_(n,i)},n=>{e(()=>{const i=new Re(ne.UNKNOWN,"Fetching auth token failed: "+n.message);return this.E_(i)})})}I_(e,r){const n=this.T_(this.Xo);this.stream=this.d_(e,r),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{n(()=>this.E_(i))}),this.stream.onMessage(i=>{n(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return r=>{this.li.enqueueAndForget(()=>this.Xo===e?r():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fL extends jT{constructor(e,r,n,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,c),this.serializer=a}d_(e,r){return this.connection.qo("Listen",e,r)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const r=ED(this.serializer,e),n=function(a){if(!("targetChange"in a))return qe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?In(c.readTime):qe.min()}(e);return this.listener.R_(r,n)}V_(e){const r={};r.database=ag(this.serializer),r.addTarget=function(a,c){let l;const u=c.target;if(l=rg(u)?{documents:ID(a,u)}:{query:RD(a,u).ct},l.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){l.resumeToken=RT(a,c.resumeToken);const h=ig(a,c.expectedCount);h!==null&&(l.expectedCount=h)}else if(c.snapshotVersion.compareTo(qe.min())>0){l.readTime=ud(a,c.snapshotVersion.toTimestamp());const h=ig(a,c.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const n=CD(this.serializer,e);n&&(r.labels=n),this.c_(r)}m_(e){const r={};r.database=ag(this.serializer),r.removeTarget=e,this.c_(r)}}class mL extends jT{constructor(e,r,n,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,r){return this.connection.qo("Write",e,r)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const r=TD(e.writeResults,e.commitTime),n=In(e.commitTime);return this.listener.y_(n,r)}w_(){const e={};e.database=ag(this.serializer),this.c_(e)}g_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>SD(this.serializer,n))};this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Re(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,r,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,sg(r,n),i,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ne.UNKNOWN,a.toString())})}ko(e,r,n,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.ko(e,sg(r,n),i,c,l,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ne.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class gL{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(r),this.C_=!1):ge("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{n.enqueueAndForget(async()=>{uo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Ne(u);h.k_.add(4),await zl(h),h.K_.set("Unknown"),h.k_.delete(4),await Fd(h)}(this))})}),this.K_=new gL(n,i)}}async function Fd(t){if(uo(t))for(const e of t.q_)await e(!0)}async function zl(t){for(const e of t.q_)await e(!1)}function FT(t,e){const r=Ne(t);r.B_.has(e.targetId)||(r.B_.set(e.targetId,e),wy(r)?vy(r):Na(r).s_()&&yy(r,e))}function gy(t,e){const r=Ne(t),n=Na(r);r.B_.delete(e),n.s_()&&MT(r,e),r.B_.size===0&&(n.s_()?n.a_():uo(r)&&r.K_.set("Unknown"))}function yy(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Na(t).V_(e)}function MT(t,e){t.U_.xe(e),Na(t).m_(e)}function vy(t){t.U_=new pD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Na(t).start(),t.K_.F_()}function wy(t){return uo(t)&&!Na(t).i_()&&t.B_.size>0}function uo(t){return Ne(t).k_.size===0}function VT(t){t.U_=void 0}async function vL(t){t.K_.set("Online")}async function wL(t){t.B_.forEach((e,r)=>{yy(t,e)})}async function _L(t,e){VT(t),wy(t)?(t.K_.O_(e),vy(t)):t.K_.set("Unknown")}async function PL(t,e,r){if(t.K_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(i,a){const c=a.cause;for(const l of a.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,c),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(n){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await cd(t,n)}else if(e instanceof Bh?t.U_.$e(e):e instanceof TT?t.U_.Je(e):t.U_.Ge(e),!r.isEqual(qe.min()))try{const n=await DT(t.localStore);r.compareTo(n)>=0&&await function(a,c){const l=a.U_.it(c);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const g=a.B_.get(h);g&&a.B_.set(h,g.withResumeToken(u.resumeToken,c))}}),l.targetMismatches.forEach((u,h)=>{const g=a.B_.get(u);if(!g)return;a.B_.set(u,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),MT(a,u);const w=new Yi(g.target,u,h,g.sequenceNumber);yy(a,w)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){ge("RemoteStore","Failed to raise snapshot:",n),await cd(t,n)}}async function cd(t,e,r){if(!qa(e))throw e;t.k_.add(1),await zl(t),t.K_.set("Offline"),r||(r=()=>DT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await r(),t.k_.delete(1),await Fd(t)})}function UT(t,e){return e().catch(r=>cd(t,r,e))}async function Md(t){const e=Ne(t),r=ss(e);let n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;EL(e);)try{const i=await sL(e.localStore,n);if(i===null){e.L_.length===0&&r.a_();break}n=i.batchId,SL(e,i)}catch(i){await cd(e,i)}$T(e)&&HT(e)}function EL(t){return uo(t)&&t.L_.length<10}function SL(t,e){t.L_.push(e);const r=ss(t);r.s_()&&r.f_&&r.g_(e.mutations)}function $T(t){return uo(t)&&!ss(t).i_()&&t.L_.length>0}function HT(t){ss(t).start()}async function TL(t){ss(t).w_()}async function IL(t){const e=ss(t);for(const r of t.L_)e.g_(r.mutations)}async function RL(t,e,r){const n=t.L_.shift(),i=cy.from(n,e,r);await UT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Md(t)}async function bL(t,e){e&&ss(t).f_&&await async function(n,i){if(function(c){return dD(c)&&c!==ne.ABORTED}(i.code)){const a=n.L_.shift();ss(n).__(),await UT(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Md(n)}}(t,e),$T(t)&&HT(t)}async function e1(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const n=uo(r);r.k_.add(3),await zl(r),n&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.k_.delete(3),await Fd(r)}async function CL(t,e){const r=Ne(t);e?(r.k_.delete(2),await Fd(r)):e||(r.k_.add(2),await zl(r),r.K_.set("Unknown"))}function Na(t){return t.W_||(t.W_=function(r,n,i){const a=Ne(r);return a.b_(),new fL(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:vL.bind(null,t),mo:wL.bind(null,t),po:_L.bind(null,t),R_:PL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),wy(t)?vy(t):t.K_.set("Unknown")):(await t.W_.stop(),VT(t))})),t.W_}function ss(t){return t.G_||(t.G_=function(r,n,i){const a=Ne(r);return a.b_(),new mL(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:TL.bind(null,t),po:bL.bind(null,t),p_:IL.bind(null,t),y_:RL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Md(t)):(await t.G_.stop(),t.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const c=Date.now()+n,l=new _y(e,r,c,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if(oi("AsyncQueue",`${e}: ${t}`),qa(t))return new Re(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=Bu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new pa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.z_=new ht(Ae.comparator)}track(e){const r=e.doc.key,n=this.z_.get(r);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(r,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(r):e.type===1&&n.type===2?this.z_=this.z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(r,e)}j_(){const e=[];return this.z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Pa{constructor(e,r,n,i,a,c,l,u,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const c=[];return r.forEach(l=>{c.push({type:0,doc:l})}),new Pa(e,r,pa.emptySet(r),c,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class xL{constructor(){this.queries=r1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,n){const i=Ne(r),a=i.queries;i.queries=r1(),a.forEach((c,l)=>{for(const u of l.J_)u.onError(n)})})(this,new Re(ne.ABORTED,"Firestore shutting down"))}}function r1(){return new oo(t=>cT(t),Od)}async function BT(t,e){const r=Ne(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Y_()&&e.Z_()&&(n=2):(a=new AL,n=e.Z_()?0:1);try{switch(n){case 0:a.H_=await r.onListen(i,!0);break;case 1:a.H_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(c){const l=Py(c,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.J_.push(e),e.ea(r.onlineState),a.H_&&e.ta(a.H_)&&Ey(r)}async function zT(t,e){const r=Ne(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?i=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function kL(t,e){const r=Ne(t);let n=!1;for(const i of e){const a=i.query,c=r.queries.get(a);if(c){for(const l of c.J_)l.ta(i)&&(n=!0);c.H_=i}}n&&Ey(r)}function OL(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const a of i.J_)a.onError(r);n.queries.delete(e)}function Ey(t){t.X_.forEach(e=>{e.next()})}var lg,n1;(n1=lg||(lg={})).na="default",n1.Cache="cache";class WT{constructor(e,r,n){this.query=e,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Pa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ia?this.oa(e)&&(this.ra.next(e),r=!0):this._a(e,this.onlineState)&&(this.aa(e),r=!0),this.sa=e,r}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),r=!0),r}_a(e,r){if(!e.fromCache||!this.Z_())return!0;const n=r!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class qL{constructor(e,r){this.query=e,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=hT(e),this.ma=new pa(this.Va)}get fa(){return this.da}ga(e,r){const n=r?r.pa:new t1,i=r?r.ma:this.ma;let a=r?r.mutatedKeys:this.mutatedKeys,c=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,w)=>{const p=i.get(g),f=qd(this.query,w)?w:null,v=!!p&&this.mutatedKeys.has(p.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;p&&f?p.data.isEqual(f.data)?v!==_&&(n.track({type:3,doc:f}),S=!0):this.ya(p,f)||(n.track({type:2,doc:f}),S=!0,(u&&this.Va(f,u)>0||h&&this.Va(f,h)<0)&&(l=!0)):!p&&f?(n.track({type:0,doc:f}),S=!0):p&&!f&&(n.track({type:1,doc:p}),S=!0,(u||h)&&(l=!0)),S&&(f?(c=c.add(f),a=_?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),a=a.delete(g.key),n.track({type:1,doc:g})}return{ma:c,pa:n,ss:l,mutatedKeys:a}}ya(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((g,w)=>function(f,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return _(f)-_(v)}(g.type,w.type)||this.Va(g.doc,w.doc)),this.wa(n),i=i!=null&&i;const l=r&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,h=u!==this.Aa;return this.Aa=u,c.length!==0||h?{snapshot:new Pa(this.query,e.ma,a,c,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new t1,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(r=>this.da=this.da.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const r=[];return e.forEach(n=>{this.Ra.has(n)||r.push(new QT(n))}),this.Ra.forEach(n=>{e.has(n)||r.push(new GT(n))}),r}va(e){this.da=e.ds,this.Ra=Me();const r=this.ga(e.documents);return this.applyChanges(r,!0)}Ca(){return Pa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class NL{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class DL{constructor(e){this.key=e,this.Fa=!1}}class LL{constructor(e,r,n,i,a,c){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new oo(l=>cT(l),Od),this.Oa=new Map,this.Na=new Set,this.La=new ht(Ae.comparator),this.Ba=new Map,this.ka=new fy,this.qa={},this.Qa=new Map,this.Ka=_a.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function jL(t,e,r=!0){const n=eI(t);let i;const a=n.xa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Ca()):i=await KT(n,e,r,!0),i}async function FL(t,e){const r=eI(t);await KT(r,e,!0,!1)}async function KT(t,e,r,n){const i=await oL(t.localStore,Tn(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await ML(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&r&&FT(t.remoteStore,i),l}async function ML(t,e,r,n,i){t.Ua=(w,p,f)=>async function(_,S,E,R){let k=S.view.ga(E);k.ss&&(k=await X_(_.localStore,S.query,!1).then(({documents:C})=>S.view.ga(C,k)));const q=R&&R.targetChanges.get(S.targetId),F=R&&R.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(k,_.isPrimaryClient,q,F);return s1(_,S.targetId,V.ba),V.snapshot}(t,w,p,f);const a=await X_(t.localStore,e,!0),c=new qL(e,a.ds),l=c.ga(a.documents),u=Bl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=c.applyChanges(l,t.isPrimaryClient,u);s1(t,r,h.ba);const g=new NL(e,r,c);return t.xa.set(e,g),t.Oa.has(r)?t.Oa.get(r).push(e):t.Oa.set(r,[e]),h.snapshot}async function VL(t,e,r){const n=Ne(t),i=n.xa.get(e),a=n.Oa.get(i.targetId);if(a.length>1)return n.Oa.set(i.targetId,a.filter(c=>!Od(c,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ug(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&gy(n.remoteStore,i.targetId),cg(n,i.targetId)}).catch(Oa)):(cg(n,i.targetId),await ug(n.localStore,i.targetId,!0))}async function UL(t,e){const r=Ne(t),n=r.xa.get(e),i=r.Oa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),gy(r.remoteStore,n.targetId))}async function $L(t,e,r){const n=KL(t);try{const i=await function(c,l){const u=Ne(c),h=It.now(),g=l.reduce((f,v)=>f.add(v.key),Me());let w,p;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let v=ai(),_=Me();return u.hs.getEntries(f,g).next(S=>{v=S,v.forEach((E,R)=>{R.isValidDocument()||(_=_.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,v)).next(S=>{w=S;const E=[];for(const R of l){const k=aD(R,w.get(R.key).overlayedDocument);k!=null&&E.push(new ao(R.key,k,nT(k.value.mapValue),ni.exists(!0)))}return u.mutationQueue.addMutationBatch(f,h,E,l)}).next(S=>{p=S;const E=S.applyToLocalDocumentSet(w,_);return u.documentOverlayCache.saveOverlays(f,S.batchId,E)})}).then(()=>({batchId:p.batchId,changes:fT(w)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(c,l,u){let h=c.qa[c.currentUser.toKey()];h||(h=new ht(Ue)),h=h.insert(l,u),c.qa[c.currentUser.toKey()]=h}(n,i.batchId,r),await Wl(n,i.changes),await Md(n.remoteStore)}catch(i){const a=Py(i,"Failed to persist write");r.reject(a)}}async function YT(t,e){const r=Ne(t);try{const n=await nL(r.localStore,e);e.targetChanges.forEach((i,a)=>{const c=r.Ba.get(a);c&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Fa=!0:i.modifiedDocuments.size>0?Ke(c.Fa):i.removedDocuments.size>0&&(Ke(c.Fa),c.Fa=!1))}),await Wl(r,n,e)}catch(n){await Oa(n)}}function i1(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.xa.forEach((a,c)=>{const l=c.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(c,l){const u=Ne(c);u.onlineState=l;let h=!1;u.queries.forEach((g,w)=>{for(const p of w.J_)p.ea(l)&&(h=!0)}),h&&Ey(u)}(n.eventManager,e),i.length&&n.Ma.R_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function HL(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ba.get(e),a=i&&i.key;if(a){let c=new ht(Ae.comparator);c=c.insert(a,zt.newNoDocument(a,qe.min()));const l=Me().add(a),u=new Ld(qe.min(),new Map,new ht(Ue),c,l);await YT(n,u),n.La=n.La.remove(a),n.Ba.delete(e),Sy(n)}else await ug(n.localStore,e,!1).then(()=>cg(n,e,r)).catch(Oa)}async function BL(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await rL(r.localStore,e);JT(r,n,null),XT(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Wl(r,i)}catch(i){await Oa(i)}}async function zL(t,e,r){const n=Ne(t);try{const i=await function(c,l){const u=Ne(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return u.mutationQueue.lookupMutationBatch(h,l).next(w=>(Ke(w!==null),g=w.keys(),u.mutationQueue.removeMutationBatch(h,w))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,g,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>u.localDocuments.getDocuments(h,g))})}(n.localStore,e);JT(n,e,r),XT(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Wl(n,i)}catch(i){await Oa(i)}}function XT(t,e){(t.Qa.get(e)||[]).forEach(r=>{r.resolve()}),t.Qa.delete(e)}function JT(t,e,r){const n=Ne(t);let i=n.qa[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function cg(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Oa.get(e))t.xa.delete(n),r&&t.Ma.Wa(n,r);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(n=>{t.ka.containsKey(n)||ZT(t,n)})}function ZT(t,e){t.Na.delete(e.path.canonicalString());const r=t.La.get(e);r!==null&&(gy(t.remoteStore,r),t.La=t.La.remove(e),t.Ba.delete(r),Sy(t))}function s1(t,e,r){for(const n of r)n instanceof GT?(t.ka.addReference(n.key,e),WL(t,n)):n instanceof QT?(ge("SyncEngine","Document no longer in limbo: "+n.key),t.ka.removeReference(n.key,e),t.ka.containsKey(n.key)||ZT(t,n.key)):Oe()}function WL(t,e){const r=e.key,n=r.path.canonicalString();t.La.get(r)||t.Na.has(n)||(ge("SyncEngine","New document in limbo: "+r),t.Na.add(n),Sy(t))}function Sy(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const r=new Ae(ot.fromString(e)),n=t.Ka.next();t.Ba.set(n,new DL(r)),t.La=t.La.insert(r,n),FT(t.remoteStore,new Yi(Tn(uy(r.path)),n,"TargetPurposeLimboResolution",Cd.oe))}}async function Wl(t,e,r){const n=Ne(t),i=[],a=[],c=[];n.xa.isEmpty()||(n.xa.forEach((l,u)=>{c.push(n.Ua(u,e,r).then(h=>{var g;if((h||r)&&n.isPrimaryClient){const w=h?!h.fromCache:(g=r==null?void 0:r.targetChanges.get(u.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(u.targetId,w?"current":"not-current")}if(h){i.push(h);const w=py.zi(u.targetId,h);a.push(w)}}))}),await Promise.all(c),n.Ma.R_(i),await async function(u,h){const g=Ne(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(h,p=>ee.forEach(p.Wi,f=>g.persistence.referenceDelegate.addReference(w,p.targetId,f)).next(()=>ee.forEach(p.Gi,f=>g.persistence.referenceDelegate.removeReference(w,p.targetId,f)))))}catch(w){if(!qa(w))throw w;ge("LocalStore","Failed to update sequence numbers: "+w)}for(const w of h){const p=w.targetId;if(!w.fromCache){const f=g.us.get(p),v=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(v);g.us=g.us.insert(p,_)}}}(n.localStore,a))}async function GL(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const n=await NT(r.localStore,e);r.currentUser=e,function(a,c){a.Qa.forEach(l=>{l.forEach(u=>{u.reject(new Re(ne.CANCELLED,c))})}),a.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Wl(r,n.Ts)}}function QL(t,e){const r=Ne(t),n=r.Ba.get(e);if(n&&n.Fa)return Me().add(n.key);{let i=Me();const a=r.Oa.get(e);if(!a)return i;for(const c of a){const l=r.xa.get(c);i=i.unionWith(l.view.fa)}return i}}function eI(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HL.bind(null,e),e.Ma.R_=kL.bind(null,e.eventManager),e.Ma.Wa=OL.bind(null,e.eventManager),e}function KL(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zL.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,r){return null}Ya(e,r){return null}Ha(e){return tL(this.persistence,new ZD,e.initialUser,this.serializer)}ja(e){return new qT(my.ei,this.serializer)}za(e){return new uL}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class YL extends hd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,r){Ke(this.persistence.referenceDelegate instanceof ld);const n=this.persistence.referenceDelegate.garbageCollector;return new FD(n,e.asyncQueue,r)}ja(e){const r=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new qT(n=>ld.ei(n,r),this.serializer)}}class hg{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>i1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=GL.bind(null,this.syncEngine),await CL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xL}()}createDatastore(e){const r=jd(e.databaseInfo.databaseId),n=function(a){return new dL(a)}(e.databaseInfo);return function(a,c,l,u){return new pL(a,c,l,u)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,c,l){return new yL(n,i,a,c,l)}(this.localStore,this.datastore,e.asyncQueue,r=>i1(this.syncEngine,r,0),function(){return Z_.p()?new Z_:new lL}())}createSyncEngine(e,r){return function(i,a,c,l,u,h,g){const w=new LL(i,a,c,l,u,h);return g&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ne(i);ge("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await zl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}hg.provider={build:()=>new hg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=eT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(n,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Py(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Xm(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await NT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function o1(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JL(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>e1(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>e1(e.remoteStore,i)),t._onlineComponents=e}async function JL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xm(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ga("Error using user provided cache. Falling back to memory cache: "+r),await Xm(t,new hd)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Xm(t,new YL(void 0));return t._offlineComponents}async function rI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await o1(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await o1(t,new hg))),t._onlineComponents}function ZL(t){return rI(t).then(e=>e.syncEngine)}async function nI(t){const e=await rI(t),r=e.eventManager;return r.onListen=jL.bind(null,e.syncEngine),r.onUnlisten=VL.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FL.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=UL.bind(null,e.syncEngine),r}function e4(t,e,r={}){const n=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,l,u,h){const g=new tI({next:p=>{g.eu(),c.enqueueAndForget(()=>zT(a,w));const f=p.docs.has(l);!f&&p.fromCache?h.reject(new Re(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&p.fromCache&&u&&u.source==="server"?h.reject(new Re(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),w=new WT(uy(l.path),g,{includeMetadataChanges:!0,ua:!0});return BT(a,w)}(await nI(t),t.asyncQueue,e,r,n)),n.promise}function t4(t,e,r={}){const n=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(a,c,l,u,h){const g=new tI({next:p=>{g.eu(),c.enqueueAndForget(()=>zT(a,w)),p.fromCache&&u.source==="server"?h.reject(new Re(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),w=new WT(l,g,{includeMetadataChanges:!0,ua:!0});return BT(a,w)}(await nI(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e,r){if(!r)throw new Re(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r4(t,e,r,n){if(e===!0&&n===!0)throw new Re(ne.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function u1(t){if(!Ae.isDocumentKey(t))throw new Re(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l1(t){if(Ae.isDocumentKey(t))throw new Re(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ty(t);throw new Re(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iI((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fN;switch(n.type){case"firstParty":return new yN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=a1.get(r);n&&(ge("ComponentProvider","Removing Datastore"),a1.delete(r),n.terminate())}(this),Promise.resolve()}}function n4(t,e,r,n={}){var i;const a=(t=Js(t,Vd))._getSettings(),c=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),n.mockUserToken){let l,u;if(typeof n.mockUserToken=="string")l=n.mockUserToken,u=Bt.MOCK_USER;else{l=lA(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(h)}t._authCredentials=new mN(new ZS(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ud(this.firestore,e,this._query)}}class Er{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class Zi extends Ud{constructor(e,r,n){super(e,r,uy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Ae(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function oI(t,e,...r){if(t=cr(t),sI("collection","path",e),t instanceof Vd){const n=ot.fromString(e,...r);return l1(n),new Zi(t,null,n)}{if(!(t instanceof Er||t instanceof Zi))throw new Re(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ot.fromString(e,...r));return l1(n),new Zi(t.firestore,null,n)}}function Iy(t,e,...r){if(t=cr(t),arguments.length===1&&(e=eT.newId()),sI("doc","path",e),t instanceof Vd){const n=ot.fromString(e,...r);return u1(n),new Er(t,null,new Ae(n))}{if(!(t instanceof Er||t instanceof Zi))throw new Re(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ot.fromString(e,...r));return u1(n),new Er(t.firestore,t instanceof Zi?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new LT(this,"async_queue_retry"),this.fu=()=>{const n=Ym();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const r=Ym();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const r=Ym();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!qa(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const r=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const i=function(c){let l=c.message||"";return c.stack&&(l=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),l}(n);throw oi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.Ru=!1,n))));return this.gu=r,r}enqueueAfterDelay(e,r,n){this.pu(),this.mu.indexOf(e)>-1&&(r=0);const i=_y.createAndSchedule(this,e,r,n,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const r of this.du)if(r.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.du)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const r=this.du.indexOf(e);this.du.splice(r,1)}}class $d extends Vd{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new h1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h1(e),this._firestoreClient=void 0,await e}}}function i4(t,e){const r=$g(),n="(default)",i=no(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=aA("firestore");a&&n4(i,...a)}return i}function Ry(t){if(t._terminated)throw new Re(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s4(t),t._firestoreClient}function s4(t){var e,r,n;const i=t._freezeSettings(),a=function(l,u,h,g){return new ON(l,u,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iI(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(Ft.fromBase64String(e))}catch(r){throw new Re(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ea(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^__.*__$/;class a4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,r,this.fieldTransforms):new Hl(e,this.data,r,this.fieldTransforms)}}function uI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class xy{constructor(e,r,n,i,a,c){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.xu({path:n,Nu:!1});return i.Lu(e),i}Bu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return dd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(uI(this.Mu)&&o4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class u4{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jd(e)}$u(e,r,n,i=!1){return new xy({Mu:e,methodName:r,Ku:n,path:jt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l4(t){const e=t._freezeSettings(),r=jd(t._databaseId);return new u4(t._databaseId,!!e.ignoreUndefinedProperties,r)}function c4(t,e,r,n,i,a={}){const c=t.$u(a.merge||a.mergeFields?2:0,e,r,i);dI("Data must be an object, but it was:",c,n);const l=cI(n,c);let u,h;if(a.merge)u=new Zr(c.fieldMask),h=c.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const p=h4(e,w,r);if(!c.contains(p))throw new Re(ne.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);f4(g,p)||g.push(p)}u=new Zr(g),h=c.fieldTransforms.filter(w=>u.covers(w.field))}else u=null,h=c.fieldTransforms;return new a4(new Dr(l),u,h)}function lI(t,e){if(hI(t=cr(t)))return dI("Unsupported field value:",e,t),cI(t,e);if(t instanceof aI)return function(n,i){if(!uI(i.Mu))throw i.qu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,i){const a=[];let c=0;for(const l of n){let u=lI(l,i.ku(c));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),c++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=cr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=It.fromDate(n);return{timestampValue:ud(i.serializer,a)}}if(n instanceof It){const a=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ud(i.serializer,a)}}if(n instanceof Cy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ea)return{bytesValue:RT(i.serializer,n._byteString)};if(n instanceof Er){const a=i.databaseId,c=n.firestore._databaseId;if(!c.isEqual(a))throw i.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ay)return function(c,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return ly(l.serializer,u)})}}}}}}(n,i);throw i.qu(`Unsupported field value: ${Ty(n)}`)}(t,e)}function cI(t,e){const r={};return tT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(t,(n,i)=>{const a=lI(i,e.Ou(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function hI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof Cy||t instanceof Ea||t instanceof Er||t instanceof aI||t instanceof Ay)}function dI(t,e,r){if(!hI(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ty(r);throw n==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+n)}}function h4(t,e,r){if((e=cr(e))instanceof by)return e._internalPath;if(typeof e=="string")return fI(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,r)}const d4=new RegExp("[~\\*/\\[\\]]");function fI(t,e,r){if(e.search(d4)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new by(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function dd(t,e,r,n,i){const a=n&&!n.isEmpty(),c=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||c)&&(u+=" (found",a&&(u+=` in field ${n}`),c&&(u+=` in document ${i}`),u+=")"),new Re(ne.INVALID_ARGUMENT,l+t+u)}function f4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class m4 extends mI{data(){return super.data()}}function pI(t,e){return typeof e=="string"?fI(t,e):e instanceof by?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g4{convertValue(e,r="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return so(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(c=>pt(c.doubleValue));return new Ay(a)}convertGeoPoint(e){return new Cy(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xd(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const r=rs(e);return new It(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ot.fromString(e);Ke(OT(n));const i=new al(n.get(1),n.get(3)),a=new Ae(n.popFirst(5));return i.isEqual(r)||oi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gI extends mI{constructor(e,r,n,i,a,c){super(e,r,n,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(pI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class zh extends gI{data(e={}){return super.data(e)}}class v4{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new zh(this._firestore,this._userDataWriter,n.key,n,new Wu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(l=>{const u=new zh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new zh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return l.type!==0&&(h=c.indexOf(l.doc.key),c=c.delete(l.doc.key)),l.type!==1&&(c=c.add(l.doc),g=c.indexOf(l.doc.key)),{type:w4(l.type),doc:u,oldIndex:h,newIndex:g}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function w4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){t=Js(t,Er);const e=Js(t.firestore,$d);return e4(Ry(e),t._key).then(r=>S4(e,t,r))}class yI extends g4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,r)}}function P4(t){t=Js(t,Ud);const e=Js(t.firestore,$d),r=Ry(e),n=new yI(e);return p4(t._query),t4(r,t._query).then(i=>new v4(e,n,t,i))}function vI(t,e,r){t=Js(t,Er);const n=Js(t.firestore,$d),i=y4(t.converter,e);return E4(n,[c4(l4(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ni.none())])}function E4(t,e){return function(n,i){const a=new ri;return n.asyncQueue.enqueueAndForget(async()=>$L(await ZL(n),i,a)),a.promise}(Ry(t),e)}function S4(t,e,r){const n=r.docs.get(e._key),i=new yI(t);return new gI(t,i,e._key,n,new Wu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ka=i})(Aa),bn(new en("firestore",(n,{instanceIdentifier:i,options:a})=>{const c=n.getProvider("app").getImmediate(),l=new $d(new pN(n.getProvider("auth-internal")),new wN(n.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(h.options.projectId,g)}(c,i),c);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Lr(C_,"4.7.5",e),Lr(C_,"4.7.5","esm2017")})();const T4={apiKey:"AIzaSyD4FjuFaCoJD3ogJJnLaFNxbIDnGsZ7fyY",authDomain:"mangaseeking-website.firebaseapp.com",projectId:"mangaseeking-website",storageBucket:"mangaseeking-website.firebasestorage.app",messagingSenderId:"205994896305",appId:"1:205994896305:web:878af188523172e011eb90",measurementId:"G-84ZJWC4FYZ"},I4=UE(T4);Xk(I4);const Zs=hN(),Hd=i4(),R4=({story:t,onClose:e})=>W.jsxs("div",{className:"story-detail-modal",children:[W.jsx("button",{className:"close-button",onClick:e,children:"X"}),W.jsx("h3",{children:t.story_name}),W.jsx("img",{src:t.image,alt:t.story_name}),W.jsx("p",{children:t.description}),W.jsxs("p",{children:[W.jsx("strong",{children:"Tc gi:"})," ",t.author||"Khng c"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Minh ha:"})," ",t.artist||"Khng c"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Th loi:"})," ",t.genres.join(", ")]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Tnh trng:"})," ",t.status]}),W.jsxs("p",{children:[W.jsx("strong",{children:"S tp:"})," ",t.chapters_count]}),W.jsxs("p",{children:[W.jsx("strong",{children:"URL:"}),W.jsx("a",{href:t.url,className:"url",target:"_blank",rel:"noopener noreferrer",children:t.url})]})]}),b4=()=>{const[t,e]=B.useState([]),[r,n]=B.useState(null);B.useEffect(()=>{(async()=>{const l=Zs.currentUser.uid;console.log("User ID:",l);const u=oI(Hd,"users",l,"followed_stories");try{const g=(await P4(u)).docs.map(w=>w.data());console.log("Followed Stories:",g),e(g)}catch(h){console.error("Error fetching followed stories:",h)}})()},[]);const i=c=>{n(c)},a=()=>{n(null)};return W.jsxs("div",{children:[W.jsx(Ca,{}),W.jsxs("div",{className:"DS-manga",children:[W.jsx("h2",{children:"Danh sach truyn tranh cua ti"}),W.jsx("div",{className:"story-grid",children:t.length>0?t.map(c=>W.jsxs("div",{className:"story-item",onClick:()=>i(c),children:[W.jsx("img",{src:c.image,alt:c.story_name}),W.jsx("h4",{children:c.story_name})]},c.story_name)):W.jsx("p",{children:"Cha theo di b truyn no."})})]}),r&&W.jsx(R4,{story:r,onClose:a})]})};function wI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=wI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function zs(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=wI(t))&&(n&&(n+=" "),n+=e);return n}function C4(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}C4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Gl=t=>typeof t=="number"&&!isNaN(t),eo=t=>typeof t=="string",ui=t=>typeof t=="function",A4=t=>eo(t)||Gl(t),dg=t=>eo(t)||ui(t)?t:null,x4=(t,e)=>t===!1||Gl(t)&&t>0?t:e,fg=t=>B.isValidElement(t)||eo(t)||ui(t)||Gl(t);function k4(t,e,r=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}function O4({enter:t,exit:e,appendPosition:r=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:c,preventExitTransition:l,done:u,nodeRef:h,isIn:g,playToast:w}){let p=r?`${t}--${c}`:t,f=r?`${e}--${c}`:e,v=B.useRef(0);return B.useLayoutEffect(()=>{let _=h.current,S=p.split(" "),E=R=>{R.target===h.current&&(w(),_.removeEventListener("animationend",E),_.removeEventListener("animationcancel",E),v.current===0&&R.type!=="animationcancel"&&_.classList.remove(...S))};_.classList.add(...S),_.addEventListener("animationend",E),_.addEventListener("animationcancel",E)},[]),B.useEffect(()=>{let _=h.current,S=()=>{_.removeEventListener("animationend",S),n?k4(_,u,i):u()};g||(l?S():(v.current=1,_.className+=` ${f}`,_.addEventListener("animationend",S)))},[g]),pe.createElement(pe.Fragment,null,a)}}function d1(t,e){return{content:_I(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function _I(t,e,r=!1){return B.isValidElement(t)&&!eo(t.type)?B.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):ui(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:r}):t}function q4({closeToast:t,theme:e,ariaLabel:r="close"}){return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":r},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function N4({delay:t,isRunning:e,closeToast:r,type:n="default",hide:i,className:a,controlledProgress:c,progress:l,rtl:u,isIn:h,theme:g}){let w=i||c&&l===0,p={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(p.transform=`scaleX(${l})`);let f=zs("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),v=ui(a)?a({rtl:u,type:n,defaultClassName:f}):zs(f,a),_={[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{h&&r()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${n}`}),pe.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:v,style:p,..._}))}var D4=1,PI=()=>`${D4++}`;function L4(t,e,r){let n=1,i=0,a=[],c=[],l=e,u=new Map,h=new Set,g=R=>(h.add(R),()=>h.delete(R)),w=()=>{c=Array.from(u.values()),h.forEach(R=>R())},p=({containerId:R,toastId:k,updateId:q})=>{let F=R?R!==t:t!==1,V=u.has(k)&&q==null;return F||V},f=(R,k)=>{u.forEach(q=>{var F;(k==null||k===q.props.toastId)&&((F=q.toggle)==null||F.call(q,R))})},v=R=>{var k,q;(q=(k=R.props)==null?void 0:k.onClose)==null||q.call(k,R.removalReason),R.isActive=!1},_=R=>{if(R==null)u.forEach(v);else{let k=u.get(R);k&&v(k)}w()},S=()=>{i-=a.length,a=[]},E=R=>{var k,q;let{toastId:F,updateId:V}=R.props,C=V==null;R.staleId&&u.delete(R.staleId),R.isActive=!0,u.set(F,R),w(),r(d1(R,C?"added":"updated")),C&&((q=(k=R.props).onOpen)==null||q.call(k))};return{id:t,props:l,observe:g,toggle:f,removeToast:_,toasts:u,clearQueue:S,buildToast:(R,k)=>{if(p(k))return;let{toastId:q,updateId:F,data:V,staleId:C,delay:b}=k,x=F==null;x&&i++;let N={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(k).filter(([M,D])=>D!=null)),toastId:q,updateId:F,data:V,isIn:!1,className:dg(k.className||l.toastClassName),progressClassName:dg(k.progressClassName||l.progressClassName),autoClose:k.isLoading?!1:x4(k.autoClose,l.autoClose),closeToast(M){u.get(q).removalReason=M,_(q)},deleteToast(){let M=u.get(q);if(M!=null){if(r(d1(M,"removed")),u.delete(q),i--,i<0&&(i=0),a.length>0){E(a.shift());return}w()}}};N.closeButton=l.closeButton,k.closeButton===!1||fg(k.closeButton)?N.closeButton=k.closeButton:k.closeButton===!0&&(N.closeButton=fg(l.closeButton)?l.closeButton:!0);let L={content:R,props:N,staleId:C};l.limit&&l.limit>0&&i>l.limit&&x?a.push(L):Gl(b)?setTimeout(()=>{E(L)},b):E(L)},setProps(R){l=R},setToggle:(R,k)=>{let q=u.get(R);q&&(q.toggle=k)},isToastActive:R=>{var k;return(k=u.get(R))==null?void 0:k.isActive},getSnapshot:()=>c}}var Jt=new Map,hl=[],mg=new Set,j4=t=>mg.forEach(e=>e(t)),EI=()=>Jt.size>0;function F4(){hl.forEach(t=>TI(t.content,t.options)),hl=[]}var M4=(t,{containerId:e})=>{var r;return(r=Jt.get(e||1))==null?void 0:r.toasts.get(t)};function SI(t,e){var r;if(e)return!!((r=Jt.get(e))!=null&&r.isToastActive(t));let n=!1;return Jt.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function V4(t){if(!EI()){hl=hl.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||A4(t))Jt.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Jt.get(t.containerId);e?e.removeToast(t.id):Jt.forEach(r=>{r.removeToast(t.id)})}}var U4=(t={})=>{Jt.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function TI(t,e){fg(t)&&(EI()||hl.push({content:t,options:e}),Jt.forEach(r=>{r.buildToast(t,e)}))}function $4(t){var e;(e=Jt.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function II(t,e){Jt.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function H4(t){let e=t.containerId||1;return{subscribe(r){let n=L4(e,t,j4);Jt.set(e,n);let i=n.observe(r);return F4(),()=>{i(),Jt.delete(e)}},setProps(r){var n;(n=Jt.get(e))==null||n.setProps(r)},getSnapshot(){var r;return(r=Jt.get(e))==null?void 0:r.getSnapshot()}}}function B4(t){return mg.add(t),()=>{mg.delete(t)}}function z4(t){return t&&(eo(t.toastId)||Gl(t.toastId))?t.toastId:PI()}function Ql(t,e){return TI(t,e),e.toastId}function Bd(t,e){return{...e,type:e&&e.type||t,toastId:z4(e)}}function zd(t){return(e,r)=>Ql(e,Bd(t,r))}function $e(t,e){return Ql(t,Bd("default",e))}$e.loading=(t,e)=>Ql(t,Bd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function W4(t,{pending:e,error:r,success:n},i){let a;e&&(a=eo(e)?$e.loading(e,i):$e.loading(e.render,{...i,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,g,w)=>{if(g==null){$e.dismiss(a);return}let p={type:h,...c,...i,data:w},f=eo(g)?{render:g}:g;return a?$e.update(a,{...p,...f}):$e(f.render,{...p,...f}),w},u=ui(t)?t():t;return u.then(h=>l("success",n,h)).catch(h=>l("error",r,h)),u}$e.promise=W4;$e.success=zd("success");$e.info=zd("info");$e.error=zd("error");$e.warning=zd("warning");$e.warn=$e.warning;$e.dark=(t,e)=>Ql(t,Bd("default",{theme:"dark",...e}));function G4(t){V4(t)}$e.dismiss=G4;$e.clearWaitingQueue=U4;$e.isActive=SI;$e.update=(t,e={})=>{let r=M4(t,e);if(r){let{props:n,content:i}=r,a={delay:100,...n,...e,toastId:e.toastId||t,updateId:PI()};a.toastId!==t&&(a.staleId=t);let c=a.render||i;delete a.render,Ql(c,a)}};$e.done=t=>{$e.update(t,{progress:1})};$e.onChange=B4;$e.play=t=>II(!0,t);$e.pause=t=>II(!1,t);function Q4(t){var e;let{subscribe:r,getSnapshot:n,setProps:i}=B.useRef(H4(t)).current;i(t);let a=(e=B.useSyncExternalStore(r,n,n))==null?void 0:e.slice();function c(l){if(!a)return[];let u=new Map;return t.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:g}=h.props;u.has(g)||u.set(g,[]),u.get(g).push(h)}),Array.from(u,h=>l(h[0],h[1]))}return{getToastToRender:c,isToastActive:SI,count:a==null?void 0:a.length}}function K4(t){let[e,r]=B.useState(!1),[n,i]=B.useState(!1),a=B.useRef(null),c=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:g,closeOnClick:w}=t;$4({id:t.toastId,containerId:t.containerId,fn:r}),B.useEffect(()=>{if(t.pauseOnFocusLoss)return p(),()=>{f()}},[t.pauseOnFocusLoss]);function p(){document.hasFocus()||E(),window.addEventListener("focus",S),window.addEventListener("blur",E)}function f(){window.removeEventListener("focus",S),window.removeEventListener("blur",E)}function v(C){if(t.draggable===!0||t.draggable===C.pointerType){R();let b=a.current;c.canCloseOnClick=!0,c.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(c.start=C.clientX,c.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(c.start=C.clientY,c.removalDistance=b.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(C){let{top:b,bottom:x,left:N,right:L}=a.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=N&&C.clientX<=L&&C.clientY>=b&&C.clientY<=x?E():S()}function S(){r(!0)}function E(){r(!1)}function R(){c.didMove=!1,document.addEventListener("pointermove",q),document.addEventListener("pointerup",F)}function k(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",F)}function q(C){let b=a.current;if(c.canDrag&&b){c.didMove=!0,e&&E(),t.draggableDirection==="x"?c.delta=C.clientX-c.start:c.delta=C.clientY-c.start,c.start!==C.clientX&&(c.canCloseOnClick=!1);let x=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;b.style.transform=`translate3d(${x},0)`,b.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function F(){k();let C=a.current;if(c.canDrag&&c.didMove&&C){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let V={onPointerDown:v,onPointerUp:_};return l&&u&&(V.onMouseEnter=E,t.stacked||(V.onMouseLeave=S)),w&&(V.onClick=C=>{g&&g(C),c.canCloseOnClick&&h(!0)}),{playToast:S,pauseToast:E,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:V}}var Y4=typeof window<"u"?B.useLayoutEffect:B.useEffect,Wd=({theme:t,type:e,isLoading:r,...n})=>pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function X4(t){return pe.createElement(Wd,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function J4(t){return pe.createElement(Wd,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Z4(t){return pe.createElement(Wd,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ej(t){return pe.createElement(Wd,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function tj(){return pe.createElement("div",{className:"Toastify__spinner"})}var pg={info:J4,warning:X4,success:Z4,error:ej,spinner:tj},rj=t=>t in pg;function nj({theme:t,type:e,isLoading:r,icon:n}){let i=null,a={theme:t,type:e};return n===!1||(ui(n)?i=n({...a,isLoading:r}):B.isValidElement(n)?i=B.cloneElement(n,a):r?i=pg.spinner():rj(e)&&(i=pg[e](a))),i}var ij=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:a}=K4(t),{closeButton:c,children:l,autoClose:u,onClick:h,type:g,hideProgressBar:w,closeToast:p,transition:f,position:v,className:_,style:S,progressClassName:E,updateId:R,role:k,progress:q,rtl:F,toastId:V,deleteToast:C,isIn:b,isLoading:x,closeOnClick:N,theme:L,ariaLabel:M}=t,D=zs("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":N}),de=ui(_)?_({rtl:F,position:v,type:g,defaultClassName:D}):zs(D,_),fe=nj(t),Te=!!q||!u,ce={closeToast:p,type:g,theme:L},X=null;return c===!1||(ui(c)?X=c(ce):B.isValidElement(c)?X=B.cloneElement(c,ce):X=q4(ce)),pe.createElement(f,{isIn:b,done:C,position:v,preventExitTransition:r,nodeRef:n,playToast:a},pe.createElement("div",{id:V,tabIndex:0,onClick:h,"data-in":b,className:de,...i,style:S,ref:n,...b&&{role:k,"aria-label":M}},fe!=null&&pe.createElement("div",{className:zs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},fe),_I(l,t,!e),X,!t.customProgressBar&&pe.createElement(N4,{...R&&!Te?{key:`p-${R}`}:{},rtl:F,theme:L,delay:u,isRunning:e,isIn:b,closeToast:p,hide:w,type:g,className:E,controlledProgress:Te,progress:q||0})))},sj=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),oj=O4(sj("bounce",!0)),aj={position:"top-right",transition:oj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function uj(t){let e={...aj,...t},r=t.stacked,[n,i]=B.useState(!0),a=B.useRef(null),{getToastToRender:c,isToastActive:l,count:u}=Q4(e),{className:h,style:g,rtl:w,containerId:p,hotKeys:f}=e;function v(S){let E=zs("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":w});return ui(h)?h({position:S,rtl:w,defaultClassName:E}):zs(E,dg(h))}function _(){r&&(i(!0),$e.play())}return Y4(()=>{var S;if(r){let E=a.current.querySelectorAll('[data-in="true"]'),R=12,k=(S=e.position)==null?void 0:S.includes("top"),q=0,F=0;Array.from(E).reverse().forEach((V,C)=>{let b=V;b.classList.add("Toastify__toast--stacked"),C>0&&(b.dataset.collapsed=`${n}`),b.dataset.pos||(b.dataset.pos=k?"top":"bot");let x=q*(n?.2:1)+(n?0:R*C);b.style.setProperty("--y",`${k?x:x*-1}px`),b.style.setProperty("--g",`${R}`),b.style.setProperty("--s",`${1-(n?F:0)}`),q+=b.offsetHeight,F+=.025})}},[n,u,r]),B.useEffect(()=>{function S(E){var R;let k=a.current;f(E)&&((R=k.querySelector('[tabIndex="0"]'))==null||R.focus(),i(!1),$e.pause()),E.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(i(!0),$e.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[f]),pe.createElement("section",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{r&&(i(!1),$e.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((S,E)=>{let R=E.length?{...g}:{...g,pointerEvents:"none"};return pe.createElement("div",{tabIndex:-1,className:v(S),"data-stacked":r,style:R,key:`c-${S}`},E.map(({content:k,props:q})=>pe.createElement(ij,{...q,stacked:r,collapseAll:_,isIn:l(q.toastId,q.containerId),key:`t-${q.key}`},k)))}))}function lj(){const[t,e]=B.useState({email:"",password:""}),r=i=>{const{name:a,value:c}=i.target;e({...t,[a]:c})},n=async i=>{i.preventDefault(),console.log("User Logged In:",t);try{await JO(Zs,t.email,t.password),console.log("User Logged In:",t),console.log("User Logged in Successfully!!"),window.location.href="/user",$e.success("User Logged in  Successfully!!",{position:"top-center"})}catch(a){console.log(a.message),$e.error(a.message,{position:"bottom-center"})}};return W.jsxs(W.Fragment,{children:[W.jsx(Ca,{}),W.jsx("div",{className:"signin-container",children:W.jsxs("div",{className:"signin-form",children:[W.jsx("h2",{children:"ng Nhp"}),W.jsxs("form",{onSubmit:n,children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"email",children:"Email"}),W.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Nhp email",value:t.email,onChange:r,required:!0})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"password",children:"Mt khu"}),W.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Nhp mt khu",value:t.password,onChange:r,required:!0})]}),W.jsxs("p",{children:["Cha co tai khoan?",W.jsx(_n,{to:"/signup",children:" Sign Up"})]}),W.jsx("button",{type:"submit",className:"signin-btn",children:"ng Nhp"})]})]})})]})}function cj(){const[t,e]=B.useState({username:"",email:"",password:""}),r=i=>{const{name:a,value:c}=i.target;e({...t,[a]:c})},n=async i=>{i.preventDefault(),console.log("User Registered:",t);try{await XO(Zs,t.email,t.password);const a=Zs.currentUser;console.log(a),a&&await vI(Iy(Hd,"users",a.uid),{username:t.username,email:t.email,password:t.password}),console.log("User Registered Successfully!!"),$e.success("User Registered Successfully!!",{position:"top-center"})}catch(a){console.log(a.message),$e.error(a.message,{position:"bottom-center"})}};return W.jsxs(W.Fragment,{children:[W.jsx(Ca,{}),W.jsx("div",{className:"signup-container",children:W.jsxs("div",{className:"signup-form",children:[W.jsx("h2",{children:"ng K"}),W.jsxs("form",{onSubmit:n,children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"username",children:"Tn ngi dng"}),W.jsx("input",{type:"text",id:"username",name:"username",placeholder:"Nhp tn ngi dng",value:t.username,onChange:r,required:!0})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"email",children:"Email"}),W.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Nhp email",value:t.email,onChange:r,required:!0})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"password",children:"Mt khu"}),W.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Nhp mt khu",value:t.password,onChange:r,required:!0})]}),W.jsxs("p",{children:["a co tai khoan?",W.jsx(_n,{to:"/signin",children:" Sign In"})]}),W.jsx("button",{type:"submit",className:"signup-btn",children:"ng K"})]})]})})]})}function hj(){async function t(){await Zs.signOut(),window.location.href="/home",$e.success("User signed out successfully",{position:"top-center"}),console.log("User signed out successfully")}const[e,r]=B.useState(null),[n,i]=B.useState(!1),a=()=>Zs.onAuthStateChanged(async l=>{if(!l)n||(console.log("No user is signed in!"),$e.error("No user is signed in!",{position:"top-center"}),i(!0));else{const u=Iy(Hd,"users",l.uid),h=await _4(u);h.exists()?(console.log("Document data:",h.data()),r(h.data())):console.log("No such document!")}});return B.useEffect(()=>{const c=a();return()=>c()},[n]),W.jsxs("div",{className:"User-page",children:[W.jsx(Ca,{}),W.jsx("div",{className:"User-container",children:e?W.jsxs(W.Fragment,{children:[W.jsxs("h3",{children:["Xin chao ",e.username]}),W.jsxs("div",{children:[W.jsxs("p",{children:["Email: ",e.email]}),W.jsxs("p",{children:["Password: ",e.password]})]}),W.jsx("button",{className:"User-btn",onClick:t,children:"ng xut"})]}):W.jsxs(W.Fragment,{children:[W.jsx("p",{children:"Loading user details..."}),W.jsxs("div",{className:"User-buttons",children:[W.jsx(_n,{to:"/signin",children:W.jsx("button",{className:"User-btn",children:"ng nhp"})}),W.jsx(_n,{to:"/signup",children:W.jsx("button",{className:"User-btn",children:"ng k"})})]})]})})]})}const gg="7.13.9";var Jm,f1;function ky(){if(f1)return Jm;f1=1;function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}Jm=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(a){if(!r(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},t.prototype.emit=function(a){var c,l,u,h,g,w;if(this._events||(this._events={}),a==="error"&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(c=arguments[1],c instanceof Error)throw c;var p=new Error('Uncaught, unspecified "error" event. ('+c+")");throw p.context=c,p}if(l=this._events[a],i(l))return!1;if(e(l))switch(arguments.length){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),l.apply(this,h)}else if(n(l))for(h=Array.prototype.slice.call(arguments,1),w=l.slice(),u=w.length,g=0;g<u;g++)w[g].apply(this,h);return!0},t.prototype.addListener=function(a,c){var l;if(!e(c))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(c.listener)?c.listener:c),this._events[a]?n(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c,n(this._events[a])&&!this._events[a].warned&&(i(this._maxListeners)?l=t.defaultMaxListeners:l=this._maxListeners,l&&l>0&&this._events[a].length>l&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace())),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(a,c){if(!e(c))throw TypeError("listener must be a function");var l=!1;function u(){this.removeListener(a,u),l||(l=!0,c.apply(this,arguments))}return u.listener=c,this.on(a,u),this},t.prototype.removeListener=function(a,c){var l,u,h,g;if(!e(c))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(l=this._events[a],h=l.length,u=-1,l===c||e(l.listener)&&l.listener===c)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,c);else if(n(l)){for(g=h;g-- >0;)if(l[g]===c||l[g].listener&&l[g].listener===c){u=g;break}if(u<0)return this;l.length===1?(l.length=0,delete this._events[a]):l.splice(u,1),this._events.removeListener&&this.emit("removeListener",a,c)}return this},t.prototype.removeAllListeners=function(a){var c,l;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(c in this._events)c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events={},this}if(l=this._events[a],e(l))this.removeListener(a,l);else if(l)for(;l.length;)this.removeListener(a,l[l.length-1]);return delete this._events[a],this},t.prototype.listeners=function(a){var c;return!this._events||!this._events[a]?c=[]:e(this._events[a])?c=[this._events[a]]:c=this._events[a].slice(),c},t.prototype.listenerCount=function(a){if(this._events){var c=this._events[a];if(e(c))return 1;if(c)return c.length}return 0},t.listenerCount=function(a,c){return a.listenerCount(c)};function e(a){return typeof a=="function"}function r(a){return typeof a=="number"}function n(a){return typeof a=="object"&&a!==null}function i(a){return a===void 0}return Jm}var Zm,m1;function RI(){if(m1)return Zm;m1=1;function t(e,r){e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}return Zm=t,Zm}var ep,p1;function dj(){if(p1)return ep;p1=1;var t=ky(),e=RI();function r(n,i,a){this.main=n,this.fn=i,this.recommendFn=a,this.lastResults=null,this.lastRecommendResults=null}return e(r,t),r.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},r.prototype.getModifiedState=function(n){return this.fn(n)},r.prototype.getModifiedRecommendState=function(n){return this.recommendFn(n)},ep=r,ep}var tp,g1;function Oy(){if(g1)return tp;g1=1;function t(r){return typeof r!="string"?r:String(r).replace(/^-/,"\\-")}function e(r){return typeof r!="string"?r:r.replace(/^\\-/,"-")}return tp={escapeFacetValue:t,unescapeFacetValue:e},tp}var rp,y1;function qy(){if(y1)return rp;y1=1;function t(i){return typeof i=="object"&&i!==null?r(Array.isArray(i)?[]:{},i):i}function e(i){return typeof i=="function"||Array.isArray(i)||Object.prototype.toString.call(i)==="[object Object]"}function r(i,a){if(i===a)return i;for(var c in a)if(!(!Object.prototype.hasOwnProperty.call(a,c)||c==="__proto__"||c==="constructor")){var l=a[c],u=i[c];typeof u<"u"&&typeof l>"u"||(e(u)&&e(l)?i[c]=r(u,l):i[c]=t(l))}return i}function n(i){e(i)||(i={});for(var a=1,c=arguments.length;a<c;a++){var l=arguments[a];e(l)&&r(i,l)}return i}return rp=n,rp}var np,v1;function Ny(){if(v1)return np;v1=1;function t(e){return e&&Object.keys(e).length>0}return np=t,np}var ip,w1;function Dy(){if(w1)return ip;w1=1;function t(e,r){if(e===null)return{};var n={},i=Object.keys(e),a,c;for(c=0;c<i.length;c++)a=i[c],!(r.indexOf(a)>=0)&&(n[a]=e[a]);return n}return ip=t,ip}var sp,_1;function bI(){if(_1)return sp;_1=1;function t(e){e=e||{},this.params=e.params||[]}return t.prototype={constructor:t,addParams:function(e){var r=this.params.slice();return r.push(e),new t({params:r})},removeParams:function(e){return new t({params:this.params.filter(function(r){return r.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,r){return this.params.filter(function(n){return r[n.$$id]===void 0}).map(function(n){var i=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete i.$$id,i})}},sp=t,sp}var op,P1;function CI(){if(P1)return op;P1=1;function t(e,r){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(i){var a=i.$$id;n[a]=r[a],n._rawResults[a]=r[a]})}return t.prototype={constructor:t},op=t,op}var ap,E1;function fj(){if(E1)return ap;E1=1;var t=qy();function e(n){return Object.keys(n).sort().reduce(function(i,a){return i[a]=n[a],i},{})}var r={_getQueries:function(i,a){var c=[];return c.push({indexName:i,params:r._getHitsSearchParams(a)}),a.getRefinedDisjunctiveFacets().forEach(function(l){c.push({indexName:i,params:r._getDisjunctiveFacetSearchParams(a,l)})}),a.getRefinedHierarchicalFacets().forEach(function(l){var u=a.getHierarchicalFacetByName(l),h=a.getHierarchicalRefinement(l),g=a._getHierarchicalFacetSeparator(u);if(h.length>0&&h[0].split(g).length>1){var w=h[0].split(g).slice(0,-1).reduce(function(f,v,_){return f.concat({attribute:u.attributes[_],value:_===0?v:[f[f.length-1].value,v].join(g)})},[]);w.forEach(function(p,f){var v=r._getDisjunctiveFacetSearchParams(a,p.attribute,f===0);function _(R){return u.attributes.some(function(k){return k===R.split(":")[0]})}var S=(v.facetFilters||[]).reduce(function(R,k){if(Array.isArray(k)){var q=k.filter(function(F){return!_(F)});q.length>0&&R.push(q)}return typeof k=="string"&&!_(k)&&R.push(k),R},[]),E=w[f-1];f>0?v.facetFilters=S.concat(E.attribute+":"+E.value):S.length>0?v.facetFilters=S:delete v.facetFilters,c.push({indexName:i,params:v})})}}),c},_getHitsSearchParams:function(n){var i=n.facets.concat(n.disjunctiveFacets).concat(r._getHitsHierarchicalFacetsAttributes(n)).sort(),a=r._getFacetFilters(n),c=r._getNumericFilters(n),l=r._getTagFilters(n),u={};return i.length>0&&(u.facets=i.indexOf("*")>-1?["*"]:i),l.length>0&&(u.tagFilters=l),a.length>0&&(u.facetFilters=a),c.length>0&&(u.numericFilters=c),e(t({},n.getQueryParams(),u))},_getDisjunctiveFacetSearchParams:function(n,i,a){var c=r._getFacetFilters(n,i,a),l=r._getNumericFilters(n,i),u=r._getTagFilters(n),h={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};u.length>0&&(h.tagFilters=u);var g=n.getHierarchicalFacetByName(i);return g?h.facets=r._getDisjunctiveHierarchicalFacetAttribute(n,g,a):h.facets=i,l.length>0&&(h.numericFilters=l),c.length>0&&(h.facetFilters=c),e(t({},n.getQueryParams(),h))},_getNumericFilters:function(n,i){if(n.numericFilters)return n.numericFilters;var a=[];return Object.keys(n.numericRefinements).forEach(function(c){var l=n.numericRefinements[c]||{};Object.keys(l).forEach(function(u){var h=l[u]||[];i!==c&&h.forEach(function(g){if(Array.isArray(g)){var w=g.map(function(p){return c+u+p});a.push(w)}else a.push(c+u+g)})})}),a},_getTagFilters:function(n){return n.tagFilters?n.tagFilters:n.tagRefinements.join(",")},_getFacetFilters:function(n,i,a){var c=[],l=n.facetsRefinements||{};Object.keys(l).sort().forEach(function(w){var p=l[w]||[];p.slice().sort().forEach(function(f){c.push(w+":"+f)})});var u=n.facetsExcludes||{};Object.keys(u).sort().forEach(function(w){var p=u[w]||[];p.sort().forEach(function(f){c.push(w+":-"+f)})});var h=n.disjunctiveFacetsRefinements||{};Object.keys(h).sort().forEach(function(w){var p=h[w]||[];if(!(w===i||!p||p.length===0)){var f=[];p.slice().sort().forEach(function(v){f.push(w+":"+v)}),c.push(f)}});var g=n.hierarchicalFacetsRefinements||{};return Object.keys(g).sort().forEach(function(w){var p=g[w]||[],f=p[0];if(f!==void 0){var v=n.getHierarchicalFacetByName(w),_=n._getHierarchicalFacetSeparator(v),S=n._getHierarchicalRootPath(v),E,R;if(i===w){if(f.indexOf(_)===-1||!S&&a===!0||S&&S.split(_).length===f.split(_).length)return;S?(R=S.split(_).length-1,f=S):(R=f.split(_).length-2,f=f.slice(0,f.lastIndexOf(_))),E=v.attributes[R]}else R=f.split(_).length-1,E=v.attributes[R];E&&c.push([E+":"+f])}}),c},_getHitsHierarchicalFacetsAttributes:function(n){var i=[];return n.hierarchicalFacets.reduce(function(c,l){var u=n.getHierarchicalRefinement(l.name)[0];if(!u)return c.push(l.attributes[0]),c;var h=n._getHierarchicalFacetSeparator(l),g=u.split(h).length,w=l.attributes.slice(0,g+1);return c.concat(w)},i)},_getDisjunctiveHierarchicalFacetAttribute:function(n,i,a){var c=n._getHierarchicalFacetSeparator(i);if(a===!0){var l=n._getHierarchicalRootPath(i),u=0;return l&&(u=l.split(c).length),[i.attributes[u]]}var h=n.getHierarchicalRefinement(i.name)[0]||"",g=h.split(c).length-1;return i.attributes.slice(0,g+1)},getSearchForFacetQuery:function(n,i,a,c){var l=c.isDisjunctiveFacet(n)?c.clearRefinements(n):c,u={facetQuery:i,facetName:n};return typeof a=="number"&&(u.maxFacetHits=a),e(t({},r._getHitsSearchParams(l),u))}};return ap=r,ap}var up,S1;function Ly(){return S1||(S1=1,up=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}),up}var lp,T1;function Kl(){return T1||(T1=1,lp=function(e,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r(e[n]))return e[n]}}),lp}var cp,I1;function mj(){if(I1)return cp;I1=1;function t(e,r){return e.filter(function(n,i){return r.indexOf(n)>-1&&e.indexOf(n)===i})}return cp=t,cp}var hp,R1;function pj(){if(R1)return hp;R1=1;function t(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(t);throw new Error("The value should be a number, a parsable string or an array of those.")}return hp=t,hp}var dp,b1;function gj(){return b1||(b1=1,dp=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)}),dp}var fp,C1;function yj(){if(C1)return fp;C1=1;var t=Ly(),e=Ny(),r=Dy(),n={addRefinement:function(a,c,l){if(n.isRefined(a,c,l))return a;var u=""+l,h=a[c]?a[c].concat(u):[u],g={};return g[c]=h,t(g,a)},removeRefinement:function(a,c,l){if(l===void 0)return n.clearRefinement(a,function(h,g){return c===g});var u=""+l;return n.clearRefinement(a,function(h,g){return c===g&&u===h})},toggleRefinement:function(a,c,l){if(l===void 0)throw new Error("toggleRefinement should be used with a value");return n.isRefined(a,c,l)?n.removeRefinement(a,c,l):n.addRefinement(a,c,l)},clearRefinement:function(a,c,l){if(c===void 0)return e(a)?{}:a;if(typeof c=="string")return r(a,[c]);if(typeof c=="function"){var u=!1,h=Object.keys(a).reduce(function(g,w){var p=a[w]||[],f=p.filter(function(v){return!c(v,w,l)});return f.length!==p.length&&(u=!0),g[w]=f,g},{});return u?h:a}},isRefined:function(a,c,l){var u=!!a[c]&&a[c].length>0;if(l===void 0||!u)return u;var h=""+l;return a[c].indexOf(h)!==-1}};return fp=n,fp}var mp,A1;function AI(){if(A1)return mp;A1=1;var t=Ly(),e=Kl(),r=mj(),n=qy(),i=Ny(),a=Dy(),c=pj(),l=gj(),u=yj();function h(p,f){return Array.isArray(p)&&Array.isArray(f)?p.length===f.length&&p.every(function(v,_){return h(f[_],v)}):p===f}function g(p,f){return e(p,function(v){return h(v,f)})}function w(p){var f=p?w._parseNumbers(p):{};f.userToken!==void 0&&!l(f.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=f.facets||[],this.disjunctiveFacets=f.disjunctiveFacets||[],this.hierarchicalFacets=f.hierarchicalFacets||[],this.facetsRefinements=f.facetsRefinements||{},this.facetsExcludes=f.facetsExcludes||{},this.disjunctiveFacetsRefinements=f.disjunctiveFacetsRefinements||{},this.numericRefinements=f.numericRefinements||{},this.tagRefinements=f.tagRefinements||[],this.hierarchicalFacetsRefinements=f.hierarchicalFacetsRefinements||{};var v=this;Object.keys(f).forEach(function(_){var S=w.PARAMETERS.indexOf(_)!==-1,E=f[_]!==void 0;!S&&E&&(v[_]=f[_])})}return w.PARAMETERS=Object.keys(new w),w._parseNumbers=function(p){if(p instanceof w)return p;var f={},v=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(v.forEach(function(S){var E=p[S];if(typeof E=="string"){var R=parseFloat(E);f[S]=isNaN(R)?E:R}}),Array.isArray(p.insideBoundingBox)&&(f.insideBoundingBox=p.insideBoundingBox.map(function(S){return Array.isArray(S)?S.map(function(E){return parseFloat(E)}):S})),p.numericRefinements){var _={};Object.keys(p.numericRefinements).forEach(function(S){var E=p.numericRefinements[S]||{};_[S]={},Object.keys(E).forEach(function(R){var k=E[R],q=k.map(function(F){return Array.isArray(F)?F.map(function(V){return typeof V=="string"?parseFloat(V):V}):typeof F=="string"?parseFloat(F):F});_[S][R]=q})}),f.numericRefinements=_}return n(p,f)},w.make=function(f){var v=new w(f),_=f.hierarchicalFacets||[];return _.forEach(function(S){if(S.rootPath){var E=v.getHierarchicalRefinement(S.name);E.length>0&&E[0].indexOf(S.rootPath)!==0&&(v=v.clearRefinements(S.name)),E=v.getHierarchicalRefinement(S.name),E.length===0&&(v=v.toggleHierarchicalFacetRefinement(S.name,S.rootPath))}}),v},w.validate=function(p,f){var v=f||{};return p.tagFilters&&v.tagRefinements&&v.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):p.tagRefinements.length>0&&v.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):p.numericFilters&&v.numericRefinements&&i(v.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):i(p.numericRefinements)&&v.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},w.prototype={constructor:w,clearRefinements:function(f){var v={numericRefinements:this._clearNumericRefinements(f),facetsRefinements:u.clearRefinement(this.facetsRefinements,f,"conjunctiveFacet"),facetsExcludes:u.clearRefinement(this.facetsExcludes,f,"exclude"),disjunctiveFacetsRefinements:u.clearRefinement(this.disjunctiveFacetsRefinements,f,"disjunctiveFacet"),hierarchicalFacetsRefinements:u.clearRefinement(this.hierarchicalFacetsRefinements,f,"hierarchicalFacet")};return v.numericRefinements===this.numericRefinements&&v.facetsRefinements===this.facetsRefinements&&v.facetsExcludes===this.facetsExcludes&&v.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&v.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(v)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(f){return f===this.index?this:this.setQueryParameters({index:f})},setQuery:function(f){return f===this.query?this:this.setQueryParameters({query:f})},setPage:function(f){return f===this.page?this:this.setQueryParameters({page:f})},setFacets:function(f){return this.setQueryParameters({facets:f})},setDisjunctiveFacets:function(f){return this.setQueryParameters({disjunctiveFacets:f})},setHitsPerPage:function(f){return this.hitsPerPage===f?this:this.setQueryParameters({hitsPerPage:f})},setTypoTolerance:function(f){return this.typoTolerance===f?this:this.setQueryParameters({typoTolerance:f})},addNumericRefinement:function(p,f,v){var _=c(v);if(this.isNumericRefined(p,f,_))return this;var S=n({},this.numericRefinements);return S[p]=n({},S[p]),S[p][f]?(S[p][f]=S[p][f].slice(),S[p][f].push(_)):S[p][f]=[_],this.setQueryParameters({numericRefinements:S})},getConjunctiveRefinements:function(p){return this.isConjunctiveFacet(p)?this.facetsRefinements[p]||[]:[]},getDisjunctiveRefinements:function(p){return this.isDisjunctiveFacet(p)?this.disjunctiveFacetsRefinements[p]||[]:[]},getHierarchicalRefinement:function(p){return this.hierarchicalFacetsRefinements[p]||[]},getExcludeRefinements:function(p){return this.isConjunctiveFacet(p)?this.facetsExcludes[p]||[]:[]},removeNumericRefinement:function(p,f,v){var _=v;return _!==void 0?this.isNumericRefined(p,f,_)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(S,E){return E===p&&S.op===f&&h(S.val,c(_))})}):this:f!==void 0?this.isNumericRefined(p,f)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(S,E){return E===p&&S.op===f})}):this:this.isNumericRefined(p)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(S,E){return E===p})}):this},getNumericRefinements:function(p){return this.numericRefinements[p]||{}},getNumericRefinement:function(p,f){return this.numericRefinements[p]&&this.numericRefinements[p][f]},_clearNumericRefinements:function(f){if(f===void 0)return i(this.numericRefinements)?{}:this.numericRefinements;if(typeof f=="string")return a(this.numericRefinements,[f]);if(typeof f=="function"){var v=!1,_=this.numericRefinements,S=Object.keys(_).reduce(function(E,R){var k=_[R],q={};return k=k||{},Object.keys(k).forEach(function(F){var V=k[F]||[],C=[];V.forEach(function(b){var x=f({val:b,op:F},R,"numeric");x||C.push(b)}),C.length!==V.length&&(v=!0),q[F]=C}),E[R]=q,E},{});return v?S:this.numericRefinements}},addFacet:function(f){return this.isConjunctiveFacet(f)?this:this.setQueryParameters({facets:this.facets.concat([f])})},addDisjunctiveFacet:function(f){return this.isDisjunctiveFacet(f)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([f])})},addHierarchicalFacet:function(f){if(this.isHierarchicalFacet(f.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+f.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([f])})},addFacetRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,f,v)?this:this.setQueryParameters({facetsRefinements:u.addRefinement(this.facetsRefinements,f,v)})},addExcludeRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,f,v)?this:this.setQueryParameters({facetsExcludes:u.addRefinement(this.facetsExcludes,f,v)})},addDisjunctiveFacetRefinement:function(f,v){if(!this.isDisjunctiveFacet(f))throw new Error(f+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,f,v)?this:this.setQueryParameters({disjunctiveFacetsRefinements:u.addRefinement(this.disjunctiveFacetsRefinements,f,v)})},addTagRefinement:function(f){if(this.isTagRefined(f))return this;var v={tagRefinements:this.tagRefinements.concat(f)};return this.setQueryParameters(v)},removeFacet:function(f){return this.isConjunctiveFacet(f)?this.clearRefinements(f).setQueryParameters({facets:this.facets.filter(function(v){return v!==f})}):this},removeDisjunctiveFacet:function(f){return this.isDisjunctiveFacet(f)?this.clearRefinements(f).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(v){return v!==f})}):this},removeHierarchicalFacet:function(f){return this.isHierarchicalFacet(f)?this.clearRefinements(f).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(v){return v.name!==f})}):this},removeFacetRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsRefinements,f,v)?this.setQueryParameters({facetsRefinements:u.removeRefinement(this.facetsRefinements,f,v)}):this},removeExcludeRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return u.isRefined(this.facetsExcludes,f,v)?this.setQueryParameters({facetsExcludes:u.removeRefinement(this.facetsExcludes,f,v)}):this},removeDisjunctiveFacetRefinement:function(f,v){if(!this.isDisjunctiveFacet(f))throw new Error(f+" is not defined in the disjunctiveFacets attribute of the helper configuration");return u.isRefined(this.disjunctiveFacetsRefinements,f,v)?this.setQueryParameters({disjunctiveFacetsRefinements:u.removeRefinement(this.disjunctiveFacetsRefinements,f,v)}):this},removeTagRefinement:function(f){if(!this.isTagRefined(f))return this;var v={tagRefinements:this.tagRefinements.filter(function(_){return _!==f})};return this.setQueryParameters(v)},toggleRefinement:function(f,v){return this.toggleFacetRefinement(f,v)},toggleFacetRefinement:function(f,v){if(this.isHierarchicalFacet(f))return this.toggleHierarchicalFacetRefinement(f,v);if(this.isConjunctiveFacet(f))return this.toggleConjunctiveFacetRefinement(f,v);if(this.isDisjunctiveFacet(f))return this.toggleDisjunctiveFacetRefinement(f,v);throw new Error("Cannot refine the undeclared facet "+f+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:u.toggleRefinement(this.facetsRefinements,f,v)})},toggleExcludeFacetRefinement:function(f,v){if(!this.isConjunctiveFacet(f))throw new Error(f+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:u.toggleRefinement(this.facetsExcludes,f,v)})},toggleDisjunctiveFacetRefinement:function(f,v){if(!this.isDisjunctiveFacet(f))throw new Error(f+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:u.toggleRefinement(this.disjunctiveFacetsRefinements,f,v)})},toggleHierarchicalFacetRefinement:function(f,v){if(!this.isHierarchicalFacet(f))throw new Error(f+" is not defined in the hierarchicalFacets attribute of the helper configuration");var _=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(f)),S={},E=this.hierarchicalFacetsRefinements[f]!==void 0&&this.hierarchicalFacetsRefinements[f].length>0&&(this.hierarchicalFacetsRefinements[f][0]===v||this.hierarchicalFacetsRefinements[f][0].indexOf(v+_)===0);return E?v.indexOf(_)===-1?S[f]=[]:S[f]=[v.slice(0,v.lastIndexOf(_))]:S[f]=[v],this.setQueryParameters({hierarchicalFacetsRefinements:t(S,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(p,f){if(this.isHierarchicalFacetRefined(p))throw new Error(p+" is already refined.");if(!this.isHierarchicalFacet(p))throw new Error(p+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var v={};return v[p]=[f],this.setQueryParameters({hierarchicalFacetsRefinements:t(v,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(p){if(!this.isHierarchicalFacetRefined(p))return this;var f={};return f[p]=[],this.setQueryParameters({hierarchicalFacetsRefinements:t(f,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(f){return this.isTagRefined(f)?this.removeTagRefinement(f):this.addTagRefinement(f)},isDisjunctiveFacet:function(p){return this.disjunctiveFacets.indexOf(p)>-1},isHierarchicalFacet:function(p){return this.getHierarchicalFacetByName(p)!==void 0},isConjunctiveFacet:function(p){return this.facets.indexOf(p)>-1},isFacetRefined:function(f,v){return this.isConjunctiveFacet(f)?u.isRefined(this.facetsRefinements,f,v):!1},isExcludeRefined:function(f,v){return this.isConjunctiveFacet(f)?u.isRefined(this.facetsExcludes,f,v):!1},isDisjunctiveFacetRefined:function(f,v){return this.isDisjunctiveFacet(f)?u.isRefined(this.disjunctiveFacetsRefinements,f,v):!1},isHierarchicalFacetRefined:function(f,v){if(!this.isHierarchicalFacet(f))return!1;var _=this.getHierarchicalRefinement(f);return v?_.indexOf(v)!==-1:_.length>0},isNumericRefined:function(f,v,_){if(_===void 0&&v===void 0)return!!this.numericRefinements[f];var S=this.numericRefinements[f]&&this.numericRefinements[f][v]!==void 0;if(_===void 0||!S)return S;var E=c(_),R=g(this.numericRefinements[f][v],E)!==void 0;return S&&R},isTagRefined:function(f){return this.tagRefinements.indexOf(f)!==-1},getRefinedDisjunctiveFacets:function(){var f=this,v=r(Object.keys(this.numericRefinements).filter(function(_){return Object.keys(f.numericRefinements[_]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(_){return f.disjunctiveFacetsRefinements[_].length>0}).concat(v).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var f=this;return r(this.hierarchicalFacets.map(function(v){return v.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(v){return f.hierarchicalFacetsRefinements[v].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var p=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(f){return p.indexOf(f)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var f=this.managedParameters,v={},_=this;return Object.keys(this).forEach(function(S){var E=_[S];f.indexOf(S)===-1&&E!==void 0&&(v[S]=E)}),v},setQueryParameter:function(f,v){if(this[f]===v)return this;var _={};return _[f]=v,this.setQueryParameters(_)},setQueryParameters:function(f){if(!f)return this;var v=w.validate(this,f);if(v)throw v;var _=this,S=w._parseNumbers(f),E=Object.keys(this).reduce(function(k,q){return k[q]=_[q],k},{}),R=Object.keys(S).reduce(function(k,q){var F=k[q]!==void 0,V=S[q]!==void 0;return F&&!V?a(k,[q]):(V&&(k[q]=S[q]),k)},E);return new this.constructor(R)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(p){return p.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(p){return p.separator||" > "},_getHierarchicalRootPath:function(p){return p.rootPath||null},_getHierarchicalShowParentLevel:function(p){return typeof p.showParentLevel=="boolean"?p.showParentLevel:!0},getHierarchicalFacetByName:function(p){return e(this.hierarchicalFacets,function(f){return f.name===p})},getHierarchicalFacetBreadcrumb:function(p){if(!this.isHierarchicalFacet(p))return[];var f=this.getHierarchicalRefinement(p)[0];if(!f)return[];var v=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(p)),_=f.split(v);return _.map(function(S){return S.trim()})},toString:function(){return JSON.stringify(this,null,2)}},mp=w,mp}var pp,x1;function vj(){return x1||(x1=1,pp=function(e){return Array.isArray(e)?e.filter(Boolean):[]}),pp}var gp,k1;function wj(){return k1||(k1=1,gp=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1}),gp}var yp,O1;function xI(){if(O1)return yp;O1=1;var t=Kl();return yp=function(r,n){var i=(n||[]).map(function(a){return a.split(":")});return r.reduce(function(c,l){var u=l.split(":"),h=t(i,function(g){return g[0]===u[0]});return u.length>1||!h?(c[0].push(u[0]),c[1].push(u[1]),c):(c[0].push(h[0]),c[1].push(h[1]),c)},[[],[]])},yp}var vp,q1;function kI(){if(q1)return vp;q1=1;function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,c=n!==void 0,l=n===null;if(!l&&r>n||a&&c||!i)return 1;if(!a&&r<n||l&&i||!c)return-1}return 0}function e(r,n,i){if(!Array.isArray(r))return[];Array.isArray(i)||(i=[]);var a=r.map(function(c,l){return{criteria:n.map(function(u){return c[u]}),index:l,value:c}});return a.sort(function(l,u){for(var h=-1;++h<l.criteria.length;){var g=t(l.criteria[h],u.criteria[h]);if(g)return h>=i.length?g:i[h]==="desc"?-g:g}return l.index-u.index}),a.map(function(c){return c.value})}return vp=e,vp}var wp,N1;function _j(){if(N1)return wp;N1=1,wp=c;var t=Oy(),e=Kl(),r=xI(),n=kI(),i=t.escapeFacetValue,a=t.unescapeFacetValue;function c(g){return function(p,f){var v=g.hierarchicalFacets[f],_=g.hierarchicalFacetsRefinements[v.name]&&g.hierarchicalFacetsRefinements[v.name][0]||"",S=g._getHierarchicalFacetSeparator(v),E=g._getHierarchicalRootPath(v),R=g._getHierarchicalShowParentLevel(v),k=r(g._getHierarchicalFacetSortBy(v)),q=p.every(function(C){return C.exhaustive}),F=l(k,S,E,R,_),V=p;return E&&(V=p.slice(E.split(S).length)),V.reduce(F,{name:g.hierarchicalFacets[f].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:q,data:null})}}function l(g,w,p,f,v){return function(S,E,R){var k=S;if(R>0){var q=0;for(k=S;q<R;){var F=k&&Array.isArray(k.data)?k.data:[];k=e(F,function(C){return C.isRefined}),q++}}if(k){var V=Object.keys(E.data).map(function(C){return[C,E.data[C]]}).filter(function(C){var b=C[0];return u(b,k.path||p,v,w,p,f)});k.data=n(V.map(function(C){var b=C[0],x=C[1];return h(x,b,w,a(v),E.exhaustive)}),g[0],g[1])}return S}}function u(g,w,p,f,v,_){return v&&(g.indexOf(v)!==0||v===g)?!1:!v&&g.indexOf(f)===-1||v&&g.split(f).length-v.split(f).length===1||g.indexOf(f)===-1&&p.indexOf(f)===-1||p.indexOf(g)===0||g.indexOf(w+f)===0&&(_||g.indexOf(p)===0)}function h(g,w,p,f,v){var _=w.split(p);return{name:_[_.length-1].trim(),path:w,escapedValue:i(w),count:g,isRefined:f===w||f.indexOf(w+p)===0,exhaustive:v,data:null}}return wp}var _p,D1;function OI(){if(D1)return _p;D1=1;var t=vj(),e=Ly(),r=Oy(),n=Kl(),i=wj(),a=xI(),c=kI(),l=r.escapeFacetValue,u=r.unescapeFacetValue,h=_j();function g(C){var b={};return C.forEach(function(x,N){b[x]=N}),b}function w(C,b,x){b&&b[x]&&(C.stats=b[x])}function p(C,b){return n(C,function(N){var L=N.attributes||[];return L.indexOf(b)>-1})}function f(C,b,x){var N=b[0]||{};this._rawResults=b;var L=this;Object.keys(N).forEach(function(X){L[X]=N[X]});var M=e(x,{persistHierarchicalRootCount:!1});Object.keys(M).forEach(function(X){L[X]=M[X]}),this.processingTimeMS=b.reduce(function(X,oe){return oe.processingTimeMS===void 0?X:X+oe.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=C.hierarchicalFacets.map(function(){return[]}),this.facets=[];var D=C.getRefinedDisjunctiveFacets(),de=g(C.facets),fe=g(C.disjunctiveFacets),Te=1,ce=N.facets||{};Object.keys(ce).forEach(function(X){var oe=ce[X],ie=p(C.hierarchicalFacets,X);if(ie){var H=ie.attributes.indexOf(X),J=i(C.hierarchicalFacets,function(Ee){return Ee.name===ie.name});L.hierarchicalFacets[J][H]={attribute:X,data:oe,exhaustive:N.exhaustiveFacetsCount}}else{var he=C.disjunctiveFacets.indexOf(X)!==-1,_e=C.facets.indexOf(X)!==-1,le;he&&(le=fe[X],L.disjunctiveFacets[le]={name:X,data:oe,exhaustive:N.exhaustiveFacetsCount},w(L.disjunctiveFacets[le],N.facets_stats,X)),_e&&(le=de[X],L.facets[le]={name:X,data:oe,exhaustive:N.exhaustiveFacetsCount},w(L.facets[le],N.facets_stats,X))}}),this.hierarchicalFacets=t(this.hierarchicalFacets),D.forEach(function(X){var oe=b[Te],ie=oe&&oe.facets?oe.facets:{},H=C.getHierarchicalFacetByName(X);Object.keys(ie).forEach(function(J){var he=ie[J],_e;if(H){_e=i(C.hierarchicalFacets,function(Ie){return Ie.name===H.name});var le=i(L.hierarchicalFacets[_e],function(Ie){return Ie.attribute===J});if(le===-1)return;L.hierarchicalFacets[_e][le].data=L.persistHierarchicalRootCount?e(L.hierarchicalFacets[_e][le].data,he):e(he,L.hierarchicalFacets[_e][le].data)}else{_e=fe[J];var Ee=N.facets&&N.facets[J]||{};L.disjunctiveFacets[_e]={name:J,data:e(Ee,he),exhaustive:oe.exhaustiveFacetsCount},w(L.disjunctiveFacets[_e],oe.facets_stats,J),C.disjunctiveFacetsRefinements[J]&&C.disjunctiveFacetsRefinements[J].forEach(function(Ie){!L.disjunctiveFacets[_e].data[Ie]&&C.disjunctiveFacetsRefinements[J].indexOf(u(Ie))>-1&&(L.disjunctiveFacets[_e].data[Ie]=0)})}}),Te++}),C.getRefinedHierarchicalFacets().forEach(function(X){var oe=C.getHierarchicalFacetByName(X),ie=C._getHierarchicalFacetSeparator(oe),H=C.getHierarchicalRefinement(X);H.length===0||H[0].split(ie).length<2||b.slice(Te).forEach(function(J){var he=J&&J.facets?J.facets:{};Object.keys(he).forEach(function(_e){var le=he[_e],Ee=i(C.hierarchicalFacets,function(ze){return ze.name===oe.name}),Ie=i(L.hierarchicalFacets[Ee],function(ze){return ze.attribute===_e});if(Ie!==-1){var ve={};if(H.length>0&&!L.persistHierarchicalRootCount){var De=H[0].split(ie)[0];ve[De]=L.hierarchicalFacets[Ee][Ie].data[De]}L.hierarchicalFacets[Ee][Ie].data=e(ve,le,L.hierarchicalFacets[Ee][Ie].data)}}),Te++})}),Object.keys(C.facetsExcludes).forEach(function(X){var oe=C.facetsExcludes[X],ie=de[X];L.facets[ie]={name:X,data:ce[X],exhaustive:N.exhaustiveFacetsCount},oe.forEach(function(H){L.facets[ie]=L.facets[ie]||{name:X},L.facets[ie].data=L.facets[ie].data||{},L.facets[ie].data[H]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(h(C)),this.facets=t(this.facets),this.disjunctiveFacets=t(this.disjunctiveFacets),this._state=C}f.prototype.getFacetByName=function(C){function b(x){return x.name===C}return n(this.facets,b)||n(this.disjunctiveFacets,b)||n(this.hierarchicalFacets,b)};function v(C,b){function x(ce){return ce.name===b}if(C._state.isConjunctiveFacet(b)){var N=n(C.facets,x);return N?Object.keys(N.data).map(function(ce){var X=l(ce);return{name:ce,escapedValue:X,count:N.data[ce],isRefined:C._state.isFacetRefined(b,X),isExcluded:C._state.isExcludeRefined(b,ce)}}):[]}else if(C._state.isDisjunctiveFacet(b)){var L=n(C.disjunctiveFacets,x);return L?Object.keys(L.data).map(function(ce){var X=l(ce);return{name:ce,escapedValue:X,count:L.data[ce],isRefined:C._state.isDisjunctiveFacetRefined(b,X)}}):[]}else if(C._state.isHierarchicalFacet(b)){var M=n(C.hierarchicalFacets,x);if(!M)return M;var D=C._state.getHierarchicalFacetByName(b),de=C._state._getHierarchicalFacetSeparator(D),fe=u(C._state.getHierarchicalRefinement(b)[0]||"");fe.indexOf(D.rootPath)===0&&(fe=fe.replace(D.rootPath+de,""));var Te=fe.split(de);return Te.unshift(b),_(M,Te,0),M}}function _(C,b,x){C.isRefined=C.name===(b[x]&&b[x].trim()),C.data&&C.data.forEach(function(N){_(N,b,x+1)})}function S(C,b,x,N){if(N=N||0,Array.isArray(b))return C(b,x[N]);if(!b.data||b.data.length===0)return b;var L=b.data.map(function(de){return S(C,de,x,N+1)}),M=C(L,x[N]),D=e({data:M},b);return D}f.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function E(C,b){return b.sort(C)}function R(C,b){var x=[],N=[],L=b.hide||[],M=b.order||[],D=M.reduce(function(Te,ce,X){return Te[ce]=X,Te},{});C.forEach(function(Te){var ce=Te.path||Te.name,X=L.indexOf(ce)>-1;!X&&D[ce]!==void 0?x[D[ce]]=Te:X||N.push(Te)}),x=x.filter(function(Te){return Te});var de=b.sortRemainingBy,fe;return de==="hidden"?x:(de==="alpha"?fe=[["path","name"],["asc","asc"]]:fe=[["count"],["desc"]],x.concat(c(N,fe[0],fe[1])))}function k(C,b){return C.renderingContent&&C.renderingContent.facetOrdering&&C.renderingContent.facetOrdering.values&&C.renderingContent.facetOrdering.values[b]}f.prototype.getFacetValues=function(C,b){var x=v(this,C);if(x){var N=e(b,{sortBy:f.DEFAULT_SORT,facetOrdering:!(b&&b.sortBy)}),L=this,M;if(Array.isArray(x))M=[C];else{var D=L._state.getHierarchicalFacetByName(x.name);M=D.attributes}return S(function(de,fe){if(N.facetOrdering){var Te=k(L,fe);if(Te)return R(de,Te)}if(Array.isArray(N.sortBy)){var ce=a(N.sortBy,f.DEFAULT_SORT);return c(de,ce[0],ce[1])}else if(typeof N.sortBy=="function")return E(N.sortBy,de);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},x,M)}},f.prototype.getFacetStats=function(C){if(this._state.isConjunctiveFacet(C))return q(this.facets,C);if(this._state.isDisjunctiveFacet(C))return q(this.disjunctiveFacets,C)};function q(C,b){var x=n(C,function(N){return N.name===b});return x&&x.stats}f.prototype.getRefinements=function(){var C=this._state,b=this,x=[];return Object.keys(C.facetsRefinements).forEach(function(N){C.facetsRefinements[N].forEach(function(L){x.push(F(C,"facet",N,L,b.facets))})}),Object.keys(C.facetsExcludes).forEach(function(N){C.facetsExcludes[N].forEach(function(L){x.push(F(C,"exclude",N,L,b.facets))})}),Object.keys(C.disjunctiveFacetsRefinements).forEach(function(N){C.disjunctiveFacetsRefinements[N].forEach(function(L){x.push(F(C,"disjunctive",N,L,b.disjunctiveFacets))})}),Object.keys(C.hierarchicalFacetsRefinements).forEach(function(N){C.hierarchicalFacetsRefinements[N].forEach(function(L){x.push(V(C,N,L,b.hierarchicalFacets))})}),Object.keys(C.numericRefinements).forEach(function(N){var L=C.numericRefinements[N];Object.keys(L).forEach(function(M){L[M].forEach(function(D){x.push({type:"numeric",attributeName:N,name:D,numericValue:D,operator:M})})})}),C.tagRefinements.forEach(function(N){x.push({type:"tag",attributeName:"_tags",name:N})}),x};function F(C,b,x,N,L){var M=n(L,function(fe){return fe.name===x}),D=M&&M.data&&M.data[N]?M.data[N]:0,de=M&&M.exhaustive||!1;return{type:b,attributeName:x,name:N,count:D,exhaustive:de}}function V(C,b,x,N){var L=C.getHierarchicalFacetByName(b),M=C._getHierarchicalFacetSeparator(L),D=x.split(M),de=n(N,function(oe){return oe.name===b}),fe=D.reduce(function(oe,ie){var H=oe&&n(oe.data,function(J){return J.name===ie});return H!==void 0?H:oe},de),Te=fe&&fe.count||0,ce=fe&&fe.exhaustive||!1,X=fe&&fe.path||"";return{type:"hierarchical",attributeName:b,name:X,count:Te,exhaustive:ce}}return _p=f,_p}var Pp,L1;function Pj(){return L1||(L1=1,Pp=function(e){return e.reduce(function(r,n){return r.concat(n)},[])}),Pp}var Ep,j1;function Ej(){if(j1)return Ep;j1=1;var t=Kl(),e=Pj();function r(i,a){var c=[];return Object.keys(i).forEach(function(l){i[l].count<2&&(i[l].indexSum+=100),c.push({objectID:l,avgOfIndices:i[l].indexSum/a})}),c.sort(function(l,u){return l.avgOfIndices>u.avgOfIndices?1:-1})}function n(i){var a={};i.forEach(function(u){u.forEach(function(h,g){a[h.objectID]?a[h.objectID]={indexSum:a[h.objectID].indexSum+g,count:a[h.objectID].count+1}:a[h.objectID]={indexSum:g,count:1}})});var c=r(a,i.length),l=c.reduce(function(u,h){var g=t(e(i),function(w){return w.objectID===h.objectID});return g?u.concat(g):u},[]);return l}return Ep=n,Ep}var Sp,F1;function qI(){return F1||(F1=1,Sp="3.22.6"),Sp}var Tp,M1;function Sj(){if(M1)return Tp;M1=1;var t=ky(),e=dj(),r=Oy().escapeFacetValue,n=RI(),i=qy(),a=Ny(),c=Dy(),l=bI(),u=CI(),h=fj(),g=AI(),w=OI(),p=Ej(),f=qI();function v(E,R,k,q){typeof E.addAlgoliaAgent=="function"&&E.addAlgoliaAgent("JS Helper ("+f+")"),this.setClient(E);var F=k||{};F.index=R,this.state=g.make(F),this.recommendState=new l({params:F.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=q,this._recommendCache={}}n(v,t),v.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},v.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},v.prototype.recommend=function(){return this._recommend(),this},v.prototype.getQuery=function(){var E=this.state;return h._getHitsSearchParams(E)},v.prototype.searchOnce=function(E,R){var k=E?this.state.setQueryParameters(E):this.state,q=h._getQueries(k.index,k),F=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:k}),R){this.client.search(q).then(function(V){F._currentNbQueries--,F._currentNbQueries===0&&F.emit("searchQueueEmpty"),R(null,new w(k,V.results),k)}).catch(function(V){F._currentNbQueries--,F._currentNbQueries===0&&F.emit("searchQueueEmpty"),R(V,null,k)});return}return this.client.search(q).then(function(V){return F._currentNbQueries--,F._currentNbQueries===0&&F.emit("searchQueueEmpty"),{content:new w(k,V.results),state:k,_originalResponse:V}},function(V){throw F._currentNbQueries--,F._currentNbQueries===0&&F.emit("searchQueueEmpty"),V})},v.prototype.findAnswers=function(E){console.warn("[algoliasearch-helper] answers is no longer supported");var R=this.state,k=this.derivedHelpers[0];if(!k)return Promise.resolve([]);var q=k.getModifiedState(R),F=i({attributesForPrediction:E.attributesForPrediction,nbHits:E.nbHits},{params:c(h._getHitsSearchParams(q),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),V="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(V);var C=this.client.initIndex(q.index);if(typeof C.findAnswers!="function")throw new Error(V);return C.findAnswers(q.query,E.queryLanguages,F)},v.prototype.searchForFacetValues=function(E,R,k,q){var F=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",V=typeof this.client.initIndex=="function";if(!F&&!V&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var C=this.state.setQueryParameters(q||{}),b=C.isDisjunctiveFacet(E),x=h.getSearchForFacetQuery(E,R,k,C);this._currentNbQueries++;var N=this,L;return F?L=this.client.searchForFacetValues([{indexName:C.index,params:x}]):V?L=this.client.initIndex(C.index).searchForFacetValues(x):(delete x.facetName,L=this.client.search([{type:"facet",facet:E,indexName:C.index,params:x}]).then(function(D){return D.results[0]})),this.emit("searchForFacetValues",{state:C,facet:E,query:R}),L.then(function(D){return N._currentNbQueries--,N._currentNbQueries===0&&N.emit("searchQueueEmpty"),D=Array.isArray(D)?D[0]:D,D.facetHits.forEach(function(de){de.escapedValue=r(de.value),de.isRefined=b?C.isDisjunctiveFacetRefined(E,de.escapedValue):C.isFacetRefined(E,de.escapedValue)}),D},function(M){throw N._currentNbQueries--,N._currentNbQueries===0&&N.emit("searchQueueEmpty"),M})},v.prototype.setQuery=function(E){return this._change({state:this.state.resetPage().setQuery(E),isPageReset:!0}),this},v.prototype.clearRefinements=function(E){return this._change({state:this.state.resetPage().clearRefinements(E),isPageReset:!0}),this},v.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},v.prototype.addDisjunctiveFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},v.prototype.addHierarchicalFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.addNumericRefinement=function(E,R,k){return this._change({state:this.state.resetPage().addNumericRefinement(E,R,k),isPageReset:!0}),this},v.prototype.addFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().addFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},v.prototype.addFacetExclusion=function(E,R){return this._change({state:this.state.resetPage().addExcludeRefinement(E,R),isPageReset:!0}),this},v.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},v.prototype.addTag=function(E){return this._change({state:this.state.resetPage().addTagRefinement(E),isPageReset:!0}),this},v.prototype.addFrequentlyBoughtTogether=function(E){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(E)}),this},v.prototype.addRelatedProducts=function(E){return this._recommendChange({state:this.recommendState.addRelatedProducts(E)}),this},v.prototype.addTrendingItems=function(E){return this._recommendChange({state:this.recommendState.addTrendingItems(E)}),this},v.prototype.addTrendingFacets=function(E){return this._recommendChange({state:this.recommendState.addTrendingFacets(E)}),this},v.prototype.addLookingSimilar=function(E){return this._recommendChange({state:this.recommendState.addLookingSimilar(E)}),this},v.prototype.removeNumericRefinement=function(E,R,k){return this._change({state:this.state.resetPage().removeNumericRefinement(E,R,k),isPageReset:!0}),this},v.prototype.removeDisjunctiveFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},v.prototype.removeHierarchicalFacetRefinement=function(E){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(E),isPageReset:!0}),this},v.prototype.removeFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().removeFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},v.prototype.removeFacetExclusion=function(E,R){return this._change({state:this.state.resetPage().removeExcludeRefinement(E,R),isPageReset:!0}),this},v.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},v.prototype.removeTag=function(E){return this._change({state:this.state.resetPage().removeTagRefinement(E),isPageReset:!0}),this},v.prototype.removeFrequentlyBoughtTogether=function(E){return this._recommendChange({state:this.recommendState.removeParams(E)}),this},v.prototype.removeRelatedProducts=function(E){return this._recommendChange({state:this.recommendState.removeParams(E)}),this},v.prototype.removeTrendingItems=function(E){return this._recommendChange({state:this.recommendState.removeParams(E)}),this},v.prototype.removeTrendingFacets=function(E){return this._recommendChange({state:this.recommendState.removeParams(E)}),this},v.prototype.removeLookingSimilar=function(E){return this._recommendChange({state:this.recommendState.removeParams(E)}),this},v.prototype.toggleFacetExclusion=function(E,R){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},v.prototype.toggleRefinement=function(E,R){return this.toggleFacetRefinement(E,R)},v.prototype.toggleFacetRefinement=function(E,R){return this._change({state:this.state.resetPage().toggleFacetRefinement(E,R),isPageReset:!0}),this},v.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},v.prototype.toggleTag=function(E){return this._change({state:this.state.resetPage().toggleTagRefinement(E),isPageReset:!0}),this},v.prototype.nextPage=function(){var E=this.state.page||0;return this.setPage(E+1)},v.prototype.previousPage=function(){var E=this.state.page||0;return this.setPage(E-1)};function _(E){if(E<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(E),isPageReset:!1}),this}v.prototype.setCurrentPage=_,v.prototype.setPage=_,v.prototype.setIndex=function(E){return this._change({state:this.state.resetPage().setIndex(E),isPageReset:!0}),this},v.prototype.setQueryParameter=function(E,R){return this._change({state:this.state.resetPage().setQueryParameter(E,R),isPageReset:!0}),this},v.prototype.setState=function(E){return this._change({state:g.make(E),isPageReset:!1}),this},v.prototype.overrideStateWithoutTriggeringChangeEvent=function(E){return this.state=new g(E),this},v.prototype.hasRefinements=function(E){return a(this.state.getNumericRefinements(E))?!0:this.state.isConjunctiveFacet(E)?this.state.isFacetRefined(E):this.state.isDisjunctiveFacet(E)?this.state.isDisjunctiveFacetRefined(E):this.state.isHierarchicalFacet(E)?this.state.isHierarchicalFacetRefined(E):!1},v.prototype.isExcluded=function(E,R){return this.state.isExcludeRefined(E,R)},v.prototype.isDisjunctiveRefined=function(E,R){return this.state.isDisjunctiveFacetRefined(E,R)},v.prototype.hasTag=function(E){return this.state.isTagRefined(E)},v.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},v.prototype.getIndex=function(){return this.state.index};function S(){return this.state.page}return v.prototype.getCurrentPage=S,v.prototype.getPage=S,v.prototype.getTags=function(){return this.state.tagRefinements},v.prototype.getRefinements=function(E){var R=[];if(this.state.isConjunctiveFacet(E)){var k=this.state.getConjunctiveRefinements(E);k.forEach(function(C){R.push({value:C,type:"conjunctive"})});var q=this.state.getExcludeRefinements(E);q.forEach(function(C){R.push({value:C,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(E)){var F=this.state.getDisjunctiveRefinements(E);F.forEach(function(C){R.push({value:C,type:"disjunctive"})})}var V=this.state.getNumericRefinements(E);return Object.keys(V).forEach(function(C){var b=V[C];R.push({value:b,operator:C,type:"numeric"})}),R},v.prototype.getNumericRefinement=function(E,R){return this.state.getNumericRefinement(E,R)},v.prototype.getHierarchicalFacetBreadcrumb=function(E){return this.state.getHierarchicalFacetBreadcrumb(E)},v.prototype._search=function(E){var R=this.state,k=[],q=[];E.onlyWithDerivedHelpers||(q=h._getQueries(R.index,R),k.push({state:R,queriesCount:q.length,helper:this}),this.emit("search",{state:R,results:this.lastResults}));var F=this.derivedHelpers.map(function(b){var x=b.getModifiedState(R),N=x.index?h._getQueries(x.index,x):[];return k.push({state:x,queriesCount:N.length,helper:b}),b.emit("search",{state:x,results:b.lastResults}),N}),V=Array.prototype.concat.apply(q,F),C=this._queryId++;if(this._currentNbQueries++,!V.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,k,C));try{this.client.search(V).then(this._dispatchAlgoliaResponse.bind(this,k,C)).catch(this._dispatchAlgoliaError.bind(this,C))}catch(b){this.emit("error",{error:b})}},v.prototype._recommend=function(){var E=this.state,R=this.recommendState,k=this.getIndex(),q=[{state:R,index:k,helper:this}],F=R.params.map(function(N){return N.$$id});this.emit("fetch",{recommend:{state:R,results:this.lastRecommendResults}});var V=this._recommendCache,C=this.derivedHelpers.map(function(N){var L=N.getModifiedState(E).index;if(!L)return[];var M=N.getModifiedRecommendState(new l);return q.push({state:M,index:L,helper:N}),F=Array.prototype.concat.apply(F,M.params.map(function(D){return D.$$id})),N.emit("fetch",{recommend:{state:M,results:N.lastRecommendResults}}),M._buildQueries(L,V)}),b=Array.prototype.concat.apply(this.recommendState._buildQueries(k,V),C);if(b.length!==0){if(b.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var x=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(b).then(this._dispatchRecommendResponse.bind(this,x,q,F)).catch(this._dispatchRecommendError.bind(this,x))}catch(N){this.emit("error",{error:N})}}},v.prototype._dispatchAlgoliaResponse=function(E,R,k){var q=this;if(!(R<this._lastQueryIdReceived)){this._currentNbQueries-=R-this._lastQueryIdReceived,this._lastQueryIdReceived=R,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var F=k.results.slice();E.forEach(function(V){var C=V.state,b=V.queriesCount,x=V.helper,N=F.splice(0,b);if(!C.index){x.emit("result",{results:null,state:C});return}x.lastResults=new w(C,N,q._searchResultsOptions),x.emit("result",{results:x.lastResults,state:C})})}},v.prototype._dispatchRecommendResponse=function(E,R,k,q){if(!(E<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=E-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=E,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var F=this._recommendCache,V={};k.filter(function(b){return F[b]===void 0}).forEach(function(b,x){V[b]||(V[b]=[]),V[b].push(x)}),Object.keys(V).forEach(function(b){var x=V[b],N=q.results[x[0]];if(x.length===1){F[b]=N;return}F[b]=Object.assign({},N,{hits:p(x.map(function(L){return q.results[L].hits}))})});var C={};k.forEach(function(b){C[b]=F[b]}),R.forEach(function(b){var x=b.state,N=b.helper;if(!b.index){N.emit("recommend:result",{results:null,state:x});return}N.lastRecommendResults=new u(x,C),N.emit("recommend:result",{recommend:{results:N.lastRecommendResults,state:x}})})}},v.prototype._dispatchAlgoliaError=function(E,R){E<this._lastQueryIdReceived||(this._currentNbQueries-=E-this._lastQueryIdReceived,this._lastQueryIdReceived=E,this.emit("error",{error:R}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))},v.prototype._dispatchRecommendError=function(E,R){E<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=E-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=E,this.emit("error",{error:R}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))},v.prototype.containsRefinement=function(E,R,k,q){return E||R.length!==0||k.length!==0||q.length!==0},v.prototype._hasDisjunctiveRefinements=function(E){return this.state.disjunctiveRefinements[E]&&this.state.disjunctiveRefinements[E].length>0},v.prototype._change=function(E){var R=E.state,k=E.isPageReset;R!==this.state&&(this.state=R,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:k}))},v.prototype._recommendChange=function(E){var R=E.state;R!==this.recommendState&&(this.recommendState=R,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},v.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},v.prototype.setClient=function(E){return this.client===E?this:(typeof E.addAlgoliaAgent=="function"&&E.addAlgoliaAgent("JS Helper ("+f+")"),this.client=E,this)},v.prototype.getClient=function(){return this.client},v.prototype.derive=function(E,R){var k=new e(this,E,R);return this.derivedHelpers.push(k),k},v.prototype.detachDerivedHelper=function(E){var R=this.derivedHelpers.indexOf(E);if(R===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(R,1)},v.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},Tp=v,Tp}var Ip,V1;function Tj(){if(V1)return Ip;V1=1;var t=Sj(),e=bI(),r=CI(),n=AI(),i=OI();function a(c,l,u,h){return new t(c,l,u,h)}return a.version=qI(),a.AlgoliaSearchHelper=t,a.SearchParameters=n,a.RecommendParameters=e,a.SearchResults=i,a.RecommendResults=r,Ip=a,Ip}var Ij=Tj();const qr=os(Ij);var Rj=0;function bj(t){t.dependsOn==="recommend"&&(t.$$id=Rj++)}function Nr(){}function Cj(t){return Object.prototype.toString.call(t).slice(8,-1)}function jy(t,e){if(t===void 0||typeof t!="function")throw new Error("The render function is not valid (received type ".concat(Cj(t),`).

`).concat(e))}var Aj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},NI=/[&<>"']/g,xj=RegExp(NI.source);function kj(t){return t&&xj.test(t)?t.replace(NI,function(e){return Aj[e]}):t}var Oj={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},DI=/&(amp|quot|lt|gt|#39);/g,qj=RegExp(DI.source);function LI(t){return t&&qj.test(t)?t.replace(DI,function(e){return Oj[e]}):t}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function Nj(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Dj(t){return yg(t)==="object"&&t!==null}function Lj(t){if(!Dj(t)||Nj(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function jj(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function U1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(r),!0).forEach(function(n){jI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jI(t,e,r){return e=Fj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fj(t){var e=Mj(t,"string");return dl(e)==="symbol"?e:String(e)}function Mj(t,e){if(dl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fd={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},hr={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Vj(t){return kj(t).replace(new RegExp(fd.highlightPreTag,"g"),hr.highlightPreTag).replace(new RegExp(fd.highlightPostTag,"g"),hr.highlightPostTag)}function md(t){return Lj(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,r){return xh(xh({},e),{},jI({},r,md(t[r])))},{}):Array.isArray(t)?t.map(md):xh(xh({},t),{},{value:Vj(t.value)})}function Uj(t){return t.__escaped===void 0&&(t=t.map(function(e){var r=vg({},(jj(e),e));return r._highlightResult&&(r._highlightResult=md(r._highlightResult)),r._snippetResult&&(r._snippetResult=md(r._snippetResult)),r}),t.__escaped=!0),t}function FI(t){var e=hr.highlightPreTag,r=hr.highlightPostTag;return t.map(function(n){return n.isHighlighted?e+n.value+r:n.value}).join("")}function MI(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function $1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(r),!0).forEach(function(n){$j(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $j(t,e,r){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hj(t){var e=Bj(t,"string");return Sa(e)==="symbol"?e:String(e)}function Bj(t,e){if(Sa(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zj(t,e){return Kj(t)||Qj(t,e)||Gj(t,e)||Wj()}function Wj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gj(t,e){if(t){if(typeof t=="string")return H1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(t,e)}}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qj(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function Kj(t){if(Array.isArray(t))return t}function Sa(t){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(t)}function Yj(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(t.length/e);n++)r.push(t.slice(n*e,(n+1)*e));return r}function VI(t){var e=t.getIndex,r=t.widgetType;t.methodName;var n=t.args,i=t.instantSearchInstance;if(n.length===1&&Sa(n[0])==="object")return[n[0]];var a=n[0].split(":"),c=zj(a,2),l=c[0],u=c[1],h=n[1],g=n[2],w=n[3]||{};if(!h)return[];if((l==="click"||l==="conversion")&&!g)return[];var p=Array.isArray(h)?h:[h];if(p.length===0)return[];var f=p[0].__queryID,v=Yj(p),_=v.map(function(E){return E.map(function(R){return R.objectID})}),S=v.map(function(E){return E.map(function(R){return R.__position})});return l==="view"?i.status!=="idle"?[]:v.map(function(E,R){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:l,payload:Rp({eventName:g||"Hits Viewed",index:e(),objectIDs:_[R]},w),hits:E,eventModifier:u}}):l==="click"?v.map(function(E,R){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:l,payload:Rp({eventName:g||"Hit Clicked",index:e(),queryID:f,objectIDs:_[R],positions:S[R]},w),hits:E,eventModifier:u}}):l==="conversion"?v.map(function(E,R){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:l,payload:Rp({eventName:g||"Hit Converted",index:e(),queryID:f,objectIDs:_[R]},w),hits:E,eventModifier:u}}):[]}function Xj(t){var e=t.instantSearchInstance,r=t.getIndex,n=t.widgetType,i={},a=void 0,c=function(){for(var u=arguments.length,h=new Array(u),g=0;g<u;g++)h[g]=arguments[g];var w=VI({widgetType:n,getIndex:r,methodName:"sendEvent",args:h,instantSearchInstance:e});w.forEach(function(p){p.eventType==="click"&&p.eventModifier==="internal"&&i[p.eventType]||(i[p.eventType]=!0,e.sendEventToInsights(p))}),clearTimeout(a),a=setTimeout(function(){i={}},0)};return c}function Jj(t){var e=t.getIndex,r=t.widgetType,n=t.instantSearchInstance,i=function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var h=VI({widgetType:r,getIndex:e,methodName:"bindEvent",args:l,instantSearchInstance:n});return h.length?"data-insights-event=".concat(MI(h)):""};return i}function Jr(t){return t.$$type==="ais.index"}function wg(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(Jr).forEach(function(n){return wg(t,n)})}var Zj=Promise.resolve();function Du(t){var e=null,r=!1,n=function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];e===null&&(e=Zj.then(function(){if(e=null,r){r=!1;return}t.apply(void 0,c)}))};return n.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},n.cancel=function(){e!==null&&(r=!0)},n}function e3(t){var e=t.name,r=t.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",n?"#connector":""].join("")}function Yl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.map(function(i){return e3(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function B1(t,e){for(var r,n=0;n<t.length;n++)if(r=t[n],e(r,n,t))return r}function t3(t,e){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function r3(t){if(t.transporter){var e=t.transporter,r=e.headers||e.baseHeaders,n=e.queryParameters||e.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",c=r[i]||n[i],l=r[a]||n[a];return[c,l]}else return[t.applicationID,t.apiKey]}function Fy(t){var e=hr.highlightPostTag,r=hr.highlightPreTag,n=t.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(c){var l=c.split(e);a.push({value:l[0],isHighlighted:!0}),l[1]!==""&&a.push({value:l[1],isHighlighted:!1})}),a}var n3=new RegExp(/\w/i);function i3(t,e){var r,n,i=t[e],a=((r=t[e+1])===null||r===void 0?void 0:r.isHighlighted)||!0,c=((n=t[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!n3.test(LI(i.value))&&c===a?c:i.isHighlighted}function Xl(t,e){var r=Array.isArray(e)?e:e.split(".");return r.reduce(function(n,i){return n&&n[i]},t)}function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(r),!0).forEach(function(n){s3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3(t,e,r){return e=o3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3(t){var e=a3(t,"string");return fl(e)==="symbol"?e:String(e)}function a3(t,e){if(fl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u3(t,e,r){return t.map(function(n,i){return W1(W1({},n),{},{__position:r*e+i+1})})}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function G1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(r),!0).forEach(function(n){l3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l3(t,e,r){return e=c3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c3(t){var e=h3(t,"string");return ml(e)==="symbol"?e:String(e)}function h3(t,e){if(ml(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ml(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d3(t,e){return e?t.map(function(r){return Q1(Q1({},r),{},{__queryID:e})}):t}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function K1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(r),!0).forEach(function(n){f3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f3(t,e,r){return e=m3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m3(t){var e=p3(t,"string");return pl(e)==="symbol"?e:String(e)}function p3(t,e){if(pl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g3(t,e){var r=Object.keys(e).reduce(function(n,i){var a=e[i];return a.recommendResults?Y1(Y1({},n),a.recommendResults.results):n},{});t._recommendCache=r}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function y3(t,e){return P3(t)||_3(t,e)||w3(t,e)||v3()}function v3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w3(t,e){if(t){if(typeof t=="string")return X1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(t,e)}}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function P3(t){if(Array.isArray(t))return t}function J1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(r),!0).forEach(function(n){UI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UI(t,e,r){return e=E3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3(t){var e=S3(t,"string");return gl(e)==="symbol"?e:String(e)}function S3(t,e){if(gl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T3(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var r=[Object.keys(e).reduce(function(c,l){var u=e[l],h=u.state,g=u.requestParams,w=u.results,p=w&&h?w.map(function(f,v){return Lu({indexName:h.index||f.index},g!=null&&g[v]||f.params?{params:Z1((g==null?void 0:g[v])||I3(f.params))}:{})}):[];return c.concat(p)},[])],n=Object.keys(e).reduce(function(c,l){var u=e[l].results;return u?c.concat(u):c},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search.bind(t);t.search=function(c){for(var l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];var g=c.map(function(w){return Lu(Lu({},w),{},{params:Z1(w.params)})});return t.transporter.responsesCache.get({method:"search",args:[g].concat(u)},function(){return i.apply(void 0,[c].concat(u))})},t.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in t)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));t.cache=Lu(Lu({},t.cache),{},UI({},a,JSON.stringify({results:Object.keys(e).map(function(c){return e[c].results})})))}}}function I3(t){return t.split("&").reduce(function(e,r){var n=r.split("="),i=y3(n,2),a=i[0],c=i[1];return e[a]=c?decodeURIComponent(c):"",e},{})}function Z1(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(c[u++])})};return Object.keys(t).map(function(n){return r("%s=%s",n,e(t[n])?JSON.stringify(t[n]):t[n])}).join("&")}function eP(t){return t!==Object(t)}function $I(t,e){if(t===e)return!0;if(eP(t)||eP(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(!(i in e)||!$I(t[i],e[i]))return!1}return!0}function R3(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var b3=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){C3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C3(t,e,r){return e=A3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A3(t){var e=x3(t,"string");return yl(e)==="symbol"?e:String(e)}function x3(t,e){if(yl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3(t,e){if(t==null)return{};var r=O3(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O3(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var q3=function(e,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=k3(r,b3);return e.setQueryParameters(n)},N3=function(e,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},e)},D3=function(e,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},e)},L3=function(e,r){return e.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=t3(n,function(l){return l.name===i.name});if(a===-1)return n.concat(i);var c=n.slice();return c.splice(a,1,i),c},e.hierarchicalFacets)})},j3=function(e,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},e)},F3=function(e,r){return e.setQueryParameters({facetsRefinements:xn(xn({},e.facetsRefinements),r.facetsRefinements)})},M3=function(e,r){return e.setQueryParameters({facetsExcludes:xn(xn({},e.facetsExcludes),r.facetsExcludes)})},V3=function(e,r){return e.setQueryParameters({disjunctiveFacetsRefinements:xn(xn({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},U3=function(e,r){return e.setQueryParameters({numericRefinements:xn(xn({},e.numericRefinements),r.numericRefinements)})},$3=function(e,r){return e.setQueryParameters({hierarchicalFacetsRefinements:xn(xn({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},H3=function(e,r){var n=R3([].concat(e.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},B3=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,a){var c=$3(i,a),l=L3(c,a),u=j3(l,a),h=U3(u,a),g=V3(h,a),w=M3(g,a),p=F3(w,a),f=D3(p,a),v=H3(f,a),_=N3(v,a);return q3(_,a)})};function z3(t){return K3(t)||Q3(t)||G3(t)||W3()}function W3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3(t,e){if(t){if(typeof t=="string")return _g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _g(t,e)}}function Q3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K3(t){if(Array.isArray(t))return _g(t)}function _g(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rP(t){var e=t.start,r=e===void 0?0:e,n=t.end,i=t.step,a=i===void 0?1:i,c=a===0?1:a,l=Math.round((n-r)/c);return z3(Array(l)).map(function(u,h){return r+h*c})}function Gu(t,e,r){var n=e.getHelper();return{uiState:r,helper:n,parent:e,instantSearchInstance:t,state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function nP(t,e,r){var n=e.getResultsForWidget(r),i=e.getHelper();return{helper:i,parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Y3(t){for(var e=t.getParent(),r=[t.getHelper().state];e!==null;)r=[e.getHelper().state].concat(r),e=e.getParent();return r}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function iP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(r),!0).forEach(function(n){X3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X3(t,e,r){return e=J3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J3(t){var e=Z3(t,"string");return vl(e)==="symbol"?e:String(e)}function Z3(t,e){if(vl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HI(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,r){return kh(kh({},e),{},{isHighlighted:!i3(t,r)})}):t.map(function(e){return kh(kh({},e),{},{isHighlighted:!1})})}function Ki(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=e.fallback;return typeof window>"u"?r():t({window})}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}var sP=Object.prototype.hasOwnProperty;function Ta(t,e,r){if(r!=null&&r(t,e))return!0;var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Ta(t[i],e[i],r););return i===-1}if(!n||Pg(t)==="object"){i=0;for(n in t)if(sP.call(t,n)&&++i&&!sP.call(e,n)||!(n in e)||!Ta(t[n],e[n],r))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function oP(t){var e,r,n;return new qr.SearchResults(t,[{query:(e=t.query)!==null&&e!==void 0?e:"",page:(r=t.page)!==null&&r!==void 0?r:0,hitsPerPage:(n=t.hitsPerPage)!==null&&n!==void 0?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:t.index}],{__isArtificial:!0})}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){eF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eF(t,e,r){return e=tF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tF(t){var e=rF(t,"string");return wl(e)==="symbol"?e:String(e)}function rF(t,e){if(wl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nF(t){var e=t.getHelper(),r=t.getResults()||oP(e.state),n=t.getScopedResults().map(function(i){var a=i.indexId===t.getIndexId()?r:oP(i.helper.state);return uP(uP({},i),{},{results:i.results||a})});return{results:r,scopedResults:n,recommendResults:e.lastRecommendResults}}var BI=B.createContext(null);function zI(t,e){if(!t)throw new Error("Invariant failed")}function iF(){var t=B.useContext(BI);return zI(t!==null),t}var WI=B.createContext(null);function GI(){var t=B.useContext(WI);return zI(t!==null),t}var sF=B.createContext(null);function QI(){return B.useContext(sF)}var oF=B.createContext(null);function KI(){return B.useContext(oF)}function aF(t,e){return hF(t)||cF(t,e)||lF(t,e)||uF()}function uF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lF(t,e){if(t){if(typeof t=="string")return lP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(t,e)}}function lP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function hF(t){if(Array.isArray(t))return t}function cP(t){var e=B.useState(function(){return t}),r=aF(e,2),n=r[0],i=r[1];return Ta(n,t)||i(t),n}var dF="use",hP=Vb[dF],fF=typeof window<"u"?B.useLayoutEffect:B.useEffect,mF=B.createContext(null);function YI(){return B.useContext(mF)}function pF(t){var e,r=t.widget,n=t.parentIndex,i=t.props,a=t.shouldSsr,c=YI(),l=B.useRef(i);B.useEffect(function(){l.current=i},[i]);var u=B.useRef(r);B.useEffect(function(){u.current=r},[r]);var h=B.useRef(null),g=a&&!n.getWidgets().includes(r),w=GI();if(fF(function(){var f=u.current;if(!h.current)a||n.addWidgets([r]);else{clearTimeout(h.current);var v=Ta(i,l.current);v||(n.removeWidgets([f]),n.addWidgets([r]))}return function(){h.current=setTimeout(function(){w._schedule(function(){w._preventWidgetCleanup||n.removeWidgets([f])})})}},[n,r,a,w,i]),(g||(c==null||(e=c.current)===null||e===void 0?void 0:e.status)==="pending")&&n.addWidgets([r]),typeof window>"u"&&c!==null&&c!==void 0&&c.current&&r.$$type!=="ais.index"){var p;hP(c.current),r.$$type!=="ais.dynamicWidgets"&&(p=w.helper)!==null&&p!==void 0&&p.lastResults&&hP(c.current)}}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}var gF=["instantSearchInstance","widgetParams"],yF=["widgetParams"];function vF(t,e){return EF(t)||PF(t,e)||_F(t,e)||wF()}function wF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(t,e){if(t){if(typeof t=="string")return dP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function EF(t){if(Array.isArray(t))return t}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){SF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SF(t,e,r){return e=TF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TF(t){var e=IF(t,"string");return _l(e)==="symbol"?e:String(e)}function IF(t,e){if(_l(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pP(t,e){if(t==null)return{};var r=RF(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function My(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=QI(),i=KI(),a=GI(),c=iF(),l=cP(e),u=cP(r),h=B.useRef(!0),g=B.useRef(null),w=B.useRef(a.status),p=B.useMemo(function(){var E=t(function(R,k){if(k){h.current=!0;return}if(h.current){var q=R.instantSearchInstance;R.widgetParams;var F=pP(R,gF);(!Ta(F,g.current,function(V,C){return(V==null?void 0:V.constructor)===Function&&(C==null?void 0:C.constructor)===Function})||q.status!==w.current)&&(S(F),g.current=F,w.current=q.status)}},function(){h.current=!1});return mP(mP({},E(l)),u)},[t,l,u]),f=B.useState(function(){if(p.getWidgetRenderState){var E,R=c.getHelper(),k=c.getWidgetUiState({})[c.getIndexId()];R.state=((E=p.getWidgetSearchParameters)===null||E===void 0?void 0:E.call(p,R.state,{uiState:k}))||R.state;var q=nF(c),F=q.results,V=q.scopedResults,C=q.recommendResults,b=p.getWidgetRenderState({helper:R,parent:c,instantSearchInstance:a,results:p.dependsOn==="recommend"&&C&&i?C[i.recommendIdx.current++]:F,scopedResults:V,state:R.state,renderState:a.renderState,templatesConfig:a.templatesConfig,createURL:c.createURL,searchMetadata:{isSearchStalled:a.status==="stalled"},status:a.status,error:a.error});b.widgetParams;var x=pP(b,yF);return x}return{}}),v=vF(f,2),_=v[0],S=v[1];return pF({widget:p,parentIndex:c,props:l,shouldSsr:!!n}),_}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var bF=["initialSearchParameters"],CF=["initialRecommendParameters"];function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){ha(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ha(t,e,r){return e=AF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AF(t){var e=xF(t,"string");return Pl(e)==="symbol"?e:String(e)}function xF(t,e){if(Pl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XI(t){return NF(t)||qF(t)||OF(t)||kF()}function kF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(t,e){if(t){if(typeof t=="string")return Eg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(t,e)}}function qF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NF(t){if(Array.isArray(t))return Eg(t)}function Eg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JI(t,e){if(t==null)return{};var r=DF(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DF(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ju=Yl({name:"index-widget"});function ZI(t,e){var r=e.state,n=e.recommendState,i=e.isPageReset,a=e._uiState;r!==t.state&&(t.state=r,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:i,_uiState:a})),n!==t.recommendState&&(t.recommendState=n)}function Fu(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(n,i){return Jr(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,e):i.getWidgetState(n,e)},r)}function Mu(t,e){var r=e.initialSearchParameters,n=JI(e,bF);return t.reduce(function(i,a){return!a.getWidgetSearchParameters||Jr(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function yP(t,e){var r=e.initialRecommendParameters,n=JI(e,CF);return t.reduce(function(i,a){return!Jr(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function eR(t){var e=t.filter(Jr);e.length!==0&&e.forEach(function(r){var n=r.getHelper();ZI(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),eR(r.getWidgets())})}function tR(t){var e=t.filter(Jr);return e.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(XI(tR(n.getWidgets()))))},[])}var LF=function(e){if(e===void 0||e.indexName===void 0)throw new Error(ju("The `indexName` option is required."));var r=e.indexName,n=e.indexId,i=n===void 0?r:n,a=[],c={},l=null,u=null,h=null,g=null,w=null,p=!1,f=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return h},getResults:function(){var _;return(_=g)!==null&&_!==void 0&&_.lastResults?(g.lastResults._state=h.state,g.lastResults):null},getResultsForWidget:function(_){var S;return _.dependsOn!=="recommend"||Jr(_)||_.$$id===void 0?this.getResults():(S=h)!==null&&S!==void 0&&S.lastRecommendResults?h.lastRecommendResults[_.$$id]:null},getPreviousState:function(){return w},getScopedResults:function(){var _=this.getParent(),S;return _?S=_.getWidgets():r.length===0?S=this.getWidgets():S=[this],tR(S)},getParent:function(){return u},createURL:function(_){return typeof _=="function"?l._createURL(ha({},i,_(c))):l._createURL(ha({},i,Fu(a,{searchParameters:_,helper:h})))},getWidgets:function(){return a},addWidgets:function(_){var S=this;if(!Array.isArray(_))throw new Error(ju("The `addWidgets` method expects an array of widgets."));if(_.some(function(E){return typeof E.init!="function"&&typeof E.render!="function"}))throw new Error(ju("The widget definition expects a `render` and/or an `init` method."));return _.forEach(function(E){Jr(E)||(l&&E.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:E.dependsOn==="recommend"?p=!0:f=!0,bj(E))}),a=a.concat(_),l&&_.length&&(ZI(h,{state:Mu(a,{uiState:c,initialSearchParameters:h.state}),recommendState:yP(a,{uiState:c,initialRecommendParameters:h.recommendState}),_uiState:c}),_.forEach(function(E){if(E.getRenderState){var R=E.getRenderState(l.renderState[S.getIndexId()]||{},Gu(l,S,l._initialUiState));bp({renderState:R,instantSearchInstance:l,parent:S})}}),_.forEach(function(E){E.init&&E.init(Gu(l,S,l._initialUiState))}),l.scheduleSearch()),this},removeWidgets:function(_){var S=this;if(!Array.isArray(_))throw new Error(ju("The `removeWidgets` method expects an array of widgets."));if(_.some(function(F){return typeof F.dispose!="function"}))throw new Error(ju("The widget definition expects a `dispose` method."));if(a=a.filter(function(F){return _.indexOf(F)===-1}),a.forEach(function(F){Jr(F)||(l&&F.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:F.dependsOn==="recommend"?p=!0:f=!0)}),l&&_.length){var E=_.reduce(function(F,V){var C=V.dispose({helper:h,state:F.cleanedSearchState,recommendState:F.cleanedRecommendState,parent:S});return C instanceof qr.RecommendParameters?F.cleanedRecommendState=C:C&&(F.cleanedSearchState=C),F},{cleanedSearchState:h.state,cleanedRecommendState:h.recommendState}),R=E.cleanedSearchState,k=E.cleanedRecommendState,q=l.future.preserveSharedStateOnUnmount?Mu(a,{uiState:c,initialSearchParameters:new qr.SearchParameters({index:this.getIndexName()})}):Mu(a,{uiState:Fu(a,{searchParameters:R,helper:h}),initialSearchParameters:R});c=Fu(a,{searchParameters:q,helper:h}),h.setState(q),h.recommendState=k,a.length&&l.scheduleSearch()}return this},init:function(_){var S=this,E,R=_.instantSearchInstance,k=_.parent,q=_.uiState;if(h===null){l=R,u=k,c=q[i]||{};var F=R.mainHelper,V=Mu(a,{uiState:c,initialSearchParameters:new qr.SearchParameters({index:r})}),C=yP(a,{uiState:c,initialRecommendParameters:new qr.RecommendParameters});h=qr({},V.index,V),h.recommendState=C,h.search=function(){return R.onStateChange?(R.onStateChange({uiState:R.mainIndex.getWidgetUiState({}),setUiState:function(M){return R.setUiState(M,!1)}}),F):F.search()},h.searchWithoutTriggeringOnStateChange=function(){return F.search()},h.searchForFacetValues=function(L,M,D,de){var fe=h.state.setQueryParameters(de);return F.searchForFacetValues(L,M,D,fe)},g=F.derive(function(){return B3.apply(void 0,[F.state].concat(XI(Y3(S))))},function(){return S.getHelper().recommendState});var b=(E=R._initialResults)===null||E===void 0?void 0:E[this.getIndexId()];if(b!=null&&b.results){var x=new qr.SearchResults(new qr.SearchParameters(b.state),b.results);g.lastResults=x,h.lastResults=x}if(b!=null&&b.recommendResults){var N=new qr.RecommendResults(new qr.RecommendParameters({params:b.recommendResults.params}),b.recommendResults.results);g.lastRecommendResults=N,h.lastRecommendResults=N}h.on("change",function(L){var M=L.isPageReset;M&&eR(a)}),g.on("search",function(){R.scheduleStalledRender()}),g.on("result",function(L){var M=L.results;R.scheduleRender(),h.lastResults=M,w=M==null?void 0:M._state}),g.on("recommend:result",function(L){var M=L.recommend;R.scheduleRender(),h.lastRecommendResults=M.results}),a.forEach(function(L){if(L.getRenderState){var M=L.getRenderState(R.renderState[S.getIndexId()]||{},Gu(R,S,q));bp({renderState:M,instantSearchInstance:R,parent:S})}}),a.forEach(function(L){L.init&&L.init(Gu(R,S,q))}),h.on("change",function(L){var M=L.state,D=L._uiState;c=Fu(a,{searchParameters:M,helper:h},D||{}),R.onStateChange||R.onInternalStateChange()}),b&&R.scheduleRender(),p&&(R._hasRecommendWidget=!0),f&&(R._hasSearchWidget=!0)}},render:function(_){var S,E=this,R=_.instantSearchInstance;R.status==="error"&&!R.mainHelper.hasPendingRequests()&&w&&h.setState(w);var k=this.getResults()||(S=g)!==null&&S!==void 0&&S.lastRecommendResults?a:a.filter(Jr);k=k.filter(function(q){return q.shouldRender?q.shouldRender({instantSearchInstance:R}):!0}),k.forEach(function(q){if(q.getRenderState){var F=q.getRenderState(R.renderState[E.getIndexId()]||{},nP(R,E,q));bp({renderState:F,instantSearchInstance:R,parent:E})}}),k.forEach(function(q){q.render&&q.render(nP(R,E,q))})},dispose:function(){var _=this,S,E;a.forEach(function(R){R.dispose&&h&&R.dispose({helper:h,state:h.state,recommendState:h.recommendState,parent:_})}),l=null,u=null,(S=h)===null||S===void 0||S.removeAllListeners(),h=null,(E=g)===null||E===void 0||E.detach(),g=null},getWidgetUiState:function(_){return a.filter(Jr).reduce(function(S,E){return E.getWidgetUiState(S)},wn(wn({},_),{},ha({},i,wn(wn({},_[i]),c))))},getWidgetState:function(_){return this.getWidgetUiState(_)},getWidgetSearchParameters:function(_,S){var E=S.uiState;return Mu(a,{uiState:E,initialSearchParameters:_})},refreshUiState:function(){c=Fu(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},c)},setIndexUiState:function(_){var S=typeof _=="function"?_(c):_;l.setUiState(function(E){return wn(wn({},E),{},ha({},i,S))})}}};function bp(t){var e=t.renderState,r=t.instantSearchInstance,n=t.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=wn(wn({},r.renderState),{},ha({},i,wn(wn({},r.renderState[i]),e)))}function jF(t,e){return UF(t)||VF(t,e)||MF(t,e)||FF()}function FF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(t,e){if(t){if(typeof t=="string")return vP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(t,e)}}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function UF(t){if(Array.isArray(t))return t}function $F(){var t=B.useReducer(function(n){return n+1},0),e=jF(t,2),r=e[1];return r}var HF=ky();const BF=os(HF);var zF="ais",Gd=function(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",c=i?"--".concat(i):"";return"".concat(zF,"-").concat(e).concat(a).concat(c)}},WF=Gd("Highlight");function GF(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,c=a===void 0?{}:a,l=Xl(i._highlightResult,e),u=l||{},h=u.value,g=h===void 0?"":h,w=WF({descendantName:"highlighted"})+(c.highlighted?" ".concat(c.highlighted):"");return g.replace(new RegExp(hr.highlightPreTag,"g"),"<".concat(n,' class="').concat(w,'">')).replace(new RegExp(hr.highlightPostTag,"g"),"</".concat(n,">"))}var QF=Gd("ReverseHighlight");function KF(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,c=a===void 0?{}:a,l=Xl(i._highlightResult,e),u=l||{},h=u.value,g=h===void 0?"":h,w=QF({descendantName:"highlighted"})+(c.highlighted?" ".concat(c.highlighted):""),p=FI(HI(Fy(g)));return p.replace(new RegExp(hr.highlightPreTag,"g"),"<".concat(n,' class="').concat(w,'">')).replace(new RegExp(hr.highlightPostTag,"g"),"</".concat(n,">"))}var YF=Gd("Snippet");function XF(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,c=a===void 0?{}:a,l=Xl(i._snippetResult,e),u=l||{},h=u.value,g=h===void 0?"":h,w=YF({descendantName:"highlighted"})+(c.highlighted?" ".concat(c.highlighted):"");return g.replace(new RegExp(hr.highlightPreTag,"g"),"<".concat(n,' class="').concat(w,'">')).replace(new RegExp(hr.highlightPostTag,"g"),"</".concat(n,">"))}var JF=Gd("ReverseSnippet");function ZF(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,c=a===void 0?{}:a,l=Xl(i._snippetResult,e),u=l||{},h=u.value,g=h===void 0?"":h,w=JF({descendantName:"highlighted"})+(c.highlighted?" ".concat(c.highlighted):""),p=FI(HI(Fy(g)));return p.replace(new RegExp(hr.highlightPreTag,"g"),"<".concat(n,' class="').concat(w,'">')).replace(new RegExp(hr.highlightPostTag,"g"),"</".concat(n,">"))}function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function e9(t){var e=t.method,r=t.payload;if(Sg(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=MI(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(n,'"')}function t9(t,e){return e9({method:t,payload:e})}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}var r9="_ALGOLIA";function n9(t){if(!((typeof document>"u"?"undefined":Tg(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function i9(){return n9(r9)}function s9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){o9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o9(t,e,r){return e=a9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9(t){var e=u9(t,"string");return El(e)==="symbol"?e:String(e)}function u9(t,e){if(El(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(El(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e){return h9(t)||c9(t,e)||rR(t,e)||l9()}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function h9(t){if(Array.isArray(t))return t}function d9(t){return p9(t)||m9(t)||rR(t)||f9()}function f9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rR(t,e){if(t){if(typeof t=="string")return Ig(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(t,e)}}function m9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p9(t){if(Array.isArray(t))return Ig(t)}function Ig(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nR="2.17.2",g9="https://cdn.jsdelivr.net/npm/search-insights@".concat(nR,"/dist/search-insights.min.js");function _P(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,r=t.insightsInitParams,n=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,c=t.$$automatic,l=c===void 0?!1:c,u=e;!e&&e!==null&&Ki(function(g){var w=g.window,p=w.AlgoliaAnalyticsObject||"aa";typeof p=="string"&&(u=w[p]),u||(w.AlgoliaAnalyticsObject=p,w[p]||(w[p]=function(){w[p].queue||(w[p].queue=[]);for(var f=arguments.length,v=new Array(f),_=0;_<f;_++)v[_]=arguments[_];w[p].queue.push(v)},w[p].version=nR,w[p].shouldAddScript=!0),u=w[p])});var h=u||Nr;return function(g){var w=g.instantSearchInstance,p=w.middleware.filter(function(x){return x.instance.$$type==="ais.insights"&&x.instance.$$internal}).map(function(x){return x.creator});w.unuse.apply(w,d9(p));var f=r3(w.client),v=Bi(f,2),_=v[0],S=v[1],E=void 0,R=void 0,k=void 0,q=h.queue;if(Array.isArray(q)){var F=["setUserToken","init"].map(function(x){var N=B1(q.slice().reverse(),function(D){var de=Bi(D,1),fe=de[0];return fe===x})||[],L=Bi(N,2),M=L[1];return M}),V=Bi(F,2);R=V[0],E=V[1]}h("getUserToken",null,function(x,N){k=EP(N)}),(r||!PP(h))&&h("init",Fs({appId:_,apiKey:S,partial:!0},r));var C,b;return{$$type:"ais.insights",$$internal:a,$$automatic:l,onStateChange:function(){},subscribe:function(){if(h.shouldAddScript){var N="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var L=document.createElement("script");L.async=!0,L.src=g9,L.onerror=function(){w.emit("error",new Error(N))},document.body.appendChild(L),h.shouldAddScript=!1}catch{h.shouldAddScript=!1,w.emit("error",new Error(N))}}},started:function(){h("addAlgoliaAgent","insights-middleware"),b=w.mainHelper;var N=h.queue;if(Array.isArray(N)){var L=["setUserToken","init"].map(function(le){var Ee=B1(N.slice().reverse(),function(De){var ze=Bi(De,1),Zt=ze[0];return Zt===le})||[],Ie=Bi(Ee,2),ve=Ie[1];return ve}),M=Bi(L,2);R=M[0],E=M[1]}C=y9(w),l||b.overrideStateWithoutTriggeringChangeEvent(Fs(Fs({},b.state),{},{clickAnalytics:!0})),a||w.scheduleSearch();var D=function(Ee){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ve=EP(Ee);if(!ve)return;var De=b.state.userToken;function ze(){b.overrideStateWithoutTriggeringChangeEvent(Fs(Fs({},b.state),{},{userToken:ve})),De&&De!==Ee&&w.scheduleSearch()}Ie?ze():setTimeout(ze,0)};function de(le){D(le,!0),h("setUserToken",le)}var fe=void 0,Te=i9();if(Te)fe=Te;else{var ce="anonymous-".concat(s9());fe=ce}var X,oe=C.userToken;if(r!=null&&r.userToken&&(X=r.userToken),X)de(X);else if(oe)de(oe);else if(k)de(k);else if(R)de(R);else if(fe){var ie;if(de(fe),r!=null&&r.useCookie||(ie=E)!==null&&ie!==void 0&&ie.useCookie){var H;v9(fe,(r==null?void 0:r.cookieDuration)||((H=E)===null||H===void 0?void 0:H.cookieDuration))}}h("onUserTokenChange",function(le){return D(le,!0)},{immediate:!0});var J=h;PP(h)&&(J=function(Ee,Ie){var ve={headers:{"X-Algolia-Application-Id":_,"X-Algolia-API-Key":S}};return h(Ee,Ie,ve)});var he=new Set,_e;w.mainHelper.derivedHelpers[0].on("result",function(le){var Ee=le.results;Ee&&(!Ee.queryID||Ee.queryID!==_e)&&(_e=Ee.queryID,he.clear())}),w.sendEventToInsights=function(le){if(n)n(le,J);else if(le.insightsMethod){if(le.insightsMethod==="viewedObjectIDs"){var Ee=le.payload,Ie=Ee.objectIDs.filter(function(ve){return!he.has(ve)});if(Ie.length===0)return;Ie.forEach(function(ve){return he.add(ve)}),Ee.objectIDs=Ie}le.payload.algoliaSource=["instantsearch"],l&&le.payload.algoliaSource.push("instantsearch-automatic"),le.eventModifier==="internal"&&le.payload.algoliaSource.push("instantsearch-internal"),J(le.insightsMethod,le.payload)}}},unsubscribe:function(){h("onUserTokenChange",void 0),w.sendEventToInsights=Nr,b&&C&&(b.overrideStateWithoutTriggeringChangeEvent(Fs(Fs({},b.state),C)),w.scheduleSearch())}}}}function y9(t){var e,r,n=((e=t._initialResults)===null||e===void 0||(r=e[t.indexName])===null||r===void 0?void 0:r.state)||{},i=t.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function v9(t,e){var r=2592e6,n=new Date;n.setTime(n.getTime()+(e||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(t,";").concat(i,";path=/")}function PP(t){var e=(t.version||"").split(".").map(Number),r=Bi(e,2),n=r[0],i=r[1],a=n>=3,c=n===2&&i>=6,l=n===1&&i>=10;return a||c||l}function EP(t){if(t)return typeof t=="number"?t.toString():t}function iR(t,e,r){var n=Gu(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var c=i.getWidgetRenderState(n);c&&c.widgetParams&&(a=c.widgetParams)}var l=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:l}),i.$$type==="ais.index"&&iR(i.getWidgets(),e,r)})}function w9(){return Ki(function(t){var e,r,n=t.window;return((e=n.navigator)===null||e===void 0||(r=e.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function _9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,r=e===void 0?!1:e;return function(n){var i=n.instantSearchInstance,a={widgets:[]},c=document.createElement("meta"),l=document.querySelector("head");return c.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var h=i.client;a.ua=h.transporter&&h.transporter.userAgent?h.transporter.userAgent.value:h._ua,iR(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(g){return a.widgets.push({middleware:!0,type:g.instance.$$type,internal:g.instance.$$internal})}),c.content=JSON.stringify(a),l.appendChild(c)},0)},started:function(){},unsubscribe:function(){c.remove()}}}}var Cp,SP;function Vy(){if(SP)return Cp;SP=1;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Cp={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Cp}var Ap,TP;function sR(){if(TP)return Ap;TP=1;var t=Vy(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var _=[],S=0;S<256;++S)_.push("%"+((S<16?"0":"")+S.toString(16)).toUpperCase());return _}(),i=function(S){for(;S.length>1;){var E=S.pop(),R=E.obj[E.prop];if(r(R)){for(var k=[],q=0;q<R.length;++q)typeof R[q]<"u"&&k.push(R[q]);E.obj[E.prop]=k}}},a=function(S,E){for(var R=E&&E.plainObjects?Object.create(null):{},k=0;k<S.length;++k)typeof S[k]<"u"&&(R[k]=S[k]);return R},c=function _(S,E,R){if(!E)return S;if(typeof E!="object"){if(r(S))S.push(E);else if(S&&typeof S=="object")(R&&(R.plainObjects||R.allowPrototypes)||!e.call(Object.prototype,E))&&(S[E]=!0);else return[S,E];return S}if(!S||typeof S!="object")return[S].concat(E);var k=S;return r(S)&&!r(E)&&(k=a(S,R)),r(S)&&r(E)?(E.forEach(function(q,F){if(e.call(S,F)){var V=S[F];V&&typeof V=="object"&&q&&typeof q=="object"?S[F]=_(V,q,R):S.push(q)}else S[F]=q}),S):Object.keys(E).reduce(function(q,F){var V=E[F];return e.call(q,F)?q[F]=_(q[F],V,R):q[F]=V,q},k)},l=function(S,E){return Object.keys(E).reduce(function(R,k){return R[k]=E[k],R},S)},u=function(_,S,E){var R=_.replace(/\+/g," ");if(E==="iso-8859-1")return R.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(R)}catch{return R}},h=function(S,E,R,k,q){if(S.length===0)return S;var F=S;if(typeof S=="symbol"?F=Symbol.prototype.toString.call(S):typeof S!="string"&&(F=String(S)),R==="iso-8859-1")return escape(F).replace(/%u[0-9a-f]{4}/gi,function(x){return"%26%23"+parseInt(x.slice(2),16)+"%3B"});for(var V="",C=0;C<F.length;++C){var b=F.charCodeAt(C);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||q===t.RFC1738&&(b===40||b===41)){V+=F.charAt(C);continue}if(b<128){V=V+n[b];continue}if(b<2048){V=V+(n[192|b>>6]+n[128|b&63]);continue}if(b<55296||b>=57344){V=V+(n[224|b>>12]+n[128|b>>6&63]+n[128|b&63]);continue}C+=1,b=65536+((b&1023)<<10|F.charCodeAt(C)&1023),V+=n[240|b>>18]+n[128|b>>12&63]+n[128|b>>6&63]+n[128|b&63]}return V},g=function(S){for(var E=[{obj:{o:S},prop:"o"}],R=[],k=0;k<E.length;++k)for(var q=E[k],F=q.obj[q.prop],V=Object.keys(F),C=0;C<V.length;++C){var b=V[C],x=F[b];typeof x=="object"&&x!==null&&R.indexOf(x)===-1&&(E.push({obj:F,prop:b}),R.push(x))}return i(E),S},w=function(S){return Object.prototype.toString.call(S)==="[object RegExp]"},p=function(S){return!S||typeof S!="object"?!1:!!(S.constructor&&S.constructor.isBuffer&&S.constructor.isBuffer(S))},f=function(S,E){return[].concat(S,E)},v=function(S,E){if(r(S)){for(var R=[],k=0;k<S.length;k+=1)R.push(E(S[k]));return R}return E(S)};return Ap={arrayToObject:a,assign:l,combine:f,compact:g,decode:u,encode:h,isBuffer:p,isRegExp:w,maybeMap:v,merge:c},Ap}var xp,IP;function P9(){if(IP)return xp;IP=1;var t=sR(),e=Vy(),r=Object.prototype.hasOwnProperty,n={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,S){return _+"["+S+"]"},repeat:function(_){return _}},i=Array.isArray,a=String.prototype.split,c=Array.prototype.push,l=function(v,_){c.apply(v,i(_)?_:[_])},u=Date.prototype.toISOString,h=e.default,g={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:t.encode,encodeValuesOnly:!1,format:h,formatter:e.formatters[h],indices:!1,serializeDate:function(_){return u.call(_)},skipNulls:!1,strictNullHandling:!1},w=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},p=function v(_,S,E,R,k,q,F,V,C,b,x,N,L,M){var D=_;if(typeof F=="function"?D=F(S,D):D instanceof Date?D=b(D):E==="comma"&&i(D)&&(D=t.maybeMap(D,function(le){return le instanceof Date?b(le):le})),D===null){if(R)return q&&!L?q(S,g.encoder,M,"key",x):S;D=""}if(w(D)||t.isBuffer(D)){if(q){var de=L?S:q(S,g.encoder,M,"key",x);if(E==="comma"&&L){for(var fe=a.call(String(D),","),Te="",ce=0;ce<fe.length;++ce)Te+=(ce===0?"":",")+N(q(fe[ce],g.encoder,M,"value",x));return[N(de)+"="+Te]}return[N(de)+"="+N(q(D,g.encoder,M,"value",x))]}return[N(S)+"="+N(String(D))]}var X=[];if(typeof D>"u")return X;var oe;if(E==="comma"&&i(D))oe=[{value:D.length>0?D.join(",")||null:void 0}];else if(i(F))oe=F;else{var ie=Object.keys(D);oe=V?ie.sort(V):ie}for(var H=0;H<oe.length;++H){var J=oe[H],he=typeof J=="object"&&typeof J.value<"u"?J.value:D[J];if(!(k&&he===null)){var _e=i(D)?typeof E=="function"?E(S,J):S:S+(C?"."+J:"["+J+"]");l(X,v(he,_e,E,R,k,q,F,V,C,b,x,N,L,M))}}return X},f=function(_){if(!_)return g;if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var S=_.charset||g.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=e.default;if(typeof _.format<"u"){if(!r.call(e.formatters,_.format))throw new TypeError("Unknown format option provided.");E=_.format}var R=e.formatters[E],k=g.filter;return(typeof _.filter=="function"||i(_.filter))&&(k=_.filter),{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:g.addQueryPrefix,allowDots:typeof _.allowDots>"u"?g.allowDots:!!_.allowDots,charset:S,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:g.charsetSentinel,delimiter:typeof _.delimiter>"u"?g.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:g.encode,encoder:typeof _.encoder=="function"?_.encoder:g.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:g.encodeValuesOnly,filter:k,format:E,formatter:R,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:g.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:g.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:g.strictNullHandling}};return xp=function(v,_){var S=v,E=f(_),R,k;typeof E.filter=="function"?(k=E.filter,S=k("",S)):i(E.filter)&&(k=E.filter,R=k);var q=[];if(typeof S!="object"||S===null)return"";var F;_&&_.arrayFormat in n?F=_.arrayFormat:_&&"indices"in _?F=_.indices?"indices":"repeat":F="indices";var V=n[F];R||(R=Object.keys(S)),E.sort&&R.sort(E.sort);for(var C=0;C<R.length;++C){var b=R[C];E.skipNulls&&S[b]===null||l(q,p(S[b],b,V,E.strictNullHandling,E.skipNulls,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset))}var x=q.join(E.delimiter),N=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?N+="utf8=%26%2310003%3B&":N+="utf8=%E2%9C%93&"),x.length>0?N+x:""},xp}var kp,RP;function E9(){if(RP)return kp;RP=1;var t=sR(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(f,v){return String.fromCharCode(parseInt(v,10))})},a=function(p,f){return p&&typeof p=="string"&&f.comma&&p.indexOf(",")>-1?p.split(","):p},c="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",u=function(f,v){var _={},S=v.ignoreQueryPrefix?f.replace(/^\?/,""):f,E=v.parameterLimit===1/0?void 0:v.parameterLimit,R=S.split(v.delimiter,E),k=-1,q,F=v.charset;if(v.charsetSentinel)for(q=0;q<R.length;++q)R[q].indexOf("utf8=")===0&&(R[q]===l?F="utf-8":R[q]===c&&(F="iso-8859-1"),k=q,q=R.length);for(q=0;q<R.length;++q)if(q!==k){var V=R[q],C=V.indexOf("]="),b=C===-1?V.indexOf("="):C+1,x,N;b===-1?(x=v.decoder(V,n.decoder,F,"key"),N=v.strictNullHandling?null:""):(x=v.decoder(V.slice(0,b),n.decoder,F,"key"),N=t.maybeMap(a(V.slice(b+1),v),function(L){return v.decoder(L,n.decoder,F,"value")})),N&&v.interpretNumericEntities&&F==="iso-8859-1"&&(N=i(N)),V.indexOf("[]=")>-1&&(N=r(N)?[N]:N),e.call(_,x)?_[x]=t.combine(_[x],N):_[x]=N}return _},h=function(p,f,v,_){for(var S=_?f:a(f,v),E=p.length-1;E>=0;--E){var R,k=p[E];if(k==="[]"&&v.parseArrays)R=[].concat(S);else{R=v.plainObjects?Object.create(null):{};var q=k.charAt(0)==="["&&k.charAt(k.length-1)==="]"?k.slice(1,-1):k,F=parseInt(q,10);!v.parseArrays&&q===""?R={0:S}:!isNaN(F)&&k!==q&&String(F)===q&&F>=0&&v.parseArrays&&F<=v.arrayLimit?(R=[],R[F]=S):q!=="__proto__"&&(R[q]=S)}S=R}return S},g=function(f,v,_,S){if(f){var E=_.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,R=/(\[[^[\]]*])/,k=/(\[[^[\]]*])/g,q=_.depth>0&&R.exec(E),F=q?E.slice(0,q.index):E,V=[];if(F){if(!_.plainObjects&&e.call(Object.prototype,F)&&!_.allowPrototypes)return;V.push(F)}for(var C=0;_.depth>0&&(q=k.exec(E))!==null&&C<_.depth;){if(C+=1,!_.plainObjects&&e.call(Object.prototype,q[1].slice(1,-1))&&!_.allowPrototypes)return;V.push(q[1])}return q&&V.push("["+E.slice(q.index)+"]"),h(V,v,_,S)}},w=function(f){if(!f)return n;if(f.decoder!==null&&f.decoder!==void 0&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var v=typeof f.charset>"u"?n.charset:f.charset;return{allowDots:typeof f.allowDots>"u"?n.allowDots:!!f.allowDots,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:n.allowPrototypes,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:n.arrayLimit,charset:v,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:n.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:n.comma,decoder:typeof f.decoder=="function"?f.decoder:n.decoder,delimiter:typeof f.delimiter=="string"||t.isRegExp(f.delimiter)?f.delimiter:n.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:n.depth,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:n.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:n.plainObjects,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:n.strictNullHandling}};return kp=function(p,f){var v=w(f);if(p===""||p===null||typeof p>"u")return v.plainObjects?Object.create(null):{};for(var _=typeof p=="string"?u(p,v):p,S=v.plainObjects?Object.create(null):{},E=Object.keys(_),R=0;R<E.length;++R){var k=E[R],q=g(k,_[k],v,typeof p=="string");S=t.merge(S,q,v)}return t.compact(S)},kp}var Op,bP;function S9(){if(bP)return Op;bP=1;var t=P9(),e=E9(),r=Vy();return Op={formats:r,parse:e,stringify:t},Op}var T9=S9();const CP=os(T9);function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function I9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oR(n.key),n)}}function b9(t,e,r){return e&&R9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xt(t,e,r){return e=oR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oR(t){var e=C9(t,"string");return Sl(e)==="symbol"?e:String(e)}function C9(t,e){if(Sl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AP=function(e){e&&(window.document.title=e)},A9=function(){function t(e){var r=this,n=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,c=e.createURL,l=e.parseURL,u=e.getLocation,h=e.start,g=e.dispose,w=e.push,p=e.cleanUrlOnDispose;I9(this,t),Xt(this,"$$type","ais.browser"),Xt(this,"windowTitle",void 0),Xt(this,"writeDelay",void 0),Xt(this,"_createURL",void 0),Xt(this,"parseURL",void 0),Xt(this,"getLocation",void 0),Xt(this,"writeTimer",void 0),Xt(this,"_onPopState",void 0),Xt(this,"inPopState",!1),Xt(this,"isDisposed",!1),Xt(this,"latestAcknowledgedHistory",0),Xt(this,"_start",void 0),Xt(this,"_dispose",void 0),Xt(this,"_push",void 0),Xt(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=c,this.parseURL=l,this.getLocation=u,this._start=h,this._dispose=g,this._push=w,this._cleanUrlOnDispose=typeof p>"u"?!0:p,Ki(function(f){var v=f.window,_=r.windowTitle&&r.windowTitle(r.read());AP(_),r.latestAcknowledgedHistory=v.history.length})}return b9(t,[{key:"read",value:function(){return this.parseURL({qsModule:CP,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Ki(function(i){var a=i.window,c=n.createURL(r),l=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){AP(l),n.shouldWrite(c)&&(n._push?n._push(c):a.history.pushState(r,l||"",c),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},Ki(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:CP,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ki(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return Ki(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var c=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&c&&r!==a.location.href})}}]),t}();function x9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,r=e===void 0?function(v){var _=v.qsModule,S=v.routeState,E=v.location,R=E.protocol,k=E.hostname,q=E.port,F=q===void 0?"":q,V=E.pathname,C=E.hash,b=_.stringify(S),x=F===""?"":":".concat(F);return b?"".concat(R,"//").concat(k).concat(x).concat(V,"?").concat(b).concat(C):"".concat(R,"//").concat(k).concat(x).concat(V).concat(C)}:e,n=t.parseURL,i=n===void 0?function(v){var _=v.qsModule,S=v.location;return _.parse(S.search.slice(1),{arrayLimit:99})}:n,a=t.writeDelay,c=a===void 0?400:a,l=t.windowTitle,u=t.getLocation,h=u===void 0?function(){return Ki(function(v){var _=v.window;return _.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,g=t.start,w=t.dispose,p=t.push,f=t.cleanUrlOnDispose;return new A9({createURL:r,parseURL:i,writeDelay:c,windowTitle:l,getLocation:h,start:g,dispose:w,push:p,cleanUrlOnDispose:f})}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var k9=["configure"];function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){Rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rg(t,e,r){return e=O9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O9(t){var e=q9(t,"string");return Tl(e)==="symbol"?e:String(e)}function q9(t,e){if(Tl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N9(t,e){if(t==null)return{};var r=D9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D9(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kP(t){t.configure;var e=N9(t,k9);return e}function L9(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(r,n){return Oh(Oh({},r),{},Rg({},n,kP(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(r,n){return Oh(Oh({},r),{},Rg({},n,kP(e[n])))},{})}}}function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){aR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aR(t,e,r){return e=j9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9(t){var e=F9(t,"string");return Il(e)==="symbol"?e:String(e)}function F9(t,e){if(Il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.router,n=r===void 0?x9():r,i=e.stateMapping,a=i===void 0?L9():i,c=e.$$internal,l=c===void 0?!1:c;return function(u){var h=u.instantSearchInstance;function g(f){var v=h.mainIndex.getWidgets().length===0?h._initialUiState:h.mainIndex.getWidgetUiState({}),_=Object.keys(f).reduce(function(E,R){return qh(qh({},E),{},aR({},R,f[R]))},v),S=a.stateToRoute(_);return n.createURL(S)}h._createURL=g;var w=void 0,p=h._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:l,onStateChange:function(v){var _=v.uiState,S=a.stateToRoute(_);(w===void 0||!$I(w,S))&&(n.write(S),w=S)},subscribe:function(){h._initialUiState=qh(qh({},p),a.routeToState(n.read())),n.onUpdate(function(v){h.mainIndex.getWidgets().length>0&&h.setUiState(a.routeToState(v))})},started:function(){var v;(v=n.start)===null||v===void 0||v.call(n)},unsubscribe:function(){n.dispose()}}}};function V9(t,e){return t.toLocaleString(e)}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){U9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9(t,e,r){return e=$9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $9(t){var e=H9(t,"string");return Rl(e)==="symbol"?e:String(e)}function H9(t,e){if(Rl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B9(t){var e=t.numberLocale;return{formatNumber:function(n,i){return V9(Number(i(n)),e)},highlight:function(n,i){try{var a=JSON.parse(n);return i(GF(Yn(Yn({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(KF(Yn(Yn({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(XF(Yn(Yn({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(ZF(Yn(Yn({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),c=a.method,l=a.payload;return i(t9(c,Yn({objectIDs:[this.objectID]},l)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const z9="4.75.6";function Ia(t){"@babel/helpers - typeof";return Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(t)}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){Xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uR(n.key),n)}}function Q9(t,e,r){return e&&G9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bg(t,e)}function bg(t,e){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bg(t,e)}function Y9(t){var e=J9();return function(){var n=pd(t),i;if(e){var a=pd(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return X9(this,i)}}function X9(t,e){if(e&&(Ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qe(t)}function Qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pd(t)}function Xe(t,e,r){return e=uR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uR(t){var e=Z9(t,"string");return Ia(e)==="symbol"?e:String(e)}function Z9(t,e){if(Ia(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ia(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yn=Yl({name:"instantsearch"});function eM(){return"#"}var lR={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},tM=function(t){K9(r,t);var e=Y9(r);function r(n){var i;W9(this,r),i=e.call(this),Xe(Qe(i),"client",void 0),Xe(Qe(i),"indexName",void 0),Xe(Qe(i),"insightsClient",void 0),Xe(Qe(i),"onStateChange",null),Xe(Qe(i),"future",void 0),Xe(Qe(i),"helper",void 0),Xe(Qe(i),"mainHelper",void 0),Xe(Qe(i),"mainIndex",void 0),Xe(Qe(i),"started",void 0),Xe(Qe(i),"templatesConfig",void 0),Xe(Qe(i),"renderState",{}),Xe(Qe(i),"_stalledSearchDelay",void 0),Xe(Qe(i),"_searchStalledTimer",void 0),Xe(Qe(i),"_initialUiState",void 0),Xe(Qe(i),"_initialResults",void 0),Xe(Qe(i),"_createURL",void 0),Xe(Qe(i),"_searchFunction",void 0),Xe(Qe(i),"_mainHelperSearch",void 0),Xe(Qe(i),"_hasSearchWidget",!1),Xe(Qe(i),"_hasRecommendWidget",!1),Xe(Qe(i),"_insights",void 0),Xe(Qe(i),"middleware",[]),Xe(Qe(i),"sendEventToInsights",void 0),Xe(Qe(i),"status","idle"),Xe(Qe(i),"error",void 0),Xe(Qe(i),"scheduleSearch",Du(function(){i.started&&i.mainHelper.search()})),Xe(Qe(i),"scheduleRender",Du(function(){var L,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(L=i.mainHelper)!==null&&L!==void 0&&L.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,M&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Qe(i)}),i.emit("render")})),Xe(Qe(i),"onInternalStateChange",Du(function(){var L=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(M){var D=M.instance;D.onStateChange({uiState:L})})})),i.setMaxListeners(100);var a=n.indexName,c=a===void 0?"":a,l=n.numberLocale,u=n.initialUiState,h=u===void 0?{}:u,g=n.routing,w=g===void 0?null:g,p=n.insights,f=p===void 0?void 0:p,v=n.searchFunction,_=n.stalledSearchDelay,S=_===void 0?200:_,E=n.searchClient,R=E===void 0?null:E,k=n.insightsClient,q=k===void 0?null:k,F=n.onStateChange,V=F===void 0?null:F,C=n.future,b=C===void 0?qp(qp({},lR),n.future||{}):C;if(R===null)throw new Error(yn("The `searchClient` option is required."));if(typeof R.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof R.addAlgoliaAgent=="function"&&R.addAlgoliaAgent("instantsearch.js (".concat(z9,")")),q&&typeof q!="function")throw new Error(yn("The `insightsClient` option should be a function."));if(i.client=R,i.future=b,i.insightsClient=q,i.indexName=c,i.helper=null,i.mainHelper=null,i.mainIndex=LF({indexName:c}),i.onStateChange=V,i.started=!1,i.templatesConfig={helpers:B9({numberLocale:l}),compileOptions:{}},i._stalledSearchDelay=S,i._searchStalledTimer=null,i._createURL=eM,i._initialUiState=h,i._initialResults=null,i._insights=f,v&&(i._searchFunction=v),i.sendEventToInsights=Nr,w){var x=typeof w=="boolean"?{}:w;x.$$internal=!0,i.use(M9(x))}if(f){var N=typeof f=="boolean"?{}:f;N.$$internal=!0,i.use(_P(N))}return w9()&&i.use(_9({$$internal:!0})),i}return Q9(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];var u=c.map(function(h){var g=qp({$$type:"__unknown__",$$internal:!1,subscribe:Nr,started:Nr,unsubscribe:Nr,onStateChange:Nr},h({instantSearchInstance:i}));return i.middleware.push({creator:h,instance:g}),g});return this.started&&u.forEach(function(h){h.subscribe(),h.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return this.middleware.filter(function(l){return a.includes(l.creator)}).forEach(function(l){return l.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(l){return!a.includes(l.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(yn("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(yn("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(yn("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(yn("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(yn("The `start` method has already been called once."));var a=this.mainHelper||qr(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&a.searchOnlyWithDerivedHelpers(),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var c={search:function(){return new Promise(Nr)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),h=qr(c,u.state.index,u.state);return h.once("search",function(g){var w=g.state;u.overrideStateWithoutTriggeringChangeEvent(w),i._mainHelperSearch()}),h.on("change",function(g){var w=g.state;u.setState(w)}),i._searchFunction(h),a}}if(a.on("error",function(u){var h=u.error;if(!(h instanceof Error)){var g=h;h=Object.keys(g).reduce(function(w,p){return w[p]=g[p],w},new Error(g.message))}h.error=h,i.error=h,i.status="error",i.scheduleRender(!1),i.emit("error",h)}),this.mainHelper=a,this.middleware.forEach(function(u){var h=u.instance;h.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){T3(this.client,this._initialResults),g3(this.mainHelper,this._initialResults);var l=this.scheduleSearch;this.scheduleSearch=Du(Nr),Du(function(){i.scheduleSearch=l})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var h=u.instance;h.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(h){var g=h.results;return g==null?void 0:g._automaticInsights});u&&i.use(_P({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var c=a.instance;c.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(yn("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var l=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&c?this.onStateChange({uiState:l,setUiState:function(h){wg(typeof h=="function"?h(l):h,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(wg(l,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(yn("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(yn("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(BF),Np={exports:{}},Dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP;function rM(){if(DP)return Dp;DP=1;var t=rn();function e(w,p){return w===p&&(w!==0||1/w===1/p)||w!==w&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function l(w,p){var f=p(),v=n({inst:{value:f,getSnapshot:p}}),_=v[0].inst,S=v[1];return a(function(){_.value=f,_.getSnapshot=p,u(_)&&S({inst:_})},[w,f,p]),i(function(){return u(_)&&S({inst:_}),w(function(){u(_)&&S({inst:_})})},[w]),c(f),f}function u(w){var p=w.getSnapshot;w=w.value;try{var f=p();return!r(w,f)}catch{return!0}}function h(w,p){return p()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return Dp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Dp}var LP;function nM(){return LP||(LP=1,Np.exports=rM()),Np.exports}var iM=nM(),sM={};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){oM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oM(t,e,r){return e=aM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aM(t){var e=uM(t,"string");return bl(e)==="symbol"?e:String(e)}function uM(t,e){if(bl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MP=["react (".concat(B.version,")"),"react-instantsearch (".concat(gg,")"),"react-instantsearch-core (".concat(gg,")")],VP="react-instantsearch-server (".concat(gg,")"),lM=function(e){return e?"next.js (".concat(e,")"):null};function cM(t){var e=$F(),r=QI(),n=KI(),i=YI(),a=n==null?void 0:n.initialResults,c=B.useRef(t),l=r||a||i,u=B.useRef(null);if(n&&(u=n.ssrSearchRef),u.current===null){var h=new tM(t);h._schedule=function(S){h._schedule.queue.push(S),clearTimeout(h._schedule.timer),h._schedule.timer=setTimeout(function(){h._schedule.queue.forEach(function(E){E()}),h._schedule.queue=[]},0)},h._schedule.queue=[],l&&(h._initialResults=a||{}),UP(t.searchClient,[].concat(MP,[r&&VP,lM(hM())])),l&&h.start(),r&&r.notifyServer({search:h}),t.routing,u.current=h}{var g=u.current,w=c.current;if(w.indexName!==t.indexName&&(g.helper.setIndex(t.indexName||"").search(),c.current=t),w.searchClient!==t.searchClient&&(UP(t.searchClient,[].concat(MP,[r&&VP])),g.mainHelper.setClient(t.searchClient).search(),c.current=t),w.onStateChange!==t.onStateChange&&(g.onStateChange=t.onStateChange,c.current=t),w.searchFunction!==t.searchFunction&&(g._searchFunction=t.searchFunction,c.current=t),w.stalledSearchDelay!==t.stalledSearchDelay){var p;g._stalledSearchDelay=(p=t.stalledSearchDelay)!==null&&p!==void 0?p:200,c.current=t}Ta(w.future,t.future)||(g.future=FP(FP({},lR),t.future),c.current=t)}var f=B.useRef(null),v=iM.useSyncExternalStore(B.useCallback(function(){var _=u.current;return f.current===null?_.started||(_.start(),e()):(clearTimeout(f.current),_._preventWidgetCleanup=!1),function(){function S(){_.dispose()}clearTimeout(_._schedule.timer),f.current=setTimeout(S),_._preventWidgetCleanup=!0}},[e]),function(){return u.current},function(){return u.current});return v}function UP(t,e){typeof t.addAlgoliaAgent=="function"&&e.filter(Boolean).forEach(function(r){t.addAlgoliaAgent(r)})}function hM(){var t,e;return typeof window<"u"&&((t=window.next)===null||t===void 0?void 0:t.version)||(typeof process<"u"?(e=sM)===null||e===void 0?void 0:e.NEXT_RUNTIME:void 0)}var dM=["children"];function fM(t,e){if(t==null)return{};var r=mM(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mM(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function pM(t){var e=t.children,r=fM(t,dM),n=cM(r);return n.started?pe.createElement(WI.Provider,{value:n},pe.createElement(BI.Provider,{value:n.mainIndex},e)):null}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){cR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cR(t,e,r){return e=gM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gM(t){var e=yM(t,"string");return Cl(e)==="symbol"?e:String(e)}function yM(t,e){if(Cl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vM=Yl({name:"hits",connector:!0});const wM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nr;return jy(e,vM()),function(n){var i=n||{},a=i.escapeHTML,c=a===void 0?!0:a,l=i.transformItems,u=l===void 0?function(w){return w}:l,h,g;return{$$type:"ais.hits",init:function(p){e($i($i({},this.getWidgetRenderState(p)),{},{instantSearchInstance:p.instantSearchInstance}),!0)},render:function(p){var f=this.getWidgetRenderState(p);e($i($i({},f),{},{instantSearchInstance:p.instantSearchInstance}),!1),f.sendEvent("view:internal",f.items)},getRenderState:function(p,f){return $i($i({},p),{},{hits:this.getWidgetRenderState(f)})},getWidgetRenderState:function(p){var f,v,_,S=p.results,E=p.helper,R=p.instantSearchInstance;if(h||(h=Xj({instantSearchInstance:R,getIndex:function(){return E.getIndex()},widgetType:this.$$type})),g||(g=Jj({getIndex:function(){return E.getIndex()},widgetType:this.$$type,instantSearchInstance:R})),!S)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:h,bindEvent:g,widgetParams:n};c&&S.hits.length>0&&(S.hits=Uj(S.hits));var k=u3(S.hits,S.page,S.hitsPerPage),q=d3(k,S.queryID),F=u(q,{results:S}),V=(f=S.renderingContent)===null||f===void 0||(v=f.widgets)===null||v===void 0||(_=v.banners)===null||_===void 0?void 0:_[0];return{hits:F,items:F,results:S,banner:V,sendEvent:h,bindEvent:g,widgetParams:n}},dispose:function(p){var f=p.state;return r(),c?f.setQueryParameters(Object.keys(fd).reduce(function(v,_){return $i($i({},v),{},cR({},_,void 0))},{})):f},getWidgetSearchParameters:function(p,f){return c?p.setQueryParameters(fd):p}}}};function _M(t,e){return My(wM,t,e)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function PM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hR(n.key),n)}}function SM(t,e,r){return e&&EM(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lp(t,e,r){return e=hR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hR(t){var e=TM(t,"string");return Al(e)==="symbol"?e:String(e)}function TM(t,e){if(Al(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Al(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IM=function(){function t(e){PM(this,t),Lp(this,"currentPage",void 0),Lp(this,"total",void 0),Lp(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}return SM(t,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return rP({end:r});var c=this.calculatePaddingLeft(n,i,r,a),l=a-c,u=n-c,h=n+l;return rP({start:u,end:h})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),t}();function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){RM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RM(t,e,r){return e=bM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bM(t){var e=CM(t,"string");return xl(e)==="symbol"?e:String(e)}function CM(t,e){if(xl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AM=Yl({name:"pagination",connector:!0}),xM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nr;return jy(e,AM()),function(n){var i=n||{},a=i.totalPages,c=i.padding,l=c===void 0?3:c,u=new IM({currentPage:0,total:0,padding:l}),h={};function g(w){var p=w.nbPages;return a!==void 0?Math.min(a,p):p}return{$$type:"ais.pagination",init:function(p){var f=p.instantSearchInstance;e(vn(vn({},this.getWidgetRenderState(p)),{},{instantSearchInstance:f}),!0)},render:function(p){var f=p.instantSearchInstance;e(vn(vn({},this.getWidgetRenderState(p)),{},{instantSearchInstance:f}),!1)},dispose:function(p){var f=p.state;return r(),f.setQueryParameter("page",void 0)},getWidgetUiState:function(p,f){var v=f.searchParameters,_=v.page||0;return _?vn(vn({},p),{},{page:_+1}):p},getWidgetSearchParameters:function(p,f){var v=f.uiState,_=v.page?v.page-1:0;return p.setQueryParameter("page",_)},getWidgetRenderState:function(p){var f=p.results,v=p.helper,_=p.state,S=p.createURL;h.refine||(h.refine=function(k){v.setPage(k),v.search()}),h.createURL||(h.createURL=function(k){return S(function(q){return vn(vn({},q),{},{page:k+1})})});var E=_.page||0,R=g(f||{nbPages:0});return u.currentPage=E,u.total=R,{createURL:h.createURL,refine:h.refine,canRefine:R>1,currentRefinement:E,nbHits:(f==null?void 0:f.nbHits)||0,nbPages:R,pages:f?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(p,f){return vn(vn({},p),{},{pagination:this.getWidgetRenderState(f)})}}}};function kM(t,e){return My(xM,t,e)}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){OM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OM(t,e,r){return e=qM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qM(t){var e=NM(t,"string");return kl(e)==="symbol"?e:String(e)}function NM(t,e){if(kl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DM=Yl({name:"search-box",connector:!0}),LM=function(e,r){return r(e)},jM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nr;return jy(e,DM()),function(n){var i=n||{},a=i.queryHook,c=a===void 0?LM:a,l,u;return{$$type:"ais.searchBox",init:function(g){var w=g.instantSearchInstance;e(Hi(Hi({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!0)},render:function(g){var w=g.instantSearchInstance;e(Hi(Hi({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!1)},dispose:function(g){var w=g.state;return r(),w.setQueryParameter("query",void 0)},getRenderState:function(g,w){return Hi(Hi({},g),{},{searchBox:this.getWidgetRenderState(w)})},getWidgetRenderState:function(g){var w=g.helper,p=g.instantSearchInstance,f=g.state;return l||(l=function(_){c(_,function(S){return w.setQuery(S).search()})},u=function(){w.setQuery("").search()}),{query:f.query||"",refine:l,clear:u,widgetParams:n,isSearchStalled:p.status==="stalled"}},getWidgetUiState:function(g,w){var p=w.searchParameters,f=p.query||"";return f===""||g&&g.query===f?g:Hi(Hi({},g),{},{query:f})},getWidgetSearchParameters:function(g,w){var p=w.uiState;return g.setQueryParameter("query",p.query||"")}}}};function FM(t,e){return My(jM,t,e)}function dR(t,e){if(t==null)return{};var r,n,i=LC(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(function(n,i){return Array.isArray(i)?n.concat(i):n.concat([i])},[]).filter(Boolean).join(" ")}var MM=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function VM(t){var e=t.createElement;return function(n){var i=n.classNames,a=n.children,c=n.highlightedTagName,l=n.isHighlighted,u=n.nonHighlightedTagName,h=l?c:u;return e(h,{className:l?i.highlighted:i.nonHighlighted},a)}}function UM(t){var e=t.createElement,r=t.Fragment,n=VM({createElement:e,Fragment:r});return function(a){var c=a.parts,l=a.highlightedTagName,u=l===void 0?"mark":l,h=a.nonHighlightedTagName,g=h===void 0?"span":h,w=a.separator,p=w===void 0?", ":w,f=a.className,v=a.classNames,_=v===void 0?{}:v,S=dR(a,MM);return e("span",Gh({},S,{className:Fe(_.root,f)}),c.map(function(E,R){var k=R===c.length-1;return e(r,{key:R},E.map(function(q,F){return e(n,{key:F,classNames:_,highlightedTagName:u,nonHighlightedTagName:g,isHighlighted:q.isHighlighted},q.value)}),!k&&e("span",{className:_.separator},p))}))}}var $M=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function HM(t){var e=t.createElement;return function(n){var i=n.classNames,a=n.banner;return a.image.urls[0].url?e("aside",{className:Fe("ais-Hits-banner",i.bannerRoot)},a.link?e("a",{className:Fe("ais-Hits-banner-link",i.bannerLink),href:a.link.url,target:a.link.target},e("img",{className:Fe("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):e("img",{className:Fe("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):null}}function BM(t){var e=t.createElement,r=t.Fragment,n=HM({createElement:e,Fragment:r});return function(a){var c=a.classNames,l=c===void 0?{}:c,u=a.hits,h=a.itemComponent,g=a.sendEvent,w=a.emptyComponent,p=a.banner,f=a.bannerComponent,v=dR(a,$M);return e("div",Gh({},v,{className:Fe("ais-Hits",l.root,u.length===0&&Fe("ais-Hits--empty",l.emptyRoot),v.className)}),p&&(f?e(f,{className:Fe("ais-Hits-banner",l.bannerRoot),banner:p}):e(n,{classNames:l,banner:p})),u.length===0&&w?e(w,null):e("ol",{className:Fe("ais-Hits-list",l.list)},u.map(function(_,S){return e(h,{key:_.objectID,hit:_,index:S,className:Fe("ais-Hits-item",l.item),onClick:function(){g("click:internal",_,"Hit Clicked")},onAuxClick:function(){g("click:internal",_,"Hit Clicked")}})})))}}function zM(t){var e=t.button===1;return!!(e||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}var WM=UM({createElement:B.createElement,Fragment:B.Fragment}),GM=["classNames"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cg.apply(this,arguments)}function QM(t,e){if(t==null)return{};var r=KM(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KM(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function YM(t){var e=t.classNames,r=e===void 0?{}:e,n=QM(t,GM);return pe.createElement(WM,Cg({classNames:{root:Fe("ais-Highlight",r.root),highlighted:Fe("ais-Highlight-highlighted",r.highlighted),nonHighlighted:Fe("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:Fe("ais-Highlight-separator",r.separator)}},n))}var XM=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function JM(t,e){if(t==null)return{};var r=ZM(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZM(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jp(t){var e=t.hit,r=t.attribute,n=t.highlightedTagName,i=t.nonHighlightedTagName,a=t.separator,c=JM(t,XM),l=Xl(e._highlightResult,r)||[],u=Array.isArray(l)?l:[l],h=u.map(function(g){return Fy(LI(g.value||""))});return pe.createElement(YM,Ag({},c,{parts:h,highlightedTagName:n,nonHighlightedTagName:i,separator:a}))}var e6=["escapeHTML","transformItems","hitComponent","bannerComponent"],t6=["hit","index"];function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function zP(t,e){if(t==null)return{};var r=r6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function n6(t){var e=t.hit;return pe.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"")}var i6=BM({createElement:B.createElement,Fragment:B.Fragment});function s6(t){var e=t.escapeHTML,r=t.transformItems,n=t.hitComponent,i=n===void 0?n6:n,a=t.bannerComponent,c=zP(t,e6),l=_M({escapeHTML:e,transformItems:r},{$$widgetType:"ais.hits"}),u=l.hits,h=l.banner,g=l.sendEvent,w=B.useMemo(function(){return function(v){var _=v.hit;v.index;var S=zP(v,t6);return pe.createElement("li",gd({key:_.objectID},S),pe.createElement(i,{hit:_,sendEvent:g}))}},[i,g]),p=a===!1?function(){return null}:a,f={hits:u,sendEvent:g,itemComponent:w,banner:h,bannerComponent:p};return pe.createElement(i6,gd({},c,f))}var o6=["pages","currentPage","nbPages","isFirstPage","isLastPage","showFirst","showPrevious","showNext","showLast","createURL","onNavigate","translations","classNames"],a6=["isDisabled","className","classNames","href","onClick"];function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ol.apply(this,arguments)}function fR(t,e){if(t==null)return{};var r=u6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function l6(t){var e=t.pages,r=t.currentPage,n=t.nbPages,i=t.isFirstPage,a=t.isLastPage,c=t.showFirst,l=c===void 0?!0:c,u=t.showPrevious,h=u===void 0?!0:u,g=t.showNext,w=g===void 0?!0:g,p=t.showLast,f=p===void 0?!0:p,v=t.createURL,_=t.onNavigate,S=t.translations,E=t.classNames,R=E===void 0?{}:E,k=fR(t,o6),q=0,F=r-1,V=r+1,C=n-1;return pe.createElement("div",Ol({},k,{className:Fe("ais-Pagination",R.root,n<=1&&Fe("ais-Pagination--noRefinement",R.noRefinementRoot),k.className)}),pe.createElement("ul",{className:Fe("ais-Pagination-list",R.list)},l&&pe.createElement(Vu,{isDisabled:i,className:Fe("ais-Pagination-item--firstPage",R.firstPageItem),classNames:R,"aria-label":S.firstPageItemAriaLabel,href:v(q),onClick:function(){return _(q)}},S.firstPageItemText),h&&pe.createElement(Vu,{isDisabled:i,className:Fe("ais-Pagination-item--previousPage",R.previousPageItem),classNames:R,"aria-label":S.previousPageItemAriaLabel,href:v(F),onClick:function(){return _(F)}},S.previousPageItemText),e.map(function(b){return pe.createElement(Vu,{key:b,isDisabled:!1,className:Fe("ais-Pagination-item--page",R.pageItem,b===r&&Fe("ais-Pagination-item--selected",R.selectedItem)),classNames:R,"aria-label":S.pageItemAriaLabel({currentPage:b+1,nbPages:n}),href:v(b),onClick:function(){return _(b)}},S.pageItemText({currentPage:b+1,nbPages:n}))}),w&&pe.createElement(Vu,{isDisabled:a,className:Fe("ais-Pagination-item--nextPage",R.nextPageItem),classNames:R,"aria-label":S.nextPageItemAriaLabel,href:v(V),onClick:function(){return _(V)}},S.nextPageItemText),f&&pe.createElement(Vu,{isDisabled:a,className:Fe("ais-Pagination-item--lastPage",R.lastPageItem),classNames:R,"aria-label":S.lastPageItemAriaLabel,href:v(C),onClick:function(){return _(C)}},S.lastPageItemText)))}function Vu(t){var e=t.isDisabled,r=t.className,n=t.classNames,i=t.href,a=t.onClick,c=fR(t,a6);return e?pe.createElement("li",{className:Fe("ais-Pagination-item",n.item,"ais-Pagination-item--disabled",n.disabledItem,r)},pe.createElement("span",Ol({className:Fe("ais-Pagination-link",n.link)},c))):pe.createElement("li",{className:Fe("ais-Pagination-item",n.item,r)},pe.createElement("a",Ol({className:Fe("ais-Pagination-link",n.link),href:i,onClick:function(u){zM(u)||(u.preventDefault(),a(u))}},c)))}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var c6=["showFirst","showPrevious","showNext","showLast","padding","totalPages","translations"];function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){d6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d6(t,e,r){return e=f6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f6(t){var e=m6(t,"string");return ql(e)==="symbol"?e:String(e)}function m6(t,e){if(ql(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ql(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t,e){if(t==null)return{};var r=g6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function y6(t){var e=t.showFirst,r=t.showPrevious,n=t.showNext,i=t.showLast,a=t.padding,c=t.totalPages,l=t.translations,u=p6(t,c6),h=kM({padding:a,totalPages:c},{$$widgetType:"ais.pagination"}),g=h.pages,w=h.currentRefinement,p=h.isFirstPage,f=h.isLastPage,v=h.nbPages,_=h.createURL,S=h.refine,E={pages:g,currentPage:w,isFirstPage:p,isLastPage:f,nbPages:v,createURL:_,onNavigate:S,translations:h6({firstPageItemText:"",previousPageItemText:"",nextPageItemText:"",lastPageItemText:"",pageItemText:function(k){var q=k.currentPage;return String(q)},firstPageItemAriaLabel:"First Page",previousPageItemAriaLabel:"Previous Page",nextPageItemAriaLabel:"Next Page",lastPageItemAriaLabel:"Last Page, Page ".concat(v),pageItemAriaLabel:function(k){var q=k.currentPage;return"Page ".concat(q)}},l)};return pe.createElement(l6,xg({},u,E,{showFirst:e,showPrevious:r,showNext:n,showLast:i}))}var v6=["formRef","inputRef","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"];function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kg.apply(this,arguments)}function w6(t,e){if(t==null)return{};var r=_6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var P6=pe.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function E6(t){var e=t.classNames;return pe.createElement("svg",{className:Fe("ais-SearchBox-submitIcon",e.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},P6)}var S6=pe.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function T6(t){var e=t.classNames;return pe.createElement("svg",{className:Fe("ais-SearchBox-resetIcon",e.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},S6)}var I6=pe.createElement("g",{fill:"none",fillRule:"evenodd"},pe.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},pe.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),pe.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},pe.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function R6(t){var e=t.classNames;return pe.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:Fe("ais-SearchBox-loadingIcon",e.loadingIcon),"aria-hidden":"true"},I6)}function b6(t){var e=t.formRef,r=t.inputRef,n=t.isSearchStalled,i=t.onChange,a=t.onReset,c=t.onSubmit,l=t.placeholder,u=l===void 0?"":l,h=t.value,g=t.autoFocus,w=t.resetIconComponent,p=w===void 0?T6:w,f=t.submitIconComponent,v=f===void 0?E6:f,_=t.loadingIconComponent,S=_===void 0?R6:_,E=t.classNames,R=E===void 0?{}:E,k=t.translations,q=w6(t,v6);function F(C){C.preventDefault(),C.stopPropagation(),c&&c(C),r.current&&r.current.blur()}function V(C){C.preventDefault(),C.stopPropagation(),a(C),r.current&&r.current.focus()}return pe.createElement("div",kg({},q,{className:Fe("ais-SearchBox",R.root,q.className)}),pe.createElement("form",{ref:e,action:"",className:Fe("ais-SearchBox-form",R.form),noValidate:!0,onSubmit:F,onReset:V,role:"search"},pe.createElement("input",{ref:r,className:Fe("ais-SearchBox-input",R.input),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:u,spellCheck:!1,maxLength:512,type:"search",value:h,onChange:i,onCompositionEnd:i,autoFocus:g}),pe.createElement("button",{className:Fe("ais-SearchBox-submit",R.submit),type:"submit",title:k.submitButtonTitle},pe.createElement(v,{classNames:R})),pe.createElement("button",{className:Fe("ais-SearchBox-reset",R.reset),type:"reset",title:k.resetButtonTitle,hidden:h.length===0||n},pe.createElement(p,{classNames:R})),pe.createElement("span",{className:Fe("ais-SearchBox-loadingIndicator",R.loadingIndicator),hidden:!n},pe.createElement(S,{classNames:R}))))}function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}var C6=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Og.apply(this,arguments)}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){x6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x6(t,e,r){return e=k6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6(t){var e=O6(t,"string");return Nl(e)==="symbol"?e:String(e)}function O6(t,e){if(Nl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q6(t,e){return j6(t)||L6(t,e)||D6(t,e)||N6()}function N6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(t,e){if(t){if(typeof t=="string")return QP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(t,e)}}function QP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L6(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,c,l=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(g){h=!0,i=g}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return l}}function j6(t){if(Array.isArray(t))return t}function F6(t,e){if(t==null)return{};var r=M6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function V6(t){var e=t.queryHook,r=t.searchAsYouType,n=r===void 0?!0:r,i=t.ignoreCompositionEvents,a=i===void 0?!1:i,c=t.translations,l=F6(t,C6),u=FM({queryHook:e},{$$widgetType:"ais.searchBox"}),h=u.query,g=u.refine,w=u.isSearchStalled,p=B.useState(h),f=q6(p,2),v=f[0],_=f[1],S=B.useRef(null);function E(V){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;_(V),n&&!(a&&C)&&g(V)}function R(){E(""),n||g("")}function k(V){E(V.currentTarget.value,V.nativeEvent.isComposing)}function q(V){n||g(v),l.onSubmit&&l.onSubmit(V)}h!==v&&document.activeElement!==S.current&&_(h);var F={inputRef:S,isSearchStalled:w,onChange:k,onReset:R,onSubmit:q,value:v,translations:A6({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},c)};return pe.createElement(b6,Og({},l,F))}function ci(){function t(e){return new Promise(r=>{let n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(l=>n.setRequestHeader(l,e.headers[l]));let i=(l,u)=>setTimeout(()=>{n.abort(),r({status:0,content:u,isTimedOut:!0})},l),a=i(e.connectTimeout,"Connection timeout"),c;n.onreadystatechange=()=>{n.readyState>n.OPENED&&c===void 0&&(clearTimeout(a),c=i(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{n.status===0&&(clearTimeout(a),clearTimeout(c),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(a),clearTimeout(c),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}return{send:t}}function hi(t){let e;const r=`algolia-client-js-${t.key}`;function n(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function i(){return JSON.parse(n().getItem(r)||"{}")}function a(l){n().setItem(r,JSON.stringify(l))}function c(){const l=t.timeToLive?t.timeToLive*1e3:null,u=i(),h=Object.fromEntries(Object.entries(u).filter(([,w])=>w.timestamp!==void 0));if(a(h),!l)return;const g=Object.fromEntries(Object.entries(h).filter(([,w])=>{const p=new Date().getTime();return!(w.timestamp+l<p)}));a(g)}return{get(l,u,h={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(c(),i()[JSON.stringify(l)])).then(g=>Promise.all([g?g.value:u(),g!==void 0])).then(([g,w])=>Promise.all([g,w||h.miss(g)])).then(([g])=>g)},set(l,u){return Promise.resolve().then(()=>{const h=i();return h[JSON.stringify(l)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(h)),u})},delete(l){return Promise.resolve().then(()=>{const u=i();delete u[JSON.stringify(l)],n().setItem(r,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{n().removeItem(r)})}}}function U6(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(i=>Promise.all([i,r.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function _r(t){const e=[...t.caches],r=e.shift();return r===void 0?U6():{get(n,i,a={miss:()=>Promise.resolve()}){return r.get(n,i,a).catch(()=>_r({caches:e}).get(n,i,a))},set(n,i){return r.set(n,i).catch(()=>_r({caches:e}).set(n,i))},delete(n){return r.delete(n).catch(()=>_r({caches:e}).delete(n))},clear(){return r.clear().catch(()=>_r({caches:e}).clear())}}}function Ze(t={serializable:!0}){let e={};return{get(r,n,i={miss:()=>Promise.resolve()}){const a=JSON.stringify(r);if(a in e)return Promise.resolve(t.serializable?JSON.parse(e[a]):e[a]);const c=n();return c.then(l=>i.miss(l)).then(()=>c)},set(r,n){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function $6(t){const e={value:`Algolia for JavaScript (${t})`,add(r){const n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return e.value.indexOf(n)===-1&&(e.value=`${e.value}${n}`),e}};return e}function di(t,e,r="WithinHeaders"){const n={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return r==="WithinHeaders"?n:{}},queryParameters(){return r==="WithinQueryParameters"?n:{}}}}function Ms({func:t,validate:e,aggregator:r,error:n,timeout:i=()=>0}){const a=c=>new Promise((l,u)=>{t(c).then(async h=>(r&&await r(h),await e(h)?l(h):n&&await n.validate(h)?u(new Error(await n.message(h))):setTimeout(()=>{a(h).then(l).catch(u)},await i()))).catch(h=>{u(h)})});return a()}function fi({algoliaAgents:t,client:e,version:r}){const n=$6(r).add({segment:e,version:r});return t.forEach(i=>n.add(i)),n}function mi(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var KP=2*60*1e3;function YP(t,e="up"){const r=Date.now();function n(){return e==="up"||Date.now()-r>KP}function i(){return e==="timed out"&&Date.now()-r<=KP}return{...t,status:e,lastUpdate:r,isUp:n,isTimedOut:i}}var mR=class extends Error{constructor(e,r){super(e);ra(this,"name","AlgoliaError");r&&(this.name=r)}},pR=class extends mR{constructor(e,r,n){super(e,n);ra(this,"stackTrace");this.stackTrace=r}},H6=class extends pR{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},yd=class extends pR{constructor(e,r,n,i="ApiError"){super(e,n,i);ra(this,"status");this.status=r}},B6=class extends mR{constructor(e,r){super(e,"DeserializationError");ra(this,"response");this.response=r}},z6=class extends yd{constructor(e,r,n,i){super(e,r,i,"DetailedApiError");ra(this,"error");this.error=n}};function gR(t){const e=t;for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1)),i=t[r];e[r]=t[n],e[n]=i}return e}function W6(t,e,r){const n=G6(r);let i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return n.length&&(i+=`?${n}`),i}function G6(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function Q6(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function K6(t,e,r){const n={Accept:"application/json",...t,...e,...r},i={};return Object.keys(n).forEach(a=>{const c=n[a];i[a.toLowerCase()]=c}),i}function Y6(t){try{return JSON.parse(t.content)}catch(e){throw new B6(e.message,t)}}function X6({content:t,status:e},r){try{const n=JSON.parse(t);return"error"in n?new z6(n.message,e,n.error,r):new yd(n.message,e,r)}catch{}return new yd(t,e,r)}function J6({isTimedOut:t,status:e}){return!t&&~~e===0}function Z6({isTimedOut:t,status:e}){return t||J6({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function eV({status:t}){return~~(t/100)===2}function tV(t){return t.map(e=>yR(e))}function yR(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function pi({hosts:t,hostsCache:e,baseHeaders:r,logger:n,baseQueryParameters:i,algoliaAgent:a,timeouts:c,requester:l,requestsCache:u,responsesCache:h}){async function g(f){const v=await Promise.all(f.map(k=>e.get(k,()=>Promise.resolve(YP(k))))),_=v.filter(k=>k.isUp()),S=v.filter(k=>k.isTimedOut()),E=[..._,...S];return{hosts:E.length>0?E:f,getTimeout(k,q){return(S.length===0&&k===0?1:S.length+3+k)*q}}}async function w(f,v,_=!0){const S=[],E=Q6(f,v),R=K6(r,f.headers,v.headers),k=f.method==="GET"?{...f.data,...v.data}:{},q={...i,...f.queryParameters,...k};if(a.value&&(q["x-algolia-agent"]=a.value),v&&v.queryParameters)for(const x of Object.keys(v.queryParameters))!v.queryParameters[x]||Object.prototype.toString.call(v.queryParameters[x])==="[object Object]"?q[x]=v.queryParameters[x]:q[x]=v.queryParameters[x].toString();let F=0;const V=async(x,N)=>{const L=x.pop();if(L===void 0)throw new H6(tV(S));const M={...c,...v.timeouts},D={data:E,headers:R,method:f.method,url:W6(L,f.path,q),connectTimeout:N(F,M.connect),responseTimeout:N(F,_?M.read:M.write)},de=Te=>{const ce={request:D,response:Te,host:L,triesLeft:x.length};return S.push(ce),ce},fe=await l.send(D);if(Z6(fe)){const Te=de(fe);return fe.isTimedOut&&F++,n.info("Retryable failure",yR(Te)),await e.set(L,YP(L,fe.isTimedOut?"timed out":"down")),V(x,N)}if(eV(fe))return Y6(fe);throw de(fe),X6(fe,S)},C=t.filter(x=>x.accept==="readWrite"||(_?x.accept==="read":x.accept==="write")),b=await g(C);return V([...b.hosts].reverse(),b.getTimeout)}function p(f,v={}){const _=f.useReadTransporter||f.method==="GET";if(!_)return w(f,v,_);const S=()=>w(f,v);if((v.cacheable||f.cacheable)!==!0)return S();const R={request:f,requestOptions:v,transporter:{queryParameters:i,headers:r}};return h.get(R,()=>u.get(R,()=>u.set(R,S()).then(k=>Promise.all([u.delete(R),k]),k=>Promise.all([u.delete(R),Promise.reject(k)])).then(([k,q])=>q)),{miss:k=>h.set(R,k)})}return{hostsCache:e,requester:l,timeouts:c,logger:n,algoliaAgent:a,baseHeaders:r,baseQueryParameters:i,hosts:t,request:p,requestsCache:u,responsesCache:h}}var Uy="5.18.0",XP=["de","us"];function rV(t){return[{url:t?"analytics.{region}.algolia.com".replace("{region}",t):"analytics.algolia.com",accept:"readWrite",protocol:"https"}]}function nV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:rV(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"Abtesting",version:Uy}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},addABTests(u,h){if(!u)throw new Error("Parameter `addABTestsRequest` is required when calling `addABTests`.");if(!u.name)throw new Error("Parameter `addABTestsRequest.name` is required when calling `addABTests`.");if(!u.variants)throw new Error("Parameter `addABTestsRequest.variants` is required when calling `addABTests`.");if(!u.endAt)throw new Error("Parameter `addABTestsRequest.endAt` is required when calling `addABTests`.");const f={method:"POST",path:"/2/abtests",queryParameters:{},headers:{},data:u};return l.request(f,h)},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},deleteABTest({id:u},h){if(!u)throw new Error("Parameter `id` is required when calling `deleteABTest`.");const f={method:"DELETE",path:"/2/abtests/{id}".replace("{id}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},estimateABTest(u,h){if(!u)throw new Error("Parameter `estimateABTestRequest` is required when calling `estimateABTest`.");if(!u.configuration)throw new Error("Parameter `estimateABTestRequest.configuration` is required when calling `estimateABTest`.");if(!u.variants)throw new Error("Parameter `estimateABTestRequest.variants` is required when calling `estimateABTest`.");const f={method:"POST",path:"/2/abtests/estimate",queryParameters:{},headers:{},data:u};return l.request(f,h)},getABTest({id:u},h){if(!u)throw new Error("Parameter `id` is required when calling `getABTest`.");const f={method:"GET",path:"/2/abtests/{id}".replace("{id}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},listABTests({offset:u,limit:h,indexPrefix:g,indexSuffix:w}={},p=void 0){const f="/2/abtests",v={},_={};u!==void 0&&(_.offset=u.toString()),h!==void 0&&(_.limit=h.toString()),g!==void 0&&(_.indexPrefix=g.toString()),w!==void 0&&(_.indexSuffix=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},scheduleABTest(u,h){if(!u)throw new Error("Parameter `scheduleABTestsRequest` is required when calling `scheduleABTest`.");if(!u.name)throw new Error("Parameter `scheduleABTestsRequest.name` is required when calling `scheduleABTest`.");if(!u.variants)throw new Error("Parameter `scheduleABTestsRequest.variants` is required when calling `scheduleABTest`.");if(!u.scheduledAt)throw new Error("Parameter `scheduleABTestsRequest.scheduledAt` is required when calling `scheduleABTest`.");if(!u.endAt)throw new Error("Parameter `scheduleABTestsRequest.endAt` is required when calling `scheduleABTest`.");const f={method:"POST",path:"/2/abtests/schedule",queryParameters:{},headers:{},data:u};return l.request(f,h)},stopABTest({id:u},h){if(!u)throw new Error("Parameter `id` is required when calling `stopABTest`.");const f={method:"POST",path:"/2/abtests/{id}/stop".replace("{id}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)}}}function vR(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(r&&(typeof r!="string"||!XP.includes(r)))throw new Error(`\`region\` must be one of the following: ${XP.join(", ")}`);return nV({appId:t,apiKey:e,region:r,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Uy}-${t}`}),Ze()]}),...n})}const iV=Object.freeze(Object.defineProperty({__proto__:null,abtestingClient:vR,apiClientVersion:Uy},Symbol.toStringTag,{value:"Module"}));var $y="5.18.0",JP=["de","us"];function sV(t){return[{url:t?"analytics.{region}.algolia.com".replace("{region}",t):"analytics.algolia.com",accept:"readWrite",protocol:"https"}]}function oV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:sV(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"Analytics",version:$y}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},getAddToCartRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getAddToCartRate`.");const f="/2/conversions/addToCartRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getAverageClickPosition({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getAverageClickPosition`.");const f="/2/clicks/averageClickPosition",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getClickPositions({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getClickPositions`.");const f="/2/clicks/positions",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getClickThroughRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getClickThroughRate`.");const f="/2/clicks/clickThroughRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getConversionRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getConversionRate`.");const f="/2/conversions/conversionRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getNoClickRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getNoClickRate`.");const f="/2/searches/noClickRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getNoResultsRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getNoResultsRate`.");const f="/2/searches/noResultRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getPurchaseRate({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getPurchaseRate`.");const f="/2/conversions/purchaseRate",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getRevenue({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getRevenue`.");const f="/2/conversions/revenue",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getSearchesCount({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getSearchesCount`.");const f="/2/searches/count",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},getSearchesNoClicks({index:u,startDate:h,endDate:g,limit:w,offset:p,tags:f},v){if(!u)throw new Error("Parameter `index` is required when calling `getSearchesNoClicks`.");const _="/2/searches/noClicks",S={},E={};u!==void 0&&(E.index=u.toString()),h!==void 0&&(E.startDate=h.toString()),g!==void 0&&(E.endDate=g.toString()),w!==void 0&&(E.limit=w.toString()),p!==void 0&&(E.offset=p.toString()),f!==void 0&&(E.tags=f.toString());const R={method:"GET",path:_,queryParameters:E,headers:S};return l.request(R,v)},getSearchesNoResults({index:u,startDate:h,endDate:g,limit:w,offset:p,tags:f},v){if(!u)throw new Error("Parameter `index` is required when calling `getSearchesNoResults`.");const _="/2/searches/noResults",S={},E={};u!==void 0&&(E.index=u.toString()),h!==void 0&&(E.startDate=h.toString()),g!==void 0&&(E.endDate=g.toString()),w!==void 0&&(E.limit=w.toString()),p!==void 0&&(E.offset=p.toString()),f!==void 0&&(E.tags=f.toString());const R={method:"GET",path:_,queryParameters:E,headers:S};return l.request(R,v)},getStatus({index:u},h){if(!u)throw new Error("Parameter `index` is required when calling `getStatus`.");const g="/2/status",w={},p={};u!==void 0&&(p.index=u.toString());const f={method:"GET",path:g,queryParameters:p,headers:w};return l.request(f,h)},getTopCountries({index:u,startDate:h,endDate:g,limit:w,offset:p,tags:f},v){if(!u)throw new Error("Parameter `index` is required when calling `getTopCountries`.");const _="/2/countries",S={},E={};u!==void 0&&(E.index=u.toString()),h!==void 0&&(E.startDate=h.toString()),g!==void 0&&(E.endDate=g.toString()),w!==void 0&&(E.limit=w.toString()),p!==void 0&&(E.offset=p.toString()),f!==void 0&&(E.tags=f.toString());const R={method:"GET",path:_,queryParameters:E,headers:S};return l.request(R,v)},getTopFilterAttributes({index:u,search:h,startDate:g,endDate:w,limit:p,offset:f,tags:v},_){if(!u)throw new Error("Parameter `index` is required when calling `getTopFilterAttributes`.");const S="/2/filters",E={},R={};u!==void 0&&(R.index=u.toString()),h!==void 0&&(R.search=h.toString()),g!==void 0&&(R.startDate=g.toString()),w!==void 0&&(R.endDate=w.toString()),p!==void 0&&(R.limit=p.toString()),f!==void 0&&(R.offset=f.toString()),v!==void 0&&(R.tags=v.toString());const k={method:"GET",path:S,queryParameters:R,headers:E};return l.request(k,_)},getTopFilterForAttribute({attribute:u,index:h,search:g,startDate:w,endDate:p,limit:f,offset:v,tags:_},S){if(!u)throw new Error("Parameter `attribute` is required when calling `getTopFilterForAttribute`.");if(!h)throw new Error("Parameter `index` is required when calling `getTopFilterForAttribute`.");const E="/2/filters/{attribute}".replace("{attribute}",encodeURIComponent(u)),R={},k={};h!==void 0&&(k.index=h.toString()),g!==void 0&&(k.search=g.toString()),w!==void 0&&(k.startDate=w.toString()),p!==void 0&&(k.endDate=p.toString()),f!==void 0&&(k.limit=f.toString()),v!==void 0&&(k.offset=v.toString()),_!==void 0&&(k.tags=_.toString());const q={method:"GET",path:E,queryParameters:k,headers:R};return l.request(q,S)},getTopFiltersNoResults({index:u,search:h,startDate:g,endDate:w,limit:p,offset:f,tags:v},_){if(!u)throw new Error("Parameter `index` is required when calling `getTopFiltersNoResults`.");const S="/2/filters/noResults",E={},R={};u!==void 0&&(R.index=u.toString()),h!==void 0&&(R.search=h.toString()),g!==void 0&&(R.startDate=g.toString()),w!==void 0&&(R.endDate=w.toString()),p!==void 0&&(R.limit=p.toString()),f!==void 0&&(R.offset=f.toString()),v!==void 0&&(R.tags=v.toString());const k={method:"GET",path:S,queryParameters:R,headers:E};return l.request(k,_)},getTopHits({index:u,search:h,clickAnalytics:g,revenueAnalytics:w,startDate:p,endDate:f,limit:v,offset:_,tags:S},E){if(!u)throw new Error("Parameter `index` is required when calling `getTopHits`.");const R="/2/hits",k={},q={};u!==void 0&&(q.index=u.toString()),h!==void 0&&(q.search=h.toString()),g!==void 0&&(q.clickAnalytics=g.toString()),w!==void 0&&(q.revenueAnalytics=w.toString()),p!==void 0&&(q.startDate=p.toString()),f!==void 0&&(q.endDate=f.toString()),v!==void 0&&(q.limit=v.toString()),_!==void 0&&(q.offset=_.toString()),S!==void 0&&(q.tags=S.toString());const F={method:"GET",path:R,queryParameters:q,headers:k};return l.request(F,E)},getTopSearches({index:u,clickAnalytics:h,revenueAnalytics:g,startDate:w,endDate:p,orderBy:f,direction:v,limit:_,offset:S,tags:E},R){if(!u)throw new Error("Parameter `index` is required when calling `getTopSearches`.");const k="/2/searches",q={},F={};u!==void 0&&(F.index=u.toString()),h!==void 0&&(F.clickAnalytics=h.toString()),g!==void 0&&(F.revenueAnalytics=g.toString()),w!==void 0&&(F.startDate=w.toString()),p!==void 0&&(F.endDate=p.toString()),f!==void 0&&(F.orderBy=f.toString()),v!==void 0&&(F.direction=v.toString()),_!==void 0&&(F.limit=_.toString()),S!==void 0&&(F.offset=S.toString()),E!==void 0&&(F.tags=E.toString());const V={method:"GET",path:k,queryParameters:F,headers:q};return l.request(V,R)},getUsersCount({index:u,startDate:h,endDate:g,tags:w},p){if(!u)throw new Error("Parameter `index` is required when calling `getUsersCount`.");const f="/2/users/count",v={},_={};u!==void 0&&(_.index=u.toString()),h!==void 0&&(_.startDate=h.toString()),g!==void 0&&(_.endDate=g.toString()),w!==void 0&&(_.tags=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)}}}function wR(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(r&&(typeof r!="string"||!JP.includes(r)))throw new Error(`\`region\` must be one of the following: ${JP.join(", ")}`);return oV({appId:t,apiKey:e,region:r,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${$y}-${t}`}),Ze()]}),...n})}const aV=Object.freeze(Object.defineProperty({__proto__:null,analyticsClient:wR,apiClientVersion:$y},Symbol.toStringTag,{value:"Module"}));var Hy="5.18.0",ZP=["de","us"];function uV(t){return[{url:t?"insights.{region}.algolia.io".replace("{region}",t):"insights.algolia.io",accept:"readWrite",protocol:"https"}]}function lV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:uV(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"Insights",version:Hy}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},deleteUserToken({userToken:u},h){if(!u)throw new Error("Parameter `userToken` is required when calling `deleteUserToken`.");const f={method:"DELETE",path:"/1/usertokens/{userToken}".replace("{userToken}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},pushEvents(u,h){if(!u)throw new Error("Parameter `insightsEvents` is required when calling `pushEvents`.");if(!u.events)throw new Error("Parameter `insightsEvents.events` is required when calling `pushEvents`.");const f={method:"POST",path:"/1/events",queryParameters:{},headers:{},data:u};return l.request(f,h)}}}function _R(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(r&&(typeof r!="string"||!ZP.includes(r)))throw new Error(`\`region\` must be one of the following: ${ZP.join(", ")}`);return lV({appId:t,apiKey:e,region:r,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Hy}-${t}`}),Ze()]}),...n})}const cV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:Hy,insightsClient:_R},Symbol.toStringTag,{value:"Module"}));var By="5.18.0",eE=["eu","us"];function hV(t){return[{url:"personalization.{region}.algolia.com".replace("{region}",t),accept:"readWrite",protocol:"https"}]}function dV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:hV(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"Personalization",version:By}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},deleteUserProfile({userToken:u},h){if(!u)throw new Error("Parameter `userToken` is required when calling `deleteUserProfile`.");const f={method:"DELETE",path:"/1/profiles/{userToken}".replace("{userToken}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getPersonalizationStrategy(u){const p={method:"GET",path:"/1/strategies/personalization",queryParameters:{},headers:{}};return l.request(p,u)},getUserTokenProfile({userToken:u},h){if(!u)throw new Error("Parameter `userToken` is required when calling `getUserTokenProfile`.");const f={method:"GET",path:"/1/profiles/personalization/{userToken}".replace("{userToken}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},setPersonalizationStrategy(u,h){if(!u)throw new Error("Parameter `personalizationStrategyParams` is required when calling `setPersonalizationStrategy`.");if(!u.eventScoring)throw new Error("Parameter `personalizationStrategyParams.eventScoring` is required when calling `setPersonalizationStrategy`.");if(!u.facetScoring)throw new Error("Parameter `personalizationStrategyParams.facetScoring` is required when calling `setPersonalizationStrategy`.");if(!u.personalizationImpact)throw new Error("Parameter `personalizationStrategyParams.personalizationImpact` is required when calling `setPersonalizationStrategy`.");const f={method:"POST",path:"/1/strategies/personalization",queryParameters:{},headers:{},data:u};return l.request(f,h)}}}function PR(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(!r||r&&(typeof r!="string"||!eE.includes(r)))throw new Error(`\`region\` is required and must be one of the following: ${eE.join(", ")}`);return dV({appId:t,apiKey:e,region:r,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${By}-${t}`}),Ze()]}),...n})}const fV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:By,personalizationClient:PR},Symbol.toStringTag,{value:"Module"}));var zy="5.18.0",tE=["eu","us"];function mV(t){return[{url:"query-suggestions.{region}.algolia.com".replace("{region}",t),accept:"readWrite",protocol:"https"}]}function pV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:mV(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"QuerySuggestions",version:zy}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},createConfig(u,h){if(!u)throw new Error("Parameter `configurationWithIndex` is required when calling `createConfig`.");const f={method:"POST",path:"/1/configs",queryParameters:{},headers:{},data:u};return l.request(f,h)},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},deleteConfig({indexName:u},h){if(!u)throw new Error("Parameter `indexName` is required when calling `deleteConfig`.");const f={method:"DELETE",path:"/1/configs/{indexName}".replace("{indexName}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getAllConfigs(u){const p={method:"GET",path:"/1/configs",queryParameters:{},headers:{}};return l.request(p,u)},getConfig({indexName:u},h){if(!u)throw new Error("Parameter `indexName` is required when calling `getConfig`.");const f={method:"GET",path:"/1/configs/{indexName}".replace("{indexName}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getConfigStatus({indexName:u},h){if(!u)throw new Error("Parameter `indexName` is required when calling `getConfigStatus`.");const f={method:"GET",path:"/1/configs/{indexName}/status".replace("{indexName}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getLogFile({indexName:u},h){if(!u)throw new Error("Parameter `indexName` is required when calling `getLogFile`.");const f={method:"GET",path:"/1/logs/{indexName}".replace("{indexName}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},updateConfig({indexName:u,configuration:h},g){if(!u)throw new Error("Parameter `indexName` is required when calling `updateConfig`.");if(!h)throw new Error("Parameter `configuration` is required when calling `updateConfig`.");if(!h.sourceIndices)throw new Error("Parameter `configuration.sourceIndices` is required when calling `updateConfig`.");const v={method:"PUT",path:"/1/configs/{indexName}".replace("{indexName}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)}}}function ER(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(!r||r&&(typeof r!="string"||!tE.includes(r)))throw new Error(`\`region\` is required and must be one of the following: ${tE.join(", ")}`);return pV({appId:t,apiKey:e,region:r,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${zy}-${t}`}),Ze()]}),...n})}const gV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:zy,querySuggestionsClient:ER},Symbol.toStringTag,{value:"Module"}));var Jl="5.18.0";function yV(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(gR([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function vV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,...i}){const a=di(t,e,r),c=pi({hosts:yV(t),...i,algoliaAgent:fi({algoliaAgents:n,client:"Search",version:Jl}),baseHeaders:{"content-type":"text/plain",...a.headers(),...i.baseHeaders},baseQueryParameters:{...a.queryParameters(),...i.baseQueryParameters}});return{transporter:c,appId:t,clearCache(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(()=>{})},get _ua(){return c.algoliaAgent.value},addAlgoliaAgent(l,u){c.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!r||r==="WithinHeaders"?c.baseHeaders["x-algolia-api-key"]=l:c.baseQueryParameters["x-algolia-api-key"]=l},waitForTask({indexName:l,taskID:u,maxRetries:h=50,timeout:g=p=>Math.min(p*200,5e3)},w){let p=0;return Ms({func:()=>this.getTask({indexName:l,taskID:u},w),validate:f=>f.status==="published",aggregator:()=>p+=1,error:{validate:()=>p>=h,message:()=>`The maximum number of retries exceeded. (${p}/${h})`},timeout:()=>g(p)})},waitForAppTask({taskID:l,maxRetries:u=50,timeout:h=w=>Math.min(w*200,5e3)},g){let w=0;return Ms({func:()=>this.getAppTask({taskID:l},g),validate:p=>p.status==="published",aggregator:()=>w+=1,error:{validate:()=>w>=u,message:()=>`The maximum number of retries exceeded. (${w}/${u})`},timeout:()=>h(w)})},waitForApiKey({operation:l,key:u,apiKey:h,maxRetries:g=50,timeout:w=f=>Math.min(f*200,5e3)},p){let f=0;const v={aggregator:()=>f+=1,error:{validate:()=>f>=g,message:()=>`The maximum number of retries exceeded. (${f}/${g})`},timeout:()=>w(f)};if(l==="update"){if(!h)throw new Error("`apiKey` is required when waiting for an `update` operation.");return Ms({...v,func:()=>this.getApiKey({key:u},p),validate:_=>{for(const S of Object.keys(h)){const E=h[S],R=_[S];if(Array.isArray(E)&&Array.isArray(R)){if(E.length!==R.length||E.some((k,q)=>k!==R[q]))return!1}else if(E!==R)return!1}return!0}})}return Ms({...v,func:()=>this.getApiKey({key:u},p).catch(_=>{if(_.status!==404)throw _}),validate:_=>l==="add"?_!==void 0:_===void 0})},browseObjects({indexName:l,browseParams:u,...h},g){return Ms({func:w=>this.browse({indexName:l,browseParams:{cursor:w?w.cursor:void 0,hitsPerPage:1e3,...u}},g),validate:w=>w.cursor===void 0,...h})},browseRules({indexName:l,searchRulesParams:u,...h},g){const w={hitsPerPage:1e3,...u};return Ms({func:p=>this.searchRules({indexName:l,searchRulesParams:{...w,page:p?p.page+1:w.page||0}},g),validate:p=>p.hits.length<w.hitsPerPage,...h})},browseSynonyms({indexName:l,searchSynonymsParams:u,...h},g){const w={page:0,...u,hitsPerPage:1e3};return Ms({func:p=>{const f=this.searchSynonyms({indexName:l,searchSynonymsParams:{...w,page:w.page}},g);return w.page+=1,f},validate:p=>p.hits.length<w.hitsPerPage,...h})},async chunkedBatch({indexName:l,objects:u,action:h="addObject",waitForTasks:g,batchSize:w=1e3},p){let f=[];const v=[],_=u.entries();for(const[S,E]of _)f.push({action:h,body:E}),(f.length===w||S===u.length-1)&&(v.push(await this.batch({indexName:l,batchWriteParams:{requests:f}},p)),f=[]);if(g)for(const S of v)await this.waitForTask({indexName:l,taskID:S.taskID});return v},async saveObjects({indexName:l,objects:u,waitForTasks:h,batchSize:g},w){return await this.chunkedBatch({indexName:l,objects:u,action:"addObject",waitForTasks:h,batchSize:g},w)},async deleteObjects({indexName:l,objectIDs:u,waitForTasks:h,batchSize:g},w){return await this.chunkedBatch({indexName:l,objects:u.map(p=>({objectID:p})),action:"deleteObject",waitForTasks:h,batchSize:g},w)},async partialUpdateObjects({indexName:l,objects:u,createIfNotExists:h,waitForTasks:g,batchSize:w},p){return await this.chunkedBatch({indexName:l,objects:u,action:h?"partialUpdateObject":"partialUpdateObjectNoCreate",batchSize:w,waitForTasks:g},p)},async replaceAllObjects({indexName:l,objects:u,batchSize:h},g){const w=Math.floor(Math.random()*1e6)+1e5,p=`${l}_tmp_${w}`;let f=await this.operationIndex({indexName:l,operationIndexParams:{operation:"copy",destination:p,scope:["settings","rules","synonyms"]}},g);const v=await this.chunkedBatch({indexName:p,objects:u,waitForTasks:!0,batchSize:h},g);await this.waitForTask({indexName:p,taskID:f.taskID}),f=await this.operationIndex({indexName:l,operationIndexParams:{operation:"copy",destination:p,scope:["settings","rules","synonyms"]}},g),await this.waitForTask({indexName:p,taskID:f.taskID});const _=await this.operationIndex({indexName:p,operationIndexParams:{operation:"move",destination:l}},g);return await this.waitForTask({indexName:p,taskID:_.taskID}),{copyOperationResponse:f,batchResponses:v,moveOperationResponse:_}},async indexExists({indexName:l}){try{await this.getSettings({indexName:l})}catch(u){if(u instanceof yd&&u.status===404)return!1;throw u}return!0},searchForHits(l,u){return this.search(l,u)},searchForFacets(l,u){return this.search(l,u)},addApiKey(l,u){if(!l)throw new Error("Parameter `apiKey` is required when calling `addApiKey`.");if(!l.acl)throw new Error("Parameter `apiKey.acl` is required when calling `addApiKey`.");const p={method:"POST",path:"/1/keys",queryParameters:{},headers:{},data:l};return c.request(p,u)},addOrUpdateObject({indexName:l,objectID:u,body:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `addOrUpdateObject`.");if(!u)throw new Error("Parameter `objectID` is required when calling `addOrUpdateObject`.");if(!h)throw new Error("Parameter `body` is required when calling `addOrUpdateObject`.");const v={method:"PUT",path:"/1/indexes/{indexName}/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return c.request(v,g)},appendSource(l,u){if(!l)throw new Error("Parameter `source` is required when calling `appendSource`.");if(!l.source)throw new Error("Parameter `source.source` is required when calling `appendSource`.");const p={method:"POST",path:"/1/security/sources/append",queryParameters:{},headers:{},data:l};return c.request(p,u)},assignUserId({xAlgoliaUserID:l,assignUserIdParams:u},h){if(!l)throw new Error("Parameter `xAlgoliaUserID` is required when calling `assignUserId`.");if(!u)throw new Error("Parameter `assignUserIdParams` is required when calling `assignUserId`.");if(!u.cluster)throw new Error("Parameter `assignUserIdParams.cluster` is required when calling `assignUserId`.");const g="/1/clusters/mapping",w={},p={};l!==void 0&&(w["X-Algolia-User-ID"]=l.toString());const f={method:"POST",path:g,queryParameters:p,headers:w,data:u};return c.request(f,h)},batch({indexName:l,batchWriteParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `batch`.");if(!u)throw new Error("Parameter `batchWriteParams` is required when calling `batch`.");if(!u.requests)throw new Error("Parameter `batchWriteParams.requests` is required when calling `batch`.");const f={method:"POST",path:"/1/indexes/{indexName}/batch".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)},batchAssignUserIds({xAlgoliaUserID:l,batchAssignUserIdsParams:u},h){if(!l)throw new Error("Parameter `xAlgoliaUserID` is required when calling `batchAssignUserIds`.");if(!u)throw new Error("Parameter `batchAssignUserIdsParams` is required when calling `batchAssignUserIds`.");if(!u.cluster)throw new Error("Parameter `batchAssignUserIdsParams.cluster` is required when calling `batchAssignUserIds`.");if(!u.users)throw new Error("Parameter `batchAssignUserIdsParams.users` is required when calling `batchAssignUserIds`.");const g="/1/clusters/mapping/batch",w={},p={};l!==void 0&&(w["X-Algolia-User-ID"]=l.toString());const f={method:"POST",path:g,queryParameters:p,headers:w,data:u};return c.request(f,h)},batchDictionaryEntries({dictionaryName:l,batchDictionaryEntriesParams:u},h){if(!l)throw new Error("Parameter `dictionaryName` is required when calling `batchDictionaryEntries`.");if(!u)throw new Error("Parameter `batchDictionaryEntriesParams` is required when calling `batchDictionaryEntries`.");if(!u.requests)throw new Error("Parameter `batchDictionaryEntriesParams.requests` is required when calling `batchDictionaryEntries`.");const f={method:"POST",path:"/1/dictionaries/{dictionaryName}/batch".replace("{dictionaryName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)},browse({indexName:l,browseParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `browse`.");const f={method:"POST",path:"/1/indexes/{indexName}/browse".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u||{},useReadTransporter:!0};return c.request(f,h)},clearObjects({indexName:l},u){if(!l)throw new Error("Parameter `indexName` is required when calling `clearObjects`.");const p={method:"POST",path:"/1/indexes/{indexName}/clear".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},clearRules({indexName:l,forwardToReplicas:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `clearRules`.");const g="/1/indexes/{indexName}/rules/clear".replace("{indexName}",encodeURIComponent(l)),w={},p={};u!==void 0&&(p.forwardToReplicas=u.toString());const f={method:"POST",path:g,queryParameters:p,headers:w};return c.request(f,h)},clearSynonyms({indexName:l,forwardToReplicas:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `clearSynonyms`.");const g="/1/indexes/{indexName}/synonyms/clear".replace("{indexName}",encodeURIComponent(l)),w={},p={};u!==void 0&&(p.forwardToReplicas=u.toString());const f={method:"POST",path:g,queryParameters:p,headers:w};return c.request(f,h)},customDelete({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customDelete`.");const f={method:"DELETE",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customGet({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customGet`.");const f={method:"GET",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customPost({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const v={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},customPut({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPut`.");const v={method:"PUT",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},deleteApiKey({key:l},u){if(!l)throw new Error("Parameter `key` is required when calling `deleteApiKey`.");const p={method:"DELETE",path:"/1/keys/{key}".replace("{key}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},deleteBy({indexName:l,deleteByParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteBy`.");if(!u)throw new Error("Parameter `deleteByParams` is required when calling `deleteBy`.");const f={method:"POST",path:"/1/indexes/{indexName}/deleteByQuery".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)},deleteIndex({indexName:l},u){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteIndex`.");const p={method:"DELETE",path:"/1/indexes/{indexName}".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},deleteObject({indexName:l,objectID:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteObject`.");if(!u)throw new Error("Parameter `objectID` is required when calling `deleteObject`.");const f={method:"DELETE",path:"/1/indexes/{indexName}/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return c.request(f,h)},deleteRule({indexName:l,objectID:u,forwardToReplicas:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteRule`.");if(!u)throw new Error("Parameter `objectID` is required when calling `deleteRule`.");const w="/1/indexes/{indexName}/rules/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),p={},f={};h!==void 0&&(f.forwardToReplicas=h.toString());const v={method:"DELETE",path:w,queryParameters:f,headers:p};return c.request(v,g)},deleteSource({source:l},u){if(!l)throw new Error("Parameter `source` is required when calling `deleteSource`.");const p={method:"DELETE",path:"/1/security/sources/{source}".replace("{source}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},deleteSynonym({indexName:l,objectID:u,forwardToReplicas:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteSynonym`.");if(!u)throw new Error("Parameter `objectID` is required when calling `deleteSynonym`.");const w="/1/indexes/{indexName}/synonyms/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),p={},f={};h!==void 0&&(f.forwardToReplicas=h.toString());const v={method:"DELETE",path:w,queryParameters:f,headers:p};return c.request(v,g)},getApiKey({key:l},u){if(!l)throw new Error("Parameter `key` is required when calling `getApiKey`.");const p={method:"GET",path:"/1/keys/{key}".replace("{key}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getAppTask({taskID:l},u){if(!l)throw new Error("Parameter `taskID` is required when calling `getAppTask`.");const p={method:"GET",path:"/1/task/{taskID}".replace("{taskID}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getDictionaryLanguages(l){const w={method:"GET",path:"/1/dictionaries/*/languages",queryParameters:{},headers:{}};return c.request(w,l)},getDictionarySettings(l){const w={method:"GET",path:"/1/dictionaries/*/settings",queryParameters:{},headers:{}};return c.request(w,l)},getLogs({offset:l,length:u,indexName:h,type:g}={},w=void 0){const p="/1/logs",f={},v={};l!==void 0&&(v.offset=l.toString()),u!==void 0&&(v.length=u.toString()),h!==void 0&&(v.indexName=h.toString()),g!==void 0&&(v.type=g.toString());const _={method:"GET",path:p,queryParameters:v,headers:f};return c.request(_,w)},getObject({indexName:l,objectID:u,attributesToRetrieve:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `getObject`.");if(!u)throw new Error("Parameter `objectID` is required when calling `getObject`.");const w="/1/indexes/{indexName}/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),p={},f={};h!==void 0&&(f.attributesToRetrieve=h.toString());const v={method:"GET",path:w,queryParameters:f,headers:p};return c.request(v,g)},getObjects(l,u){if(!l)throw new Error("Parameter `getObjectsParams` is required when calling `getObjects`.");if(!l.requests)throw new Error("Parameter `getObjectsParams.requests` is required when calling `getObjects`.");const p={method:"POST",path:"/1/indexes/*/objects",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return c.request(p,u)},getRule({indexName:l,objectID:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `getRule`.");if(!u)throw new Error("Parameter `objectID` is required when calling `getRule`.");const f={method:"GET",path:"/1/indexes/{indexName}/rules/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return c.request(f,h)},getSettings({indexName:l},u){if(!l)throw new Error("Parameter `indexName` is required when calling `getSettings`.");const p={method:"GET",path:"/1/indexes/{indexName}/settings".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getSources(l){const w={method:"GET",path:"/1/security/sources",queryParameters:{},headers:{}};return c.request(w,l)},getSynonym({indexName:l,objectID:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `getSynonym`.");if(!u)throw new Error("Parameter `objectID` is required when calling `getSynonym`.");const f={method:"GET",path:"/1/indexes/{indexName}/synonyms/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return c.request(f,h)},getTask({indexName:l,taskID:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `getTask`.");if(!u)throw new Error("Parameter `taskID` is required when calling `getTask`.");const f={method:"GET",path:"/1/indexes/{indexName}/task/{taskID}".replace("{indexName}",encodeURIComponent(l)).replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return c.request(f,h)},getTopUserIds(l){const w={method:"GET",path:"/1/clusters/mapping/top",queryParameters:{},headers:{}};return c.request(w,l)},getUserId({userID:l},u){if(!l)throw new Error("Parameter `userID` is required when calling `getUserId`.");const p={method:"GET",path:"/1/clusters/mapping/{userID}".replace("{userID}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},hasPendingMappings({getClusters:l}={},u=void 0){const h="/1/clusters/mapping/pending",g={},w={};l!==void 0&&(w.getClusters=l.toString());const p={method:"GET",path:h,queryParameters:w,headers:g};return c.request(p,u)},listApiKeys(l){const w={method:"GET",path:"/1/keys",queryParameters:{},headers:{}};return c.request(w,l)},listClusters(l){const w={method:"GET",path:"/1/clusters",queryParameters:{},headers:{}};return c.request(w,l)},listIndices({page:l,hitsPerPage:u}={},h=void 0){const g="/1/indexes",w={},p={};l!==void 0&&(p.page=l.toString()),u!==void 0&&(p.hitsPerPage=u.toString());const f={method:"GET",path:g,queryParameters:p,headers:w};return c.request(f,h)},listUserIds({page:l,hitsPerPage:u}={},h=void 0){const g="/1/clusters/mapping",w={},p={};l!==void 0&&(p.page=l.toString()),u!==void 0&&(p.hitsPerPage=u.toString());const f={method:"GET",path:g,queryParameters:p,headers:w};return c.request(f,h)},multipleBatch(l,u){if(!l)throw new Error("Parameter `batchParams` is required when calling `multipleBatch`.");if(!l.requests)throw new Error("Parameter `batchParams.requests` is required when calling `multipleBatch`.");const p={method:"POST",path:"/1/indexes/*/batch",queryParameters:{},headers:{},data:l};return c.request(p,u)},operationIndex({indexName:l,operationIndexParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `operationIndex`.");if(!u)throw new Error("Parameter `operationIndexParams` is required when calling `operationIndex`.");if(!u.operation)throw new Error("Parameter `operationIndexParams.operation` is required when calling `operationIndex`.");if(!u.destination)throw new Error("Parameter `operationIndexParams.destination` is required when calling `operationIndex`.");const f={method:"POST",path:"/1/indexes/{indexName}/operation".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)},partialUpdateObject({indexName:l,objectID:u,attributesToUpdate:h,createIfNotExists:g},w){if(!l)throw new Error("Parameter `indexName` is required when calling `partialUpdateObject`.");if(!u)throw new Error("Parameter `objectID` is required when calling `partialUpdateObject`.");if(!h)throw new Error("Parameter `attributesToUpdate` is required when calling `partialUpdateObject`.");const p="/1/indexes/{indexName}/{objectID}/partial".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),f={},v={};g!==void 0&&(v.createIfNotExists=g.toString());const _={method:"POST",path:p,queryParameters:v,headers:f,data:h};return c.request(_,w)},removeUserId({userID:l},u){if(!l)throw new Error("Parameter `userID` is required when calling `removeUserId`.");const p={method:"DELETE",path:"/1/clusters/mapping/{userID}".replace("{userID}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},replaceSources({source:l},u){if(!l)throw new Error("Parameter `source` is required when calling `replaceSources`.");const p={method:"PUT",path:"/1/security/sources",queryParameters:{},headers:{},data:l};return c.request(p,u)},restoreApiKey({key:l},u){if(!l)throw new Error("Parameter `key` is required when calling `restoreApiKey`.");const p={method:"POST",path:"/1/keys/{key}/restore".replace("{key}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},saveObject({indexName:l,body:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `saveObject`.");if(!u)throw new Error("Parameter `body` is required when calling `saveObject`.");const f={method:"POST",path:"/1/indexes/{indexName}".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)},saveRule({indexName:l,objectID:u,rule:h,forwardToReplicas:g},w){if(!l)throw new Error("Parameter `indexName` is required when calling `saveRule`.");if(!u)throw new Error("Parameter `objectID` is required when calling `saveRule`.");if(!h)throw new Error("Parameter `rule` is required when calling `saveRule`.");if(!h.objectID)throw new Error("Parameter `rule.objectID` is required when calling `saveRule`.");if(!h.consequence)throw new Error("Parameter `rule.consequence` is required when calling `saveRule`.");const p="/1/indexes/{indexName}/rules/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),f={},v={};g!==void 0&&(v.forwardToReplicas=g.toString());const _={method:"PUT",path:p,queryParameters:v,headers:f,data:h};return c.request(_,w)},saveRules({indexName:l,rules:u,forwardToReplicas:h,clearExistingRules:g},w){if(!l)throw new Error("Parameter `indexName` is required when calling `saveRules`.");if(!u)throw new Error("Parameter `rules` is required when calling `saveRules`.");const p="/1/indexes/{indexName}/rules/batch".replace("{indexName}",encodeURIComponent(l)),f={},v={};h!==void 0&&(v.forwardToReplicas=h.toString()),g!==void 0&&(v.clearExistingRules=g.toString());const _={method:"POST",path:p,queryParameters:v,headers:f,data:u};return c.request(_,w)},saveSynonym({indexName:l,objectID:u,synonymHit:h,forwardToReplicas:g},w){if(!l)throw new Error("Parameter `indexName` is required when calling `saveSynonym`.");if(!u)throw new Error("Parameter `objectID` is required when calling `saveSynonym`.");if(!h)throw new Error("Parameter `synonymHit` is required when calling `saveSynonym`.");if(!h.objectID)throw new Error("Parameter `synonymHit.objectID` is required when calling `saveSynonym`.");if(!h.type)throw new Error("Parameter `synonymHit.type` is required when calling `saveSynonym`.");const p="/1/indexes/{indexName}/synonyms/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{objectID}",encodeURIComponent(u)),f={},v={};g!==void 0&&(v.forwardToReplicas=g.toString());const _={method:"PUT",path:p,queryParameters:v,headers:f,data:h};return c.request(_,w)},saveSynonyms({indexName:l,synonymHit:u,forwardToReplicas:h,replaceExistingSynonyms:g},w){if(!l)throw new Error("Parameter `indexName` is required when calling `saveSynonyms`.");if(!u)throw new Error("Parameter `synonymHit` is required when calling `saveSynonyms`.");const p="/1/indexes/{indexName}/synonyms/batch".replace("{indexName}",encodeURIComponent(l)),f={},v={};h!==void 0&&(v.forwardToReplicas=h.toString()),g!==void 0&&(v.replaceExistingSynonyms=g.toString());const _={method:"POST",path:p,queryParameters:v,headers:f,data:u};return c.request(_,w)},search(l,u){if(l&&Array.isArray(l)&&(l={requests:l.map(({params:v,..._})=>_.type==="facet"?{..._,...v,type:"facet"}:{..._,...v,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!l)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!l.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const p={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return c.request(p,u)},searchDictionaryEntries({dictionaryName:l,searchDictionaryEntriesParams:u},h){if(!l)throw new Error("Parameter `dictionaryName` is required when calling `searchDictionaryEntries`.");if(!u)throw new Error("Parameter `searchDictionaryEntriesParams` is required when calling `searchDictionaryEntries`.");if(!u.query)throw new Error("Parameter `searchDictionaryEntriesParams.query` is required when calling `searchDictionaryEntries`.");const f={method:"POST",path:"/1/dictionaries/{dictionaryName}/search".replace("{dictionaryName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u,useReadTransporter:!0,cacheable:!0};return c.request(f,h)},searchForFacetValues({indexName:l,facetName:u,searchForFacetValuesRequest:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `searchForFacetValues`.");if(!u)throw new Error("Parameter `facetName` is required when calling `searchForFacetValues`.");const v={method:"POST",path:"/1/indexes/{indexName}/facets/{facetName}/query".replace("{indexName}",encodeURIComponent(l)).replace("{facetName}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h||{},useReadTransporter:!0,cacheable:!0};return c.request(v,g)},searchRules({indexName:l,searchRulesParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `searchRules`.");const f={method:"POST",path:"/1/indexes/{indexName}/rules/search".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u||{},useReadTransporter:!0,cacheable:!0};return c.request(f,h)},searchSingleIndex({indexName:l,searchParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `searchSingleIndex`.");const f={method:"POST",path:"/1/indexes/{indexName}/query".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u||{},useReadTransporter:!0,cacheable:!0};return c.request(f,h)},searchSynonyms({indexName:l,searchSynonymsParams:u},h){if(!l)throw new Error("Parameter `indexName` is required when calling `searchSynonyms`.");const f={method:"POST",path:"/1/indexes/{indexName}/synonyms/search".replace("{indexName}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u||{},useReadTransporter:!0,cacheable:!0};return c.request(f,h)},searchUserIds(l,u){if(!l)throw new Error("Parameter `searchUserIdsParams` is required when calling `searchUserIds`.");if(!l.query)throw new Error("Parameter `searchUserIdsParams.query` is required when calling `searchUserIds`.");const p={method:"POST",path:"/1/clusters/mapping/search",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return c.request(p,u)},setDictionarySettings(l,u){if(!l)throw new Error("Parameter `dictionarySettingsParams` is required when calling `setDictionarySettings`.");if(!l.disableStandardEntries)throw new Error("Parameter `dictionarySettingsParams.disableStandardEntries` is required when calling `setDictionarySettings`.");const p={method:"PUT",path:"/1/dictionaries/*/settings",queryParameters:{},headers:{},data:l};return c.request(p,u)},setSettings({indexName:l,indexSettings:u,forwardToReplicas:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `setSettings`.");if(!u)throw new Error("Parameter `indexSettings` is required when calling `setSettings`.");const w="/1/indexes/{indexName}/settings".replace("{indexName}",encodeURIComponent(l)),p={},f={};h!==void 0&&(f.forwardToReplicas=h.toString());const v={method:"PUT",path:w,queryParameters:f,headers:p,data:u};return c.request(v,g)},updateApiKey({key:l,apiKey:u},h){if(!l)throw new Error("Parameter `key` is required when calling `updateApiKey`.");if(!u)throw new Error("Parameter `apiKey` is required when calling `updateApiKey`.");if(!u.acl)throw new Error("Parameter `apiKey.acl` is required when calling `updateApiKey`.");const f={method:"PUT",path:"/1/keys/{key}".replace("{key}",encodeURIComponent(l)),queryParameters:{},headers:{},data:u};return c.request(f,h)}}}function SR(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return vV({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Jl}-${t}`}),Ze()]}),...r})}const wV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:Jl,searchClient:SR},Symbol.toStringTag,{value:"Module"}));var Wy="1.18.0",rE=["eu","us"];function _V(t){return[{url:"data.{region}.algolia.com".replace("{region}",t),accept:"readWrite",protocol:"https"}]}function PV(t){return t.type==="onDemand"}function EV(t){return t.type==="schedule"}function SV(t){return t.type==="subscription"}function TV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,region:i,...a}){const c=di(t,e,r),l=pi({hosts:_V(i),...a,algoliaAgent:fi({algoliaAgents:n,client:"Ingestion",version:Wy}),baseHeaders:{"content-type":"text/plain",...c.headers(),...a.baseHeaders},baseQueryParameters:{...c.queryParameters(),...a.baseQueryParameters}});return{transporter:l,appId:t,clearCache(){return Promise.all([l.requestsCache.clear(),l.responsesCache.clear()]).then(()=>{})},get _ua(){return l.algoliaAgent.value},addAlgoliaAgent(u,h){l.algoliaAgent.add({segment:u,version:h})},setClientApiKey({apiKey:u}){!r||r==="WithinHeaders"?l.baseHeaders["x-algolia-api-key"]=u:l.baseQueryParameters["x-algolia-api-key"]=u},createAuthentication(u,h){if(!u)throw new Error("Parameter `authenticationCreate` is required when calling `createAuthentication`.");if(!u.type)throw new Error("Parameter `authenticationCreate.type` is required when calling `createAuthentication`.");if(!u.name)throw new Error("Parameter `authenticationCreate.name` is required when calling `createAuthentication`.");if(!u.input)throw new Error("Parameter `authenticationCreate.input` is required when calling `createAuthentication`.");const f={method:"POST",path:"/1/authentications",queryParameters:{},headers:{},data:u};return l.request(f,h)},createDestination(u,h){if(!u)throw new Error("Parameter `destinationCreate` is required when calling `createDestination`.");if(!u.type)throw new Error("Parameter `destinationCreate.type` is required when calling `createDestination`.");if(!u.name)throw new Error("Parameter `destinationCreate.name` is required when calling `createDestination`.");if(!u.input)throw new Error("Parameter `destinationCreate.input` is required when calling `createDestination`.");const f={method:"POST",path:"/1/destinations",queryParameters:{},headers:{},data:u};return l.request(f,h)},createSource(u,h){if(!u)throw new Error("Parameter `sourceCreate` is required when calling `createSource`.");if(!u.type)throw new Error("Parameter `sourceCreate.type` is required when calling `createSource`.");if(!u.name)throw new Error("Parameter `sourceCreate.name` is required when calling `createSource`.");const f={method:"POST",path:"/1/sources",queryParameters:{},headers:{},data:u};return l.request(f,h)},createTask(u,h){if(!u)throw new Error("Parameter `taskCreate` is required when calling `createTask`.");if(!u.sourceID)throw new Error("Parameter `taskCreate.sourceID` is required when calling `createTask`.");if(!u.destinationID)throw new Error("Parameter `taskCreate.destinationID` is required when calling `createTask`.");if(!u.action)throw new Error("Parameter `taskCreate.action` is required when calling `createTask`.");const f={method:"POST",path:"/2/tasks",queryParameters:{},headers:{},data:u};return l.request(f,h)},createTaskV1(u,h){if(!u)throw new Error("Parameter `taskCreate` is required when calling `createTaskV1`.");if(!u.sourceID)throw new Error("Parameter `taskCreate.sourceID` is required when calling `createTaskV1`.");if(!u.destinationID)throw new Error("Parameter `taskCreate.destinationID` is required when calling `createTaskV1`.");if(!u.trigger)throw new Error("Parameter `taskCreate.trigger` is required when calling `createTaskV1`.");if(!u.action)throw new Error("Parameter `taskCreate.action` is required when calling `createTaskV1`.");const f={method:"POST",path:"/1/tasks",queryParameters:{},headers:{},data:u};return l.request(f,h)},createTransformation(u,h){if(!u)throw new Error("Parameter `transformationCreate` is required when calling `createTransformation`.");if(!u.code)throw new Error("Parameter `transformationCreate.code` is required when calling `createTransformation`.");if(!u.name)throw new Error("Parameter `transformationCreate.name` is required when calling `createTransformation`.");const f={method:"POST",path:"/1/transformations",queryParameters:{},headers:{},data:u};return l.request(f,h)},customDelete({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customDelete`.");const v={method:"DELETE",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customGet({path:u,parameters:h},g){if(!u)throw new Error("Parameter `path` is required when calling `customGet`.");const v={method:"GET",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{}};return l.request(v,g)},customPost({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPost`.");const _={method:"POST",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},customPut({path:u,parameters:h,body:g},w){if(!u)throw new Error("Parameter `path` is required when calling `customPut`.");const _={method:"PUT",path:"/{path}".replace("{path}",u),queryParameters:h||{},headers:{},data:g||{}};return l.request(_,w)},deleteAuthentication({authenticationID:u},h){if(!u)throw new Error("Parameter `authenticationID` is required when calling `deleteAuthentication`.");const f={method:"DELETE",path:"/1/authentications/{authenticationID}".replace("{authenticationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},deleteDestination({destinationID:u},h){if(!u)throw new Error("Parameter `destinationID` is required when calling `deleteDestination`.");const f={method:"DELETE",path:"/1/destinations/{destinationID}".replace("{destinationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},deleteSource({sourceID:u},h){if(!u)throw new Error("Parameter `sourceID` is required when calling `deleteSource`.");const f={method:"DELETE",path:"/1/sources/{sourceID}".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},deleteTask({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `deleteTask`.");const f={method:"DELETE",path:"/2/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},deleteTaskV1({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `deleteTaskV1`.");const f={method:"DELETE",path:"/1/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},deleteTransformation({transformationID:u},h){if(!u)throw new Error("Parameter `transformationID` is required when calling `deleteTransformation`.");const f={method:"DELETE",path:"/1/transformations/{transformationID}".replace("{transformationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},disableTask({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `disableTask`.");const f={method:"PUT",path:"/2/tasks/{taskID}/disable".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},disableTaskV1({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `disableTaskV1`.");const f={method:"PUT",path:"/1/tasks/{taskID}/disable".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},enableTask({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `enableTask`.");const f={method:"PUT",path:"/2/tasks/{taskID}/enable".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},enableTaskV1({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `enableTaskV1`.");const f={method:"PUT",path:"/1/tasks/{taskID}/enable".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getAuthentication({authenticationID:u},h){if(!u)throw new Error("Parameter `authenticationID` is required when calling `getAuthentication`.");const f={method:"GET",path:"/1/authentications/{authenticationID}".replace("{authenticationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getDestination({destinationID:u},h){if(!u)throw new Error("Parameter `destinationID` is required when calling `getDestination`.");const f={method:"GET",path:"/1/destinations/{destinationID}".replace("{destinationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getEvent({runID:u,eventID:h},g){if(!u)throw new Error("Parameter `runID` is required when calling `getEvent`.");if(!h)throw new Error("Parameter `eventID` is required when calling `getEvent`.");const v={method:"GET",path:"/1/runs/{runID}/events/{eventID}".replace("{runID}",encodeURIComponent(u)).replace("{eventID}",encodeURIComponent(h)),queryParameters:{},headers:{}};return l.request(v,g)},getRun({runID:u},h){if(!u)throw new Error("Parameter `runID` is required when calling `getRun`.");const f={method:"GET",path:"/1/runs/{runID}".replace("{runID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getSource({sourceID:u},h){if(!u)throw new Error("Parameter `sourceID` is required when calling `getSource`.");const f={method:"GET",path:"/1/sources/{sourceID}".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getTask({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `getTask`.");const f={method:"GET",path:"/2/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getTaskV1({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `getTaskV1`.");const f={method:"GET",path:"/1/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},getTransformation({transformationID:u},h){if(!u)throw new Error("Parameter `transformationID` is required when calling `getTransformation`.");const f={method:"GET",path:"/1/transformations/{transformationID}".replace("{transformationID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},listAuthentications({itemsPerPage:u,page:h,type:g,platform:w,sort:p,order:f}={},v=void 0){const _="/1/authentications",S={},E={};u!==void 0&&(E.itemsPerPage=u.toString()),h!==void 0&&(E.page=h.toString()),g!==void 0&&(E.type=g.toString()),w!==void 0&&(E.platform=w.toString()),p!==void 0&&(E.sort=p.toString()),f!==void 0&&(E.order=f.toString());const R={method:"GET",path:_,queryParameters:E,headers:S};return l.request(R,v)},listDestinations({itemsPerPage:u,page:h,type:g,authenticationID:w,transformationID:p,sort:f,order:v}={},_=void 0){const S="/1/destinations",E={},R={};u!==void 0&&(R.itemsPerPage=u.toString()),h!==void 0&&(R.page=h.toString()),g!==void 0&&(R.type=g.toString()),w!==void 0&&(R.authenticationID=w.toString()),p!==void 0&&(R.transformationID=p.toString()),f!==void 0&&(R.sort=f.toString()),v!==void 0&&(R.order=v.toString());const k={method:"GET",path:S,queryParameters:R,headers:E};return l.request(k,_)},listEvents({runID:u,itemsPerPage:h,page:g,status:w,type:p,sort:f,order:v,startDate:_,endDate:S},E){if(!u)throw new Error("Parameter `runID` is required when calling `listEvents`.");const R="/1/runs/{runID}/events".replace("{runID}",encodeURIComponent(u)),k={},q={};h!==void 0&&(q.itemsPerPage=h.toString()),g!==void 0&&(q.page=g.toString()),w!==void 0&&(q.status=w.toString()),p!==void 0&&(q.type=p.toString()),f!==void 0&&(q.sort=f.toString()),v!==void 0&&(q.order=v.toString()),_!==void 0&&(q.startDate=_.toString()),S!==void 0&&(q.endDate=S.toString());const F={method:"GET",path:R,queryParameters:q,headers:k};return l.request(F,E)},listRuns({itemsPerPage:u,page:h,status:g,type:w,taskID:p,sort:f,order:v,startDate:_,endDate:S}={},E=void 0){const R="/1/runs",k={},q={};u!==void 0&&(q.itemsPerPage=u.toString()),h!==void 0&&(q.page=h.toString()),g!==void 0&&(q.status=g.toString()),w!==void 0&&(q.type=w.toString()),p!==void 0&&(q.taskID=p.toString()),f!==void 0&&(q.sort=f.toString()),v!==void 0&&(q.order=v.toString()),_!==void 0&&(q.startDate=_.toString()),S!==void 0&&(q.endDate=S.toString());const F={method:"GET",path:R,queryParameters:q,headers:k};return l.request(F,E)},listSources({itemsPerPage:u,page:h,type:g,authenticationID:w,sort:p,order:f}={},v=void 0){const _="/1/sources",S={},E={};u!==void 0&&(E.itemsPerPage=u.toString()),h!==void 0&&(E.page=h.toString()),g!==void 0&&(E.type=g.toString()),w!==void 0&&(E.authenticationID=w.toString()),p!==void 0&&(E.sort=p.toString()),f!==void 0&&(E.order=f.toString());const R={method:"GET",path:_,queryParameters:E,headers:S};return l.request(R,v)},listTasks({itemsPerPage:u,page:h,action:g,enabled:w,sourceID:p,sourceType:f,destinationID:v,triggerType:_,sort:S,order:E}={},R=void 0){const k="/2/tasks",q={},F={};u!==void 0&&(F.itemsPerPage=u.toString()),h!==void 0&&(F.page=h.toString()),g!==void 0&&(F.action=g.toString()),w!==void 0&&(F.enabled=w.toString()),p!==void 0&&(F.sourceID=p.toString()),f!==void 0&&(F.sourceType=f.toString()),v!==void 0&&(F.destinationID=v.toString()),_!==void 0&&(F.triggerType=_.toString()),S!==void 0&&(F.sort=S.toString()),E!==void 0&&(F.order=E.toString());const V={method:"GET",path:k,queryParameters:F,headers:q};return l.request(V,R)},listTasksV1({itemsPerPage:u,page:h,action:g,enabled:w,sourceID:p,destinationID:f,triggerType:v,sort:_,order:S}={},E=void 0){const R="/1/tasks",k={},q={};u!==void 0&&(q.itemsPerPage=u.toString()),h!==void 0&&(q.page=h.toString()),g!==void 0&&(q.action=g.toString()),w!==void 0&&(q.enabled=w.toString()),p!==void 0&&(q.sourceID=p.toString()),f!==void 0&&(q.destinationID=f.toString()),v!==void 0&&(q.triggerType=v.toString()),_!==void 0&&(q.sort=_.toString()),S!==void 0&&(q.order=S.toString());const F={method:"GET",path:R,queryParameters:q,headers:k};return l.request(F,E)},listTransformations({itemsPerPage:u,page:h,sort:g,order:w}={},p=void 0){const f="/1/transformations",v={},_={};u!==void 0&&(_.itemsPerPage=u.toString()),h!==void 0&&(_.page=h.toString()),g!==void 0&&(_.sort=g.toString()),w!==void 0&&(_.order=w.toString());const S={method:"GET",path:f,queryParameters:_,headers:v};return l.request(S,p)},pushTask({taskID:u,pushTaskPayload:h,watch:g},w){if(!u)throw new Error("Parameter `taskID` is required when calling `pushTask`.");if(!h)throw new Error("Parameter `pushTaskPayload` is required when calling `pushTask`.");if(!h.action)throw new Error("Parameter `pushTaskPayload.action` is required when calling `pushTask`.");if(!h.records)throw new Error("Parameter `pushTaskPayload.records` is required when calling `pushTask`.");const p="/2/tasks/{taskID}/push".replace("{taskID}",encodeURIComponent(u)),f={},v={};g!==void 0&&(v.watch=g.toString());const _={method:"POST",path:p,queryParameters:v,headers:f,data:h};return w={timeouts:{connect:18e4,read:18e4,write:18e4,...w==null?void 0:w.timeouts}},l.request(_,w)},runSource({sourceID:u,runSourcePayload:h},g){if(!u)throw new Error("Parameter `sourceID` is required when calling `runSource`.");const v={method:"POST",path:"/1/sources/{sourceID}/run".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h||{}};return l.request(v,g)},runTask({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `runTask`.");const f={method:"POST",path:"/2/tasks/{taskID}/run".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},runTaskV1({taskID:u},h){if(!u)throw new Error("Parameter `taskID` is required when calling `runTaskV1`.");const f={method:"POST",path:"/1/tasks/{taskID}/run".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return l.request(f,h)},searchAuthentications(u,h){if(!u)throw new Error("Parameter `authenticationSearch` is required when calling `searchAuthentications`.");if(!u.authenticationIDs)throw new Error("Parameter `authenticationSearch.authenticationIDs` is required when calling `searchAuthentications`.");const f={method:"POST",path:"/1/authentications/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},searchDestinations(u,h){if(!u)throw new Error("Parameter `destinationSearch` is required when calling `searchDestinations`.");if(!u.destinationIDs)throw new Error("Parameter `destinationSearch.destinationIDs` is required when calling `searchDestinations`.");const f={method:"POST",path:"/1/destinations/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},searchSources(u,h){if(!u)throw new Error("Parameter `sourceSearch` is required when calling `searchSources`.");if(!u.sourceIDs)throw new Error("Parameter `sourceSearch.sourceIDs` is required when calling `searchSources`.");const f={method:"POST",path:"/1/sources/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},searchTasks(u,h){if(!u)throw new Error("Parameter `taskSearch` is required when calling `searchTasks`.");if(!u.taskIDs)throw new Error("Parameter `taskSearch.taskIDs` is required when calling `searchTasks`.");const f={method:"POST",path:"/2/tasks/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},searchTasksV1(u,h){if(!u)throw new Error("Parameter `taskSearch` is required when calling `searchTasksV1`.");if(!u.taskIDs)throw new Error("Parameter `taskSearch.taskIDs` is required when calling `searchTasksV1`.");const f={method:"POST",path:"/1/tasks/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},searchTransformations(u,h){if(!u)throw new Error("Parameter `transformationSearch` is required when calling `searchTransformations`.");if(!u.transformationIDs)throw new Error("Parameter `transformationSearch.transformationIDs` is required when calling `searchTransformations`.");const f={method:"POST",path:"/1/transformations/search",queryParameters:{},headers:{},data:u};return l.request(f,h)},triggerDockerSourceDiscover({sourceID:u},h){if(!u)throw new Error("Parameter `sourceID` is required when calling `triggerDockerSourceDiscover`.");const f={method:"POST",path:"/1/sources/{sourceID}/discover".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{}};return h={timeouts:{connect:18e4,read:18e4,write:18e4,...h==null?void 0:h.timeouts}},l.request(f,h)},tryTransformation(u,h){if(!u)throw new Error("Parameter `transformationTry` is required when calling `tryTransformation`.");if(!u.code)throw new Error("Parameter `transformationTry.code` is required when calling `tryTransformation`.");if(!u.sampleRecord)throw new Error("Parameter `transformationTry.sampleRecord` is required when calling `tryTransformation`.");const f={method:"POST",path:"/1/transformations/try",queryParameters:{},headers:{},data:u};return l.request(f,h)},tryTransformationBeforeUpdate({transformationID:u,transformationTry:h},g){if(!u)throw new Error("Parameter `transformationID` is required when calling `tryTransformationBeforeUpdate`.");if(!h)throw new Error("Parameter `transformationTry` is required when calling `tryTransformationBeforeUpdate`.");if(!h.code)throw new Error("Parameter `transformationTry.code` is required when calling `tryTransformationBeforeUpdate`.");if(!h.sampleRecord)throw new Error("Parameter `transformationTry.sampleRecord` is required when calling `tryTransformationBeforeUpdate`.");const v={method:"POST",path:"/1/transformations/{transformationID}/try".replace("{transformationID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateAuthentication({authenticationID:u,authenticationUpdate:h},g){if(!u)throw new Error("Parameter `authenticationID` is required when calling `updateAuthentication`.");if(!h)throw new Error("Parameter `authenticationUpdate` is required when calling `updateAuthentication`.");const v={method:"PATCH",path:"/1/authentications/{authenticationID}".replace("{authenticationID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateDestination({destinationID:u,destinationUpdate:h},g){if(!u)throw new Error("Parameter `destinationID` is required when calling `updateDestination`.");if(!h)throw new Error("Parameter `destinationUpdate` is required when calling `updateDestination`.");const v={method:"PATCH",path:"/1/destinations/{destinationID}".replace("{destinationID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateSource({sourceID:u,sourceUpdate:h},g){if(!u)throw new Error("Parameter `sourceID` is required when calling `updateSource`.");if(!h)throw new Error("Parameter `sourceUpdate` is required when calling `updateSource`.");const v={method:"PATCH",path:"/1/sources/{sourceID}".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateTask({taskID:u,taskUpdate:h},g){if(!u)throw new Error("Parameter `taskID` is required when calling `updateTask`.");if(!h)throw new Error("Parameter `taskUpdate` is required when calling `updateTask`.");const v={method:"PATCH",path:"/2/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateTaskV1({taskID:u,taskUpdate:h},g){if(!u)throw new Error("Parameter `taskID` is required when calling `updateTaskV1`.");if(!h)throw new Error("Parameter `taskUpdate` is required when calling `updateTaskV1`.");const v={method:"PATCH",path:"/1/tasks/{taskID}".replace("{taskID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},updateTransformation({transformationID:u,transformationCreate:h},g){if(!u)throw new Error("Parameter `transformationID` is required when calling `updateTransformation`.");if(!h)throw new Error("Parameter `transformationCreate` is required when calling `updateTransformation`.");if(!h.code)throw new Error("Parameter `transformationCreate.code` is required when calling `updateTransformation`.");if(!h.name)throw new Error("Parameter `transformationCreate.name` is required when calling `updateTransformation`.");const v={method:"PUT",path:"/1/transformations/{transformationID}".replace("{transformationID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return l.request(v,g)},validateSource(u,h=void 0){const f={method:"POST",path:"/1/sources/validate",queryParameters:{},headers:{},data:u||{}};return h={timeouts:{connect:18e4,read:18e4,write:18e4,...h==null?void 0:h.timeouts}},l.request(f,h)},validateSourceBeforeUpdate({sourceID:u,sourceUpdate:h},g){if(!u)throw new Error("Parameter `sourceID` is required when calling `validateSourceBeforeUpdate`.");if(!h)throw new Error("Parameter `sourceUpdate` is required when calling `validateSourceBeforeUpdate`.");const v={method:"POST",path:"/1/sources/{sourceID}/validate".replace("{sourceID}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h};return g={timeouts:{connect:18e4,read:18e4,write:18e4,...g==null?void 0:g.timeouts}},l.request(v,g)}}}function TR(t,e,r,n){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");if(!r||r&&(typeof r!="string"||!rE.includes(r)))throw new Error(`\`region\` is required and must be one of the following: ${rE.join(", ")}`);return TV({appId:t,apiKey:e,region:r,timeouts:{connect:25e3,read:25e3,write:25e3},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Wy}-${t}`}),Ze()]}),...n})}const IV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:Wy,ingestionClient:TR,isOnDemandTrigger:PV,isScheduleTrigger:EV,isSubscriptionTrigger:SV},Symbol.toStringTag,{value:"Module"}));var Gy="1.18.0";function RV(){return[{url:"status.algolia.com",accept:"readWrite",protocol:"https"}]}function bV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,...i}){const a=di(t,e,r),c=pi({hosts:RV(),...i,algoliaAgent:fi({algoliaAgents:n,client:"Monitoring",version:Gy}),baseHeaders:{"content-type":"text/plain",...a.headers(),...i.baseHeaders},baseQueryParameters:{...a.queryParameters(),...i.baseQueryParameters}});return{transporter:c,appId:t,clearCache(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(()=>{})},get _ua(){return c.algoliaAgent.value},addAlgoliaAgent(l,u){c.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!r||r==="WithinHeaders"?c.baseHeaders["x-algolia-api-key"]=l:c.baseQueryParameters["x-algolia-api-key"]=l},customDelete({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customDelete`.");const f={method:"DELETE",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customGet({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customGet`.");const f={method:"GET",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customPost({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const v={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},customPut({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPut`.");const v={method:"PUT",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},getClusterIncidents({clusters:l},u){if(!l)throw new Error("Parameter `clusters` is required when calling `getClusterIncidents`.");const p={method:"GET",path:"/1/incidents/{clusters}".replace("{clusters}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getClusterStatus({clusters:l},u){if(!l)throw new Error("Parameter `clusters` is required when calling `getClusterStatus`.");const p={method:"GET",path:"/1/status/{clusters}".replace("{clusters}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getIncidents(l){const w={method:"GET",path:"/1/incidents",queryParameters:{},headers:{}};return c.request(w,l)},getIndexingTime({clusters:l},u){if(!l)throw new Error("Parameter `clusters` is required when calling `getIndexingTime`.");const p={method:"GET",path:"/1/indexing/{clusters}".replace("{clusters}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getLatency({clusters:l},u){if(!l)throw new Error("Parameter `clusters` is required when calling `getLatency`.");const p={method:"GET",path:"/1/latency/{clusters}".replace("{clusters}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getMetrics({metric:l,period:u},h){if(!l)throw new Error("Parameter `metric` is required when calling `getMetrics`.");if(!u)throw new Error("Parameter `period` is required when calling `getMetrics`.");const f={method:"GET",path:"/1/infrastructure/{metric}/period/{period}".replace("{metric}",encodeURIComponent(l)).replace("{period}",encodeURIComponent(u)),queryParameters:{},headers:{}};return c.request(f,h)},getReachability({clusters:l},u){if(!l)throw new Error("Parameter `clusters` is required when calling `getReachability`.");const p={method:"GET",path:"/1/reachability/{clusters}/probes".replace("{clusters}",encodeURIComponent(l)),queryParameters:{},headers:{}};return c.request(p,u)},getServers(l){const w={method:"GET",path:"/1/inventory/servers",queryParameters:{},headers:{}};return c.request(w,l)},getStatus(l){const w={method:"GET",path:"/1/status",queryParameters:{},headers:{}};return c.request(w,l)}}}function IR(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return bV({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Gy}-${t}`}),Ze()]}),...r})}const CV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:Gy,monitoringClient:IR},Symbol.toStringTag,{value:"Module"}));var Qy="5.18.0";function AV(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(gR([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function xV({appId:t,apiKey:e,authMode:r,algoliaAgents:n,...i}){const a=di(t,e,r),c=pi({hosts:AV(t),...i,algoliaAgent:fi({algoliaAgents:n,client:"Recommend",version:Qy}),baseHeaders:{"content-type":"text/plain",...a.headers(),...i.baseHeaders},baseQueryParameters:{...a.queryParameters(),...i.baseQueryParameters}});return{transporter:c,appId:t,clearCache(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(()=>{})},get _ua(){return c.algoliaAgent.value},addAlgoliaAgent(l,u){c.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!r||r==="WithinHeaders"?c.baseHeaders["x-algolia-api-key"]=l:c.baseQueryParameters["x-algolia-api-key"]=l},batchRecommendRules({indexName:l,model:u,recommendRule:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `batchRecommendRules`.");if(!u)throw new Error("Parameter `model` is required when calling `batchRecommendRules`.");const v={method:"POST",path:"/1/indexes/{indexName}/{model}/recommend/rules/batch".replace("{indexName}",encodeURIComponent(l)).replace("{model}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h||{}};return c.request(v,g)},customDelete({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customDelete`.");const f={method:"DELETE",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customGet({path:l,parameters:u},h){if(!l)throw new Error("Parameter `path` is required when calling `customGet`.");const f={method:"GET",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{}};return c.request(f,h)},customPost({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const v={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},customPut({path:l,parameters:u,body:h},g){if(!l)throw new Error("Parameter `path` is required when calling `customPut`.");const v={method:"PUT",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:h||{}};return c.request(v,g)},deleteRecommendRule({indexName:l,model:u,objectID:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `deleteRecommendRule`.");if(!u)throw new Error("Parameter `model` is required when calling `deleteRecommendRule`.");if(!h)throw new Error("Parameter `objectID` is required when calling `deleteRecommendRule`.");const v={method:"DELETE",path:"/1/indexes/{indexName}/{model}/recommend/rules/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{model}",encodeURIComponent(u)).replace("{objectID}",encodeURIComponent(h)),queryParameters:{},headers:{}};return c.request(v,g)},getRecommendRule({indexName:l,model:u,objectID:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `getRecommendRule`.");if(!u)throw new Error("Parameter `model` is required when calling `getRecommendRule`.");if(!h)throw new Error("Parameter `objectID` is required when calling `getRecommendRule`.");const v={method:"GET",path:"/1/indexes/{indexName}/{model}/recommend/rules/{objectID}".replace("{indexName}",encodeURIComponent(l)).replace("{model}",encodeURIComponent(u)).replace("{objectID}",encodeURIComponent(h)),queryParameters:{},headers:{}};return c.request(v,g)},getRecommendStatus({indexName:l,model:u,taskID:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `getRecommendStatus`.");if(!u)throw new Error("Parameter `model` is required when calling `getRecommendStatus`.");if(!h)throw new Error("Parameter `taskID` is required when calling `getRecommendStatus`.");const v={method:"GET",path:"/1/indexes/{indexName}/{model}/task/{taskID}".replace("{indexName}",encodeURIComponent(l)).replace("{model}",encodeURIComponent(u)).replace("{taskID}",encodeURIComponent(h)),queryParameters:{},headers:{}};return c.request(v,g)},getRecommendations(l,u){if(l&&Array.isArray(l)&&(l={requests:l}),!l)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!l.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const p={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return c.request(p,u)},searchRecommendRules({indexName:l,model:u,searchRecommendRulesParams:h},g){if(!l)throw new Error("Parameter `indexName` is required when calling `searchRecommendRules`.");if(!u)throw new Error("Parameter `model` is required when calling `searchRecommendRules`.");const v={method:"POST",path:"/1/indexes/{indexName}/{model}/recommend/rules/search".replace("{indexName}",encodeURIComponent(l)).replace("{model}",encodeURIComponent(u)),queryParameters:{},headers:{},data:h||{},useReadTransporter:!0,cacheable:!0};return c.request(v,g)}}}function RR(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return xV({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:mi(),requester:ci(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Ze(),requestsCache:Ze({serializable:!1}),hostsCache:_r({caches:[hi({key:`${Qy}-${t}`}),Ze()]}),...r})}const kV=Object.freeze(Object.defineProperty({__proto__:null,apiClientVersion:Qy,recommendClient:RR},Symbol.toStringTag,{value:"Module"}));var bR=Object.defineProperty,OV=Object.getOwnPropertyDescriptor,qV=Object.getOwnPropertyNames,NV=Object.prototype.hasOwnProperty,CR=(t,e)=>{for(var r in e)bR(t,r,{get:e[r],enumerable:!0})},DV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qV(e))!NV.call(t,i)&&i!==r&&bR(t,i,{get:()=>e[i],enumerable:!(n=OV(e,i))||n.enumerable});return t},On=(t,e,r)=>(DV(t,e,"default"),r),AR={};CR(AR,{algoliasearch:()=>xR,apiClientVersion:()=>Jl});var sn={};CR(sn,{apiClientVersion:()=>Jl});On(sn,iV);On(sn,aV);On(sn,cV);On(sn,fV);On(sn,gV);On(sn,wV);On(sn,IV);On(sn,CV);On(sn,kV);On(AR,sn);function xR(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");const n=SR(t,e,r);return{...n,get _ua(){return n.transporter.algoliaAgent.value},initAbtesting:i=>vR(i.appId||t,i.apiKey||e,i.region,i.options),initAnalytics:i=>wR(i.appId||t,i.apiKey||e,i.region,i.options),initIngestion:i=>TR(i.appId||t,i.apiKey||e,i.region,i.options),initInsights:i=>_R(i.appId||t,i.apiKey||e,i.region,i.options),initMonitoring:(i={})=>IR(i.appId||t,i.apiKey||e,i.options),initPersonalization:i=>PR(i.appId||t,i.apiKey||e,i.region,i.options),initQuerySuggestions:i=>ER(i.appId||t,i.apiKey||e,i.region,i.options),initRecommend:(i={})=>RR(i.appId||t,i.apiKey||e,i.options)}}const LV=async t=>{try{const e=Zs.currentUser.uid,r=oI(Hd,"users",e,"followed_stories"),n=Iy(r,t.story_name);await vI(n,t),$e.success(" theo di b truyn!",{position:"top-center"})}catch(e){console.error("Error following story: ",e),$e.error("C li khi theo di b truyn!",{position:"bottom-center"})}},jV=xR("0PR3IEIT7N","dd1ac77a04fedf4e10260c10705168a8"),FV=({hit:t})=>{const[e,r]=B.useState(!1),[n,i]=B.useState(!1),a=B.useRef(null);B.useEffect(()=>{a.current&&i(a.current.scrollHeight>a.current.clientHeight)},[t.description]);const c=()=>{r(!e)},l=()=>{LV(t)};return W.jsxs("div",{className:"hit-item",children:[W.jsx("img",{src:t.image,alt:t.story_name}),W.jsxs("div",{className:"hit-item-content",children:[W.jsxs("div",{className:"hit-item-name",children:[W.jsx("h3",{children:W.jsx(jp,{attribute:"story_name",hit:t})}),W.jsx("button",{onClick:l,className:"follow-button",children:" Theo doi ngay"})]}),W.jsxs("div",{children:[W.jsx("p",{className:`description ${e?"expanded":""}`,ref:a,children:W.jsx(jp,{attribute:"description",hit:t})}),n&&W.jsx("button",{className:"read-more-button",onClick:c,children:e?"n bt":"Xem thm"})]}),W.jsxs("p",{className:"author",children:["Tac gia:"," ",t.author?t.author:t.author_name?t.author_name:"Khng c"]}),W.jsxs("p",{className:"artist",children:["Minh hoa:"," ",t.artist?t.artist:t.artist_name?t.artist_name:"Khng c"]}),W.jsxs("p",{className:"genres",children:["Th loai: ",W.jsx(jp,{attribute:"genres",hit:t})]}),W.jsxs("p",{className:"chapters_count",children:["S tp: ",t.chapters_count," ",t.chapter_count]}),W.jsxs("p",{className:"status",children:["Tinh trang: ",t.status]})]})]})};function MV(){return W.jsxs(W.Fragment,{children:[W.jsx(Ca,{}),W.jsx("img",{className:"bg-image-left",src:PE,alt:"Image"}),W.jsx("img",{className:"bg-image-right",src:EE,alt:"Image"}),W.jsxs("div",{className:"search-page",children:[W.jsx("h1",{className:"search-title",children:"Tim kim Truyn & Tiu thuyt"}),W.jsxs(pM,{indexName:"normalized_stories",searchClient:jV,children:[W.jsx(V6,{translations:{placeholder:"Tn truyn, th loai, tac gia..."}}),W.jsx("div",{className:"hits-container",children:W.jsx(s6,{hitComponent:FV})}),W.jsx(y6,{})]})]})]})}const VV=()=>W.jsx(W.Fragment,{children:W.jsxs(oC,{children:[W.jsxs(L2,{children:[W.jsx(Vs,{path:"/",element:W.jsx(ZC,{})}),W.jsx(Vs,{path:"/mylist",element:W.jsx(b4,{})}),W.jsx(Vs,{path:"/signin",element:W.jsx(lj,{})}),W.jsx(Vs,{path:"/signup",element:W.jsx(cj,{})}),W.jsx(Vs,{path:"/user",element:W.jsx(hj,{})}),W.jsx(Vs,{path:"/search",element:W.jsx(MV,{})})]}),W.jsx(uj,{})]})});Wb.createRoot(document.getElementById("root")).render(W.jsx(pe.StrictMode,{children:W.jsx(VV,{})}));
